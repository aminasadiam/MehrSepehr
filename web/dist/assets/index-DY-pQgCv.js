var Qc=(r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports);var q2=Qc((Kt,Vt)=>{(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const n of l)if(n.type==="childList")for(const i of n.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function t(l){const n={};return l.integrity&&(n.integrity=l.integrity),l.referrerPolicy&&(n.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?n.credentials="include":l.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function s(l){if(l.ep)return;l.ep=!0;const n=t(l);fetch(l.href,n)}})();const Jc=!1,ed=(r,e)=>r===e,tn=Symbol("solid-proxy"),wo=typeof Proxy=="function",td=Symbol("solid-track"),rn={equals:ed};let _o=No;const Pr=1,sn=2,So={owned:null,cleanups:null,context:null,owner:null},An={};var Ye=null;let kn=null,rd=null,st=null,Rt=null,Lr=null,fn=0;function yl(r,e){const t=st,s=Ye,l=r.length===0,n=e===void 0?s:e,i=l?So:{owned:null,cleanups:null,context:n?n.context:null,owner:n},a=l?r:()=>r(()=>Pt(()=>_l(i)));Ye=i,st=null;try{return $r(a,!0)}finally{st=t,Ye=s}}function Q(r,e){e=e?Object.assign({},rn,e):rn;const t={value:r,observers:null,observerSlots:null,comparator:e.equals||void 0},s=l=>(typeof l=="function"&&(l=l(t.value)),Eo(t,l));return[ko.bind(t),s]}function sd(r,e,t){const s=gn(r,e,!0,Pr);Gs(s)}function G(r,e,t){const s=gn(r,e,!1,Pr);Gs(s)}function Or(r,e,t){_o=dd;const s=gn(r,e,!1,Pr);s.user=!0,Lr?Lr.push(s):Gs(s)}function He(r,e,t){t=t?Object.assign({},rn,t):rn;const s=gn(r,e,!0,0);return s.observers=null,s.observerSlots=null,s.comparator=t.equals||void 0,Gs(s),ko.bind(s)}function ld(r){return r&&typeof r=="object"&&"then"in r}function ur(r,e,t){let s,l,n;s=!0,l=r,n={};let i=null,a=An,c=!1,d="initialValue"in n,g=typeof s=="function"&&He(s);const m=new Set,[h,p]=(n.storage||Q)(n.initialValue),[y,$]=Q(void 0),[w,S]=Q(void 0,{equals:!1}),[E,A]=Q(d?"ready":"unresolved");function O(z,ie,b,C){return i===z&&(i=null,C!==void 0&&(d=!0),(z===a||ie===a)&&n.onHydrated&&queueMicrotask(()=>n.onHydrated(C,{value:ie})),a=An,F(ie,b)),ie}function F(z,ie){$r(()=>{ie===void 0&&p(()=>z),A(ie!==void 0?"errored":d?"ready":"unresolved"),$(ie);for(const b of m.keys())b.decrement();m.clear()},!1)}function U(){const z=ad,ie=h(),b=y();if(b!==void 0&&!i)throw b;return st&&st.user,ie}function M(z=!0){if(z!==!1&&c)return;c=!1;const ie=g?g():s;if(ie==null||ie===!1){O(i,Pt(h));return}let b;const C=a!==An?a:Pt(()=>{try{return l(ie,{value:h(),refetching:z})}catch(x){b=x}});if(b!==void 0){O(i,void 0,Yl(b),ie);return}else if(!ld(C))return O(i,C,void 0,ie),C;return i=C,"v"in C?(C.s===1?O(i,C.v,void 0,ie):O(i,void 0,Yl(C.v),ie),C):(c=!0,queueMicrotask(()=>c=!1),$r(()=>{A(d?"refreshing":"pending"),S()},!1),C.then(x=>O(C,x,void 0,ie),x=>O(C,void 0,Yl(x),ie)))}Object.defineProperties(U,{state:{get:()=>E()},error:{get:()=>y()},loading:{get(){const z=E();return z==="pending"||z==="refreshing"}},latest:{get(){if(!d)return U();const z=y();if(z&&!i)throw z;return h()}}});let L=Ye;return g?sd(()=>(L=Ye,M(!1))):M(!1),[U,{refetch:z=>$i(L,()=>M(z)),mutate:p}]}function nd(r){return $r(r,!1)}function Pt(r){if(st===null)return r();const e=st;st=null;try{return r()}finally{st=e}}function yi(r,e,t){const s=Array.isArray(r);let l,n=t&&t.defer;return i=>{let a;if(s){a=Array(r.length);for(let d=0;d<r.length;d++)a[d]=r[d]()}else a=r();if(n)return n=!1,i;const c=Pt(()=>e(a,l,i));return l=a,c}}function Zt(r){Or(()=>Pt(r))}function Bs(r){return Ye===null||(Ye.cleanups===null?Ye.cleanups=[r]:Ye.cleanups.push(r)),r}function Co(){return Ye}function $i(r,e){const t=Ye,s=st;Ye=r,st=null;try{return $r(e,!0)}catch(l){Si(l)}finally{Ye=t,st=s}}function id(r){const e=st,t=Ye;return Promise.resolve().then(()=>{st=e,Ye=t;let s;return $r(r,!1),st=Ye=null,s?s.done:void 0})}const[P2,j2]=Q(!1);function Ao(r,e){const t=Symbol("context");return{id:t,Provider:ud(t),defaultValue:r}}function wi(r){let e;return Ye&&Ye.context&&(e=Ye.context[r.id])!==void 0?e:r.defaultValue}function _i(r){const e=He(r),t=He(()=>Xn(e()));return t.toArray=()=>{const s=t();return Array.isArray(s)?s:s!=null?[s]:[]},t}let ad;function ko(){if(this.sources&&this.state)if(this.state===Pr)Gs(this);else{const r=Rt;Rt=null,$r(()=>nn(this),!1),Rt=r}if(st){const r=this.observers?this.observers.length:0;st.sources?(st.sources.push(this),st.sourceSlots.push(r)):(st.sources=[this],st.sourceSlots=[r]),this.observers?(this.observers.push(st),this.observerSlots.push(st.sources.length-1)):(this.observers=[st],this.observerSlots=[st.sources.length-1])}return this.value}function Eo(r,e,t){let s=r.value;return(!r.comparator||!r.comparator(s,e))&&(r.value=e,r.observers&&r.observers.length&&$r(()=>{for(let l=0;l<r.observers.length;l+=1){const n=r.observers[l],i=kn&&kn.running;i&&kn.disposed.has(n),(i?!n.tState:!n.state)&&(n.pure?Rt.push(n):Lr.push(n),n.observers&&To(n)),i||(n.state=Pr)}if(Rt.length>1e6)throw Rt=[],new Error},!1)),e}function Gs(r){if(!r.fn)return;_l(r);const e=fn;od(r,r.value,e)}function od(r,e,t){let s;const l=Ye,n=st;st=Ye=r;try{s=r.fn(e)}catch(i){return r.pure&&(r.state=Pr,r.owned&&r.owned.forEach(_l),r.owned=null),r.updatedAt=t+1,Si(i)}finally{st=n,Ye=l}(!r.updatedAt||r.updatedAt<=t)&&(r.updatedAt!=null&&"observers"in r?Eo(r,s):r.value=s,r.updatedAt=t)}function gn(r,e,t,s=Pr,l){const n={fn:r,state:s,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:e,owner:Ye,context:Ye?Ye.context:null,pure:t};return Ye===null||Ye!==So&&(Ye.owned?Ye.owned.push(n):Ye.owned=[n]),n}function ln(r){if(r.state===0)return;if(r.state===sn)return nn(r);if(r.suspense&&Pt(r.suspense.inFallback))return r.suspense.effects.push(r);const e=[r];for(;(r=r.owner)&&(!r.updatedAt||r.updatedAt<fn);)r.state&&e.push(r);for(let t=e.length-1;t>=0;t--)if(r=e[t],r.state===Pr)Gs(r);else if(r.state===sn){const s=Rt;Rt=null,$r(()=>nn(r,e[0]),!1),Rt=s}}function $r(r,e){if(Rt)return r();let t=!1;e||(Rt=[]),Lr?t=!0:Lr=[],fn++;try{const s=r();return cd(t),s}catch(s){t||(Lr=null),Rt=null,Si(s)}}function cd(r){if(Rt&&(No(Rt),Rt=null),r)return;const e=Lr;Lr=null,e.length&&$r(()=>_o(e),!1)}function No(r){for(let e=0;e<r.length;e++)ln(r[e])}function dd(r){let e,t=0;for(e=0;e<r.length;e++){const s=r[e];s.user?r[t++]=s:ln(s)}for(e=0;e<t;e++)ln(r[e])}function nn(r,e){r.state=0;for(let t=0;t<r.sources.length;t+=1){const s=r.sources[t];if(s.sources){const l=s.state;l===Pr?s!==e&&(!s.updatedAt||s.updatedAt<fn)&&ln(s):l===sn&&nn(s,e)}}}function To(r){for(let e=0;e<r.observers.length;e+=1){const t=r.observers[e];t.state||(t.state=sn,t.pure?Rt.push(t):Lr.push(t),t.observers&&To(t))}}function _l(r){let e;if(r.sources)for(;r.sources.length;){const t=r.sources.pop(),s=r.sourceSlots.pop(),l=t.observers;if(l&&l.length){const n=l.pop(),i=t.observerSlots.pop();s<l.length&&(n.sourceSlots[i]=s,l[s]=n,t.observerSlots[s]=i)}}if(r.tOwned){for(e=r.tOwned.length-1;e>=0;e--)_l(r.tOwned[e]);delete r.tOwned}if(r.owned){for(e=r.owned.length-1;e>=0;e--)_l(r.owned[e]);r.owned=null}if(r.cleanups){for(e=r.cleanups.length-1;e>=0;e--)r.cleanups[e]();r.cleanups=null}r.state=0}function Yl(r){return r instanceof Error?r:new Error(typeof r=="string"?r:"Unknown error",{cause:r})}function Si(r,e=Ye){throw Yl(r)}function Xn(r){if(typeof r=="function"&&!r.length)return Xn(r());if(Array.isArray(r)){const e=[];for(let t=0;t<r.length;t++){const s=Xn(r[t]);Array.isArray(s)?e.push.apply(e,s):e.push(s)}return e}return r}function ud(r,e){return function(s){let l;return G(()=>l=Pt(()=>(Ye.context={...Ye.context,[r]:s.value},_i(()=>s.children))),void 0),l}}const hd=Symbol("fallback");function Ji(r){for(let e=0;e<r.length;e++)r[e]()}function fd(r,e,t={}){let s=[],l=[],n=[],i=0,a=e.length>1?[]:null;return Bs(()=>Ji(n)),()=>{let c=r()||[],d=c.length,g,m;return c[td],Pt(()=>{let p,y,$,w,S,E,A,O,F;if(d===0)i!==0&&(Ji(n),n=[],s=[],l=[],i=0,a&&(a=[])),t.fallback&&(s=[hd],l[0]=yl(U=>(n[0]=U,t.fallback())),i=1);else if(i===0){for(l=new Array(d),m=0;m<d;m++)s[m]=c[m],l[m]=yl(h);i=d}else{for($=new Array(d),w=new Array(d),a&&(S=new Array(d)),E=0,A=Math.min(i,d);E<A&&s[E]===c[E];E++);for(A=i-1,O=d-1;A>=E&&O>=E&&s[A]===c[O];A--,O--)$[O]=l[A],w[O]=n[A],a&&(S[O]=a[A]);for(p=new Map,y=new Array(O+1),m=O;m>=E;m--)F=c[m],g=p.get(F),y[m]=g===void 0?-1:g,p.set(F,m);for(g=E;g<=A;g++)F=s[g],m=p.get(F),m!==void 0&&m!==-1?($[m]=l[g],w[m]=n[g],a&&(S[m]=a[g]),m=y[m],p.set(F,m)):n[g]();for(m=E;m<d;m++)m in $?(l[m]=$[m],n[m]=w[m],a&&(a[m]=S[m],a[m](m))):l[m]=yl(h);l=l.slice(0,i=d),s=c.slice(0)}return l});function h(p){if(n[m]=p,a){const[y,$]=Q(m);return a[m]=$,e(c[m],y)}return e(c[m])}}}function _(r,e){return Pt(()=>r(e||{}))}function Ml(){return!0}const Yn={get(r,e,t){return e===tn?t:r.get(e)},has(r,e){return e===tn?!0:r.has(e)},set:Ml,deleteProperty:Ml,getOwnPropertyDescriptor(r,e){return{configurable:!0,enumerable:!0,get(){return r.get(e)},set:Ml,deleteProperty:Ml}},ownKeys(r){return r.keys()}};function En(r){return(r=typeof r=="function"?r():r)?r:{}}function gd(){for(let r=0,e=this.length;r<e;++r){const t=this[r]();if(t!==void 0)return t}}function Qn(...r){let e=!1;for(let i=0;i<r.length;i++){const a=r[i];e=e||!!a&&tn in a,r[i]=typeof a=="function"?(e=!0,He(a)):a}if(wo&&e)return new Proxy({get(i){for(let a=r.length-1;a>=0;a--){const c=En(r[a])[i];if(c!==void 0)return c}},has(i){for(let a=r.length-1;a>=0;a--)if(i in En(r[a]))return!0;return!1},keys(){const i=[];for(let a=0;a<r.length;a++)i.push(...Object.keys(En(r[a])));return[...new Set(i)]}},Yn);const t={},s=Object.create(null);for(let i=r.length-1;i>=0;i--){const a=r[i];if(!a)continue;const c=Object.getOwnPropertyNames(a);for(let d=c.length-1;d>=0;d--){const g=c[d];if(g==="__proto__"||g==="constructor")continue;const m=Object.getOwnPropertyDescriptor(a,g);if(!s[g])s[g]=m.get?{enumerable:!0,configurable:!0,get:gd.bind(t[g]=[m.get.bind(a)])}:m.value!==void 0?m:void 0;else{const h=t[g];h&&(m.get?h.push(m.get.bind(a)):m.value!==void 0&&h.push(()=>m.value))}}}const l={},n=Object.keys(s);for(let i=n.length-1;i>=0;i--){const a=n[i],c=s[a];c&&c.get?Object.defineProperty(l,a,c):l[a]=c?c.value:void 0}return l}function pd(r,...e){const t=e.length;if(wo&&tn in r){const l=t>1?e.flat():e[0],n=e.map(i=>new Proxy({get(a){return i.includes(a)?r[a]:void 0},has(a){return i.includes(a)&&a in r},keys(){return i.filter(a=>a in r)}},Yn));return n.push(new Proxy({get(i){return l.includes(i)?void 0:r[i]},has(i){return l.includes(i)?!1:i in r},keys(){return Object.keys(r).filter(i=>!l.includes(i))}},Yn)),n}const s=[];for(let l=0;l<=t;l++)s[l]={};for(const l of Object.getOwnPropertyNames(r)){let n=t;for(let c=0;c<e.length;c++)if(e[c].includes(l)){n=c;break}const i=Object.getOwnPropertyDescriptor(r,l);!i.get&&!i.set&&i.enumerable&&i.writable&&i.configurable?s[n][l]=i.value:Object.defineProperty(s[n],l,i)}return s}const bd=r=>`Stale read from <${r}>.`;function ke(r){const e="fallback"in r&&{fallback:()=>r.fallback};return He(fd(()=>r.each,r.children,e||void 0))}function ne(r){const e=r.keyed,t=He(()=>r.when,void 0,void 0),s=e?t:He(t,void 0,{equals:(l,n)=>!l==!n});return He(()=>{const l=s();if(l){const n=r.children;return typeof n=="function"&&n.length>0?Pt(()=>n(e?l:()=>{if(!Pt(s))throw bd("Show");return t()})):n}return r.fallback},void 0,void 0)}const md=["allowfullscreen","async","alpha","autofocus","autoplay","checked","controls","default","disabled","formnovalidate","hidden","indeterminate","inert","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","seamless","selected","adauctionheaders","browsingtopics","credentialless","defaultchecked","defaultmuted","defaultselected","defer","disablepictureinpicture","disableremoteplayback","preservespitch","shadowrootclonable","shadowrootcustomelementregistry","shadowrootdelegatesfocus","shadowrootserializable","sharedstoragewritable"],xd=new Set(["className","value","readOnly","noValidate","formNoValidate","isMap","noModule","playsInline","adAuctionHeaders","allowFullscreen","browsingTopics","defaultChecked","defaultMuted","defaultSelected","disablePictureInPicture","disableRemotePlayback","preservesPitch","shadowRootClonable","shadowRootCustomElementRegistry","shadowRootDelegatesFocus","shadowRootSerializable","sharedStorageWritable",...md]),vd=new Set(["innerHTML","textContent","innerText","children"]),yd=Object.assign(Object.create(null),{className:"class",htmlFor:"for"}),$d=Object.assign(Object.create(null),{class:"className",novalidate:{$:"noValidate",FORM:1},formnovalidate:{$:"formNoValidate",BUTTON:1,INPUT:1},ismap:{$:"isMap",IMG:1},nomodule:{$:"noModule",SCRIPT:1},playsinline:{$:"playsInline",VIDEO:1},readonly:{$:"readOnly",INPUT:1,TEXTAREA:1},adauctionheaders:{$:"adAuctionHeaders",IFRAME:1},allowfullscreen:{$:"allowFullscreen",IFRAME:1},browsingtopics:{$:"browsingTopics",IMG:1},defaultchecked:{$:"defaultChecked",INPUT:1},defaultmuted:{$:"defaultMuted",AUDIO:1,VIDEO:1},defaultselected:{$:"defaultSelected",OPTION:1},disablepictureinpicture:{$:"disablePictureInPicture",VIDEO:1},disableremoteplayback:{$:"disableRemotePlayback",AUDIO:1,VIDEO:1},preservespitch:{$:"preservesPitch",AUDIO:1,VIDEO:1},shadowrootclonable:{$:"shadowRootClonable",TEMPLATE:1},shadowrootdelegatesfocus:{$:"shadowRootDelegatesFocus",TEMPLATE:1},shadowrootserializable:{$:"shadowRootSerializable",TEMPLATE:1},sharedstoragewritable:{$:"sharedStorageWritable",IFRAME:1,IMG:1}});function wd(r,e){const t=$d[r];return typeof t=="object"?t[e]?t.$:void 0:t}const _d=new Set(["beforeinput","click","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"]),Ne=r=>He(()=>r());function Sd(r,e,t){let s=t.length,l=e.length,n=s,i=0,a=0,c=e[l-1].nextSibling,d=null;for(;i<l||a<n;){if(e[i]===t[a]){i++,a++;continue}for(;e[l-1]===t[n-1];)l--,n--;if(l===i){const g=n<s?a?t[a-1].nextSibling:t[n-a]:c;for(;a<n;)r.insertBefore(t[a++],g)}else if(n===a)for(;i<l;)(!d||!d.has(e[i]))&&e[i].remove(),i++;else if(e[i]===t[n-1]&&t[a]===e[l-1]){const g=e[--l].nextSibling;r.insertBefore(t[a++],e[i++].nextSibling),r.insertBefore(t[--n],g),e[l]=t[n]}else{if(!d){d=new Map;let m=a;for(;m<n;)d.set(t[m],m++)}const g=d.get(e[i]);if(g!=null)if(a<g&&g<n){let m=i,h=1,p;for(;++m<l&&m<n&&!((p=d.get(e[m]))==null||p!==g+h);)h++;if(h>g-a){const y=e[i];for(;a<g;)r.insertBefore(t[a++],y)}else r.replaceChild(t[a++],e[i++])}else i++;else e[i++].remove()}}}const ea="_$DX_DELEGATE";function Cd(r,e,t,s={}){let l;return yl(n=>{l=n,e===document?r():u(e,r(),e.firstChild?null:void 0,t)},s.owner),()=>{l(),e.textContent=""}}function v(r,e,t,s){let l;const n=()=>{const a=s?document.createElementNS("http://www.w3.org/1998/Math/MathML","template"):document.createElement("template");return a.innerHTML=r,t?a.content.firstChild.firstChild:s?a.firstChild:a.content.firstChild},i=e?()=>Pt(()=>document.importNode(l||(l=n()),!0)):()=>(l||(l=n())).cloneNode(!0);return i.cloneNode=i,i}function gt(r,e=window.document){const t=e[ea]||(e[ea]=new Set);for(let s=0,l=r.length;s<l;s++){const n=r[s];t.has(n)||(t.add(n),e.addEventListener(n,Ld))}}function Le(r,e,t){t==null?r.removeAttribute(e):r.setAttribute(e,t)}function Ad(r,e,t){t?r.setAttribute(e,""):r.removeAttribute(e)}function tt(r,e){e==null?r.removeAttribute("class"):r.className=e}function Io(r,e,t,s){if(s)Array.isArray(t)?(r[`$$${e}`]=t[0],r[`$$${e}Data`]=t[1]):r[`$$${e}`]=t;else if(Array.isArray(t)){const l=t[0];r.addEventListener(e,t[0]=n=>l.call(r,t[1],n))}else r.addEventListener(e,t,typeof t!="function"&&t)}function kd(r,e,t={}){const s=Object.keys(e||{}),l=Object.keys(t);let n,i;for(n=0,i=l.length;n<i;n++){const a=l[n];!a||a==="undefined"||e[a]||(ta(r,a,!1),delete t[a])}for(n=0,i=s.length;n<i;n++){const a=s[n],c=!!e[a];!a||a==="undefined"||t[a]===c||!c||(ta(r,a,!0),t[a]=c)}return t}function Ed(r,e,t){if(!e)return t?Le(r,"style"):e;const s=r.style;if(typeof e=="string")return s.cssText=e;typeof t=="string"&&(s.cssText=t=void 0),t||(t={}),e||(e={});let l,n;for(n in t)e[n]==null&&s.removeProperty(n),delete t[n];for(n in e)l=e[n],l!==t[n]&&(s.setProperty(n,l),t[n]=l);return t}function Lo(r,e,t){t!=null?r.style.setProperty(e,t):r.style.removeProperty(e)}function Nd(r,e={},t,s){const l={};return G(()=>l.children=Sl(r,e.children,l.children)),G(()=>typeof e.ref=="function"&&Oo(e.ref,r)),G(()=>Td(r,e,t,!0,l,!0)),l}function Oo(r,e,t){return Pt(()=>r(e,t))}function u(r,e,t,s){if(t!==void 0&&!s&&(s=[]),typeof e!="function")return Sl(r,e,s,t);G(l=>Sl(r,e(),l,t),s)}function Td(r,e,t,s,l={},n=!1){e||(e={});for(const i in l)if(!(i in e)){if(i==="children")continue;l[i]=ra(r,i,null,l[i],t,n,e)}for(const i in e){if(i==="children")continue;const a=e[i];l[i]=ra(r,i,a,l[i],t,n,e)}}function Id(r){return r.toLowerCase().replace(/-([a-z])/g,(e,t)=>t.toUpperCase())}function ta(r,e,t){const s=e.trim().split(/\s+/);for(let l=0,n=s.length;l<n;l++)r.classList.toggle(s[l],t)}function ra(r,e,t,s,l,n,i){let a,c,d,g,m;if(e==="style")return Ed(r,t,s);if(e==="classList")return kd(r,t,s);if(t===s)return s;if(e==="ref")n||t(r);else if(e.slice(0,3)==="on:"){const h=e.slice(3);s&&r.removeEventListener(h,s,typeof s!="function"&&s),t&&r.addEventListener(h,t,typeof t!="function"&&t)}else if(e.slice(0,10)==="oncapture:"){const h=e.slice(10);s&&r.removeEventListener(h,s,!0),t&&r.addEventListener(h,t,!0)}else if(e.slice(0,2)==="on"){const h=e.slice(2).toLowerCase(),p=_d.has(h);if(!p&&s){const y=Array.isArray(s)?s[0]:s;r.removeEventListener(h,y)}(p||t)&&(Io(r,h,t,p),p&&gt([h]))}else e.slice(0,5)==="attr:"?Le(r,e.slice(5),t):e.slice(0,5)==="bool:"?Ad(r,e.slice(5),t):(m=e.slice(0,5)==="prop:")||(d=vd.has(e))||(g=wd(e,r.tagName))||(c=xd.has(e))||(a=r.nodeName.includes("-")||"is"in i)?(m&&(e=e.slice(5),c=!0),e==="class"||e==="className"?tt(r,t):a&&!c&&!d?r[Id(e)]=t:r[g||e]=t):Le(r,yd[e]||e,t);return t}function Ld(r){let e=r.target;const t=`$$${r.type}`,s=r.target,l=r.currentTarget,n=c=>Object.defineProperty(r,"target",{configurable:!0,value:c}),i=()=>{const c=e[t];if(c&&!e.disabled){const d=e[`${t}Data`];if(d!==void 0?c.call(e,d,r):c.call(e,r),r.cancelBubble)return}return e.host&&typeof e.host!="string"&&!e.host._$host&&e.contains(r.target)&&n(e.host),!0},a=()=>{for(;i()&&(e=e._$host||e.parentNode||e.host););};if(Object.defineProperty(r,"currentTarget",{configurable:!0,get(){return e||document}}),r.composedPath){const c=r.composedPath();n(c[0]);for(let d=0;d<c.length-2&&(e=c[d],!!i());d++){if(e._$host){e=e._$host,a();break}if(e.parentNode===l)break}}else a();n(s)}function Sl(r,e,t,s,l){for(;typeof t=="function";)t=t();if(e===t)return t;const n=typeof e,i=s!==void 0;if(r=i&&t[0]&&t[0].parentNode||r,n==="string"||n==="number"){if(n==="number"&&(e=e.toString(),e===t))return t;if(i){let a=t[0];a&&a.nodeType===3?a.data!==e&&(a.data=e):a=document.createTextNode(e),t=Os(r,t,s,a)}else t!==""&&typeof t=="string"?t=r.firstChild.data=e:t=r.textContent=e}else if(e==null||n==="boolean")t=Os(r,t,s);else{if(n==="function")return G(()=>{let a=e();for(;typeof a=="function";)a=a();t=Sl(r,a,t,s)}),()=>t;if(Array.isArray(e)){const a=[],c=t&&Array.isArray(t);if(Jn(a,e,t,l))return G(()=>t=Sl(r,a,t,s,!0)),()=>t;if(a.length===0){if(t=Os(r,t,s),i)return t}else c?t.length===0?sa(r,a,s):Sd(r,t,a):(t&&Os(r),sa(r,a));t=a}else if(e.nodeType){if(Array.isArray(t)){if(i)return t=Os(r,t,s,e);Os(r,t,null,e)}else t==null||t===""||!r.firstChild?r.appendChild(e):r.replaceChild(e,r.firstChild);t=e}}return t}function Jn(r,e,t,s){let l=!1;for(let n=0,i=e.length;n<i;n++){let a=e[n],c=t&&t[r.length],d;if(!(a==null||a===!0||a===!1))if((d=typeof a)=="object"&&a.nodeType)r.push(a);else if(Array.isArray(a))l=Jn(r,a,c)||l;else if(d==="function")if(s){for(;typeof a=="function";)a=a();l=Jn(r,Array.isArray(a)?a:[a],Array.isArray(c)?c:[c])||l}else r.push(a),l=!0;else{const g=String(a);c&&c.nodeType===3&&c.data===g?r.push(c):r.push(document.createTextNode(g))}}return l}function sa(r,e,t=null){for(let s=0,l=e.length;s<l;s++)r.insertBefore(e[s],t)}function Os(r,e,t,s){if(t===void 0)return r.textContent="";const l=s||document.createTextNode("");if(e.length){let n=!1;for(let i=e.length-1;i>=0;i--){const a=e[i];if(l!==a){const c=a.parentNode===r;!n&&!i?c?r.replaceChild(l,a):r.insertBefore(l,t):c&&a.remove()}else n=!0}}else r.insertBefore(l,t);return[l]}const Od=!1;function qo(){let r=new Set;function e(l){return r.add(l),()=>r.delete(l)}let t=!1;function s(l,n){if(t)return!(t=!1);const i={to:l,options:n,defaultPrevented:!1,preventDefault:()=>i.defaultPrevented=!0};for(const a of r)a.listener({...i,from:a.location,retry:c=>{c&&(t=!0),a.navigate(l,{...n,resolve:!1})}});return!i.defaultPrevented}return{subscribe:e,confirm:s}}let ei;function Ci(){(!window.history.state||window.history.state._depth==null)&&window.history.replaceState({...window.history.state,_depth:window.history.length-1},""),ei=window.history.state._depth}Ci();function qd(r){return{...r,_depth:window.history.state&&window.history.state._depth}}function Rd(r,e){let t=!1;return()=>{const s=ei;Ci();const l=s==null?null:ei-s;if(t){t=!1;return}l&&e(l)?(t=!0,window.history.go(-l)):r()}}const Pd=/^(?:[a-z0-9]+:)?\/\//i,jd=/^\/+|(\/)\/+$/g,Ro="http://sr";function cs(r,e=!1){const t=r.replace(jd,"$1");return t?e||/^[?#]/.test(t)?t:"/"+t:""}function Ql(r,e,t){if(Pd.test(e))return;const s=cs(r),l=t&&cs(t);let n="";return!l||e.startsWith("/")?n=s:l.toLowerCase().indexOf(s.toLowerCase())!==0?n=s+l:n=l,(n||"/")+cs(e,!n)}function Dd(r,e){if(r==null)throw new Error(e);return r}function Bd(r,e){return cs(r).replace(/\/*(\*.*)?$/g,"")+cs(e)}function Po(r){const e={};return r.searchParams.forEach((t,s)=>{s in e?Array.isArray(e[s])?e[s].push(t):e[s]=[e[s],t]:e[s]=t}),e}function Md(r,e,t){const[s,l]=r.split("/*",2),n=s.split("/").filter(Boolean),i=n.length;return a=>{const c=a.split("/").filter(Boolean),d=c.length-i;if(d<0||d>0&&l===void 0&&!e)return null;const g={path:i?"":"/",params:{}},m=h=>t===void 0?void 0:t[h];for(let h=0;h<i;h++){const p=n[h],y=p[0]===":",$=y?c[h]:c[h].toLowerCase(),w=y?p.slice(1):p.toLowerCase();if(y&&Nn($,m(w)))g.params[w]=$;else if(y||!Nn($,w))return null;g.path+=`/${$}`}if(l){const h=d?c.slice(-d).join("/"):"";if(Nn(h,m(l)))g.params[l]=h;else return null}return g}}function Nn(r,e){const t=s=>s===r;return e===void 0?!0:typeof e=="string"?t(e):typeof e=="function"?e(r):Array.isArray(e)?e.some(t):e instanceof RegExp?e.test(r):!1}function Ud(r){const[e,t]=r.pattern.split("/*",2),s=e.split("/").filter(Boolean);return s.reduce((l,n)=>l+(n.startsWith(":")?2:3),s.length-(t===void 0?0:1))}function jo(r){const e=new Map,t=Co();return new Proxy({},{get(s,l){return e.has(l)||$i(t,()=>e.set(l,He(()=>r()[l]))),e.get(l)()},getOwnPropertyDescriptor(){return{enumerable:!0,configurable:!0}},ownKeys(){return Reflect.ownKeys(r())}})}function Fd(r,e){const t=new URLSearchParams(r);Object.entries(e).forEach(([l,n])=>{n==null||n===""||n instanceof Array&&!n.length?t.delete(l):n instanceof Array?(t.delete(l),n.forEach(i=>{t.append(l,String(i))})):t.set(l,String(n))});const s=t.toString();return s?`?${s}`:""}function Do(r){let e=/(\/?\:[^\/]+)\?/.exec(r);if(!e)return[r];let t=r.slice(0,e.index),s=r.slice(e.index+e[0].length);const l=[t,t+=e[1]];for(;e=/^(\/\:[^\/]+)\?/.exec(s);)l.push(t+=e[1]),s=s.slice(e[0].length);return Do(s).reduce((n,i)=>[...n,...l.map(a=>a+i)],[])}const zd=100,Bo=Ao(),Ai=Ao(),Ll=()=>Dd(wi(Bo),"<A> and 'use' router primitives can be only used inside a Route."),Hd=()=>wi(Ai)||Ll().base,Gd=r=>{const e=Hd();return He(()=>e.resolvePath(r()))},Kd=r=>{const e=Ll();return He(()=>{const t=r();return t!==void 0?e.renderPath(t):t})},bs=()=>Ll().navigatorFactory(),pn=()=>Ll().location,Mo=()=>Ll().params,Vd=()=>{const r=pn(),e=bs(),t=(s,l)=>{const n=Pt(()=>Fd(r.search,s)+r.hash);e(n,{scroll:!1,resolve:!1,...l})};return[r.query,t]};function Wd(r,e=""){const{component:t,preload:s,load:l,children:n,info:i}=r,a=!n||Array.isArray(n)&&!n.length,c={key:r,component:t,preload:s||l,info:i};return Uo(r.path).reduce((d,g)=>{for(const m of Do(g)){const h=Bd(e,m);let p=a?h:h.split("/*",1)[0];p=p.split("/").map(y=>y.startsWith(":")||y.startsWith("*")?y:encodeURIComponent(y)).join("/"),d.push({...c,originalPath:g,pattern:p,matcher:Md(p,!a,r.matchFilters)})}return d},[])}function Zd(r,e=0){return{routes:r,score:Ud(r[r.length-1])*1e4-e,matcher(t){const s=[];for(let l=r.length-1;l>=0;l--){const n=r[l],i=n.matcher(t);if(!i)return null;s.unshift({...i,route:n})}return s}}}function Uo(r){return Array.isArray(r)?r:[r]}function Fo(r,e="",t=[],s=[]){const l=Uo(r);for(let n=0,i=l.length;n<i;n++){const a=l[n];if(a&&typeof a=="object"){a.hasOwnProperty("path")||(a.path="");const c=Wd(a,e);for(const d of c){t.push(d);const g=Array.isArray(a.children)&&a.children.length===0;if(a.children&&!g)Fo(a.children,d.pattern,t,s);else{const m=Zd([...t],s.length);s.push(m)}t.pop()}}}return t.length?s:s.sort((n,i)=>i.score-n.score)}function Tn(r,e){for(let t=0,s=r.length;t<s;t++){const l=r[t].matcher(e);if(l)return l}return[]}function Xd(r,e,t){const s=new URL(Ro),l=He(g=>{const m=r();try{return new URL(m,s)}catch{return console.error(`Invalid path ${m}`),g}},s,{equals:(g,m)=>g.href===m.href}),n=He(()=>l().pathname),i=He(()=>l().search,!0),a=He(()=>l().hash),c=()=>"",d=yi(i,()=>Po(l()));return{get pathname(){return n()},get search(){return i()},get hash(){return a()},get state(){return e()},get key(){return c()},query:t?t(d):jo(d)}}let as;function Yd(){return as}function Qd(r,e,t,s={}){const{signal:[l,n],utils:i={}}=r,a=i.parsePath||(R=>R),c=i.renderPath||(R=>R),d=i.beforeLeave||qo(),g=Ql("",s.base||"");if(g===void 0)throw new Error(`${g} is not a valid base path`);g&&!l().value&&n({value:g,replace:!0,scroll:!1});const[m,h]=Q(!1);let p;const y=(R,T)=>{T.value===$()&&T.state===S()||(p===void 0&&h(!0),as=R,p=T,id(()=>{p===T&&(w(p.value),E(p.state),F[1](I=>I.filter(D=>D.pending)))}).finally(()=>{p===T&&nd(()=>{as=void 0,R==="navigate"&&C(p),h(!1),p=void 0})}))},[$,w]=Q(l().value),[S,E]=Q(l().state),A=Xd($,S,i.queryWrapper),O=[],F=Q([]),U=He(()=>typeof s.transformUrl=="function"?Tn(e(),s.transformUrl(A.pathname)):Tn(e(),A.pathname)),M=()=>{const R=U(),T={};for(let I=0;I<R.length;I++)Object.assign(T,R[I].params);return T},L=i.paramsWrapper?i.paramsWrapper(M,e):jo(M),z={pattern:g,path:()=>g,outlet:()=>null,resolvePath(R){return Ql(g,R)}};return G(yi(l,R=>y("native",R),{defer:!0})),{base:z,location:A,params:L,isRouting:m,renderPath:c,parsePath:a,navigatorFactory:b,matches:U,beforeLeave:d,preloadRoute:x,singleFlight:s.singleFlight===void 0?!0:s.singleFlight,submissions:F};function ie(R,T,I){Pt(()=>{if(typeof T=="number"){T&&(i.go?i.go(T):console.warn("Router integration does not support relative routing"));return}const D=!T||T[0]==="?",{replace:P,resolve:B,scroll:q,state:Z}={replace:!1,resolve:!D,scroll:!0,...I},W=B?R.resolvePath(T):Ql(D&&A.pathname||"",T);if(W===void 0)throw new Error(`Path '${T}' is not a routable path`);if(O.length>=zd)throw new Error("Too many redirects");const k=$();(W!==k||Z!==S())&&(Od||d.confirm(W,I)&&(O.push({value:k,replace:P,scroll:q,state:S()}),y("navigate",{value:W,state:Z})))})}function b(R){return R=R||wi(Ai)||z,(T,I)=>ie(R,T,I)}function C(R){const T=O[0];T&&(n({...R,replace:T.replace,scroll:T.scroll}),O.length=0)}function x(R,T){const I=Tn(e(),R.pathname),D=as;as="preload";for(let P in I){const{route:B,params:q}=I[P];B.component&&B.component.preload&&B.component.preload();const{preload:Z}=B;T&&Z&&$i(t(),()=>Z({params:q,location:{pathname:R.pathname,search:R.search,hash:R.hash,query:Po(R),state:null,key:""},intent:"preload"}))}as=D}}function Jd(r,e,t,s){const{base:l,location:n,params:i}=r,{pattern:a,component:c,preload:d}=s().route,g=He(()=>s().path);c&&c.preload&&c.preload();const m=d?d({params:i,location:n,intent:as||"initial"}):void 0;return{parent:e,pattern:a,path:g,outlet:()=>c?_(c,{params:i,location:n,data:m,get children(){return t()}}):t(),resolvePath(p){return Ql(l.path(),p,g())}}}const eu=r=>e=>{const{base:t}=e,s=_i(()=>e.children),l=He(()=>Fo(s(),e.base||""));let n;const i=Qd(r,l,()=>n,{base:t,singleFlight:e.singleFlight,transformUrl:e.transformUrl});return r.create&&r.create(i),_(Bo.Provider,{value:i,get children(){return _(tu,{routerState:i,get root(){return e.root},get preload(){return e.rootPreload||e.rootLoad},get children(){return[Ne(()=>(n=Co())&&null),_(ru,{routerState:i,get branches(){return l()}})]}})}})};function tu(r){const e=r.routerState.location,t=r.routerState.params,s=He(()=>r.preload&&Pt(()=>{r.preload({params:t,location:e,intent:Yd()||"initial"})}));return _(ne,{get when(){return r.root},keyed:!0,get fallback(){return r.children},children:l=>_(l,{params:t,location:e,get data(){return s()},get children(){return r.children}})})}function ru(r){const e=[];let t;const s=He(yi(r.routerState.matches,(l,n,i)=>{let a=n&&l.length===n.length;const c=[];for(let d=0,g=l.length;d<g;d++){const m=n&&n[d],h=l[d];i&&m&&h.route.key===m.route.key?c[d]=i[d]:(a=!1,e[d]&&e[d](),yl(p=>{e[d]=p,c[d]=Jd(r.routerState,c[d-1]||r.routerState.base,la(()=>s()[d+1]),()=>r.routerState.matches()[d])}))}return e.splice(l.length).forEach(d=>d()),i&&a?i:(t=c[0],c)}));return la(()=>s()&&t)()}const la=r=>()=>_(ne,{get when(){return r()},keyed:!0,children:e=>_(Ai.Provider,{value:e,get children(){return e.outlet()}})}),St=r=>{const e=_i(()=>r.children);return Qn(r,{get children(){return e()}})};function su([r,e],t,s){return[r,s?l=>e(s(l)):e]}function lu(r){let e=!1;const t=l=>typeof l=="string"?{value:l}:l,s=su(Q(t(r.get()),{equals:(l,n)=>l.value===n.value&&l.state===n.state}),void 0,l=>(!e&&r.set(l),l));return r.init&&Bs(r.init((l=r.get())=>{e=!0,s[1](t(l)),e=!1})),eu({signal:s,create:r.create,utils:r.utils})}function nu(r,e,t){return r.addEventListener(e,t),()=>r.removeEventListener(e,t)}function iu(r,e){const t=r&&document.getElementById(r);t?t.scrollIntoView():e&&window.scrollTo(0,0)}const au=new Map;function ou(r=!0,e=!1,t="/_server",s){return l=>{const n=l.base.path(),i=l.navigatorFactory(l.base);let a,c;function d($){return $.namespaceURI==="http://www.w3.org/2000/svg"}function g($){if($.defaultPrevented||$.button!==0||$.metaKey||$.altKey||$.ctrlKey||$.shiftKey)return;const w=$.composedPath().find(U=>U instanceof Node&&U.nodeName.toUpperCase()==="A");if(!w||e&&!w.hasAttribute("link"))return;const S=d(w),E=S?w.href.baseVal:w.href;if((S?w.target.baseVal:w.target)||!E&&!w.hasAttribute("state"))return;const O=(w.getAttribute("rel")||"").split(/\s+/);if(w.hasAttribute("download")||O&&O.includes("external"))return;const F=S?new URL(E,document.baseURI):new URL(E);if(!(F.origin!==window.location.origin||n&&F.pathname&&!F.pathname.toLowerCase().startsWith(n.toLowerCase())))return[w,F]}function m($){const w=g($);if(!w)return;const[S,E]=w,A=l.parsePath(E.pathname+E.search+E.hash),O=S.getAttribute("state");$.preventDefault(),i(A,{resolve:!1,replace:S.hasAttribute("replace"),scroll:!S.hasAttribute("noscroll"),state:O?JSON.parse(O):void 0})}function h($){const w=g($);if(!w)return;const[S,E]=w;s&&(E.pathname=s(E.pathname)),l.preloadRoute(E,S.getAttribute("preload")!=="false")}function p($){clearTimeout(a);const w=g($);if(!w)return c=null;const[S,E]=w;c!==S&&(s&&(E.pathname=s(E.pathname)),a=setTimeout(()=>{l.preloadRoute(E,S.getAttribute("preload")!=="false"),c=S},20))}function y($){if($.defaultPrevented)return;let w=$.submitter&&$.submitter.hasAttribute("formaction")?$.submitter.getAttribute("formaction"):$.target.getAttribute("action");if(!w)return;if(!w.startsWith("https://action/")){const E=new URL(w,Ro);if(w=l.parsePath(E.pathname+E.search),!w.startsWith(t))return}if($.target.method.toUpperCase()!=="POST")throw new Error("Only POST forms are supported for Actions");const S=au.get(w);if(S){$.preventDefault();const E=new FormData($.target,$.submitter);S.call({r:l,f:$.target},$.target.enctype==="multipart/form-data"?E:new URLSearchParams(E))}}gt(["click","submit"]),document.addEventListener("click",m),r&&(document.addEventListener("mousemove",p,{passive:!0}),document.addEventListener("focusin",h,{passive:!0}),document.addEventListener("touchstart",h,{passive:!0})),document.addEventListener("submit",y),Bs(()=>{document.removeEventListener("click",m),r&&(document.removeEventListener("mousemove",p),document.removeEventListener("focusin",h),document.removeEventListener("touchstart",h)),document.removeEventListener("submit",y)})}}function cu(r){const e=()=>{const s=window.location.pathname.replace(/^\/+/,"/")+window.location.search,l=window.history.state&&window.history.state._depth&&Object.keys(window.history.state).length===1?void 0:window.history.state;return{value:s+window.location.hash,state:l}},t=qo();return lu({get:e,set({value:s,replace:l,scroll:n,state:i}){l?window.history.replaceState(qd(i),"",s):window.history.pushState(i,"",s),iu(decodeURIComponent(window.location.hash.slice(1)),n),Ci()},init:s=>nu(window,"popstate",Rd(s,l=>{if(l&&l<0)return!t.confirm(l);{const n=e();return!t.confirm(n.value,{state:n.state})}})),create:ou(r.preload,r.explicitLinks,r.actionBase,r.transformUrl),utils:{go:s=>window.history.go(s),beforeLeave:t}})(r)}var du=v("<a>");function We(r){r=Qn({inactiveClass:"inactive",activeClass:"active"},r);const[,e]=pd(r,["href","state","class","activeClass","inactiveClass","end"]),t=Gd(()=>r.href),s=Kd(t),l=pn(),n=He(()=>{const i=t();if(i===void 0)return[!1,!1];const a=cs(i.split(/[?#]/,1)[0]).toLowerCase(),c=decodeURI(cs(l.pathname).toLowerCase());return[r.end?a===c:c.startsWith(a+"/")||c===a,a===c]});return(()=>{var i=du();return Nd(i,Qn(e,{get href(){return s()||r.href},get state(){return JSON.stringify(r.state)},get classList(){return{...r.class&&{[r.class]:!0},[r.inactiveClass]:!n()[0],[r.activeClass]:n()[0],...e.classList}},link:"",get"aria-current"(){return n()[1]?"page":void 0}}),!1),i})()}const uu="/api",hu="/",ki=r=>r?r.startsWith("http")?r:`${hu}${r}`:"";class zo extends Error{status;constructor(e,t){super(e),this.name="ApiError",this.status=t}}class fu{baseURL;constructor(e){this.baseURL=e}buildUrl(e,t){if(!t)return`${this.baseURL}${e}`;const s=new URLSearchParams;for(const[n,i]of Object.entries(t))i!=null&&s.append(n,String(i));const l=s.toString();return`${this.baseURL}${e}${l?`?${l}`:""}`}async request(e,t={},s){const l=localStorage.getItem("token"),n=this.buildUrl(e,s),i=new Headers(t.headers||{});l&&i.set("Authorization",`Bearer ${l}`),t.body instanceof FormData||i.has("Content-Type")||i.set("Content-Type","application/json");const a=await fetch(n,{...t,headers:i});let c={};try{c=await a.json()}catch{}if(!a.ok){const d=c.error||c.message||a.statusText||"Request failed";throw new zo(d,a.status)}return c}get(e,t){return this.request(e,{method:"GET"},t)}post(e,t){return this.request(e,{method:"POST",body:t instanceof FormData?t:t?JSON.stringify(t):void 0})}put(e,t){return this.request(e,{method:"PUT",body:t instanceof FormData?t:t?JSON.stringify(t):void 0})}delete(e){return this.request(e,{method:"DELETE"})}upload(e,t){return this.post(e,t)}}const Te=new fu(uu),Ei={register:r=>Te.post("/auth/register",r),login:r=>Te.post("/auth/login",r),getProfile:()=>Te.get("/auth/profile")},vr={getAll:()=>Te.get("/admin/categories"),create:r=>Te.post("/admin/categories",r),update:(r,e)=>Te.put(`/admin/categories/${r}`,e),delete:r=>Te.delete(`/admin/categories/${r}`)},Nt={getAll:()=>Te.get("/users"),getById:r=>Te.get(`/users/${r}`),create:r=>Te.post("/users",r),update:(r,e)=>Te.put(`/users/${r}`,e),delete:r=>Te.delete(`/users/${r}`),addRole:(r,e)=>Te.post(`/users/${r}/roles`,{role_id:e}),removeRole:(r,e)=>Te.delete(`/users/${r}/roles/${e}`),uploadAvatar:(r,e)=>Te.upload(`/users/${r}/avatar`,e)},Dt={getAll:r=>Te.get("/products",r),getById:r=>Te.get(`/products/${r}`),create:r=>Te.post("/products",r),update:(r,e)=>Te.put(`/products/${r}`,e),delete:r=>Te.delete(`/products/${r}`),uploadImage:(r,e)=>Te.upload(`/products/${r}/images`,e),setGroupPrice:(r,e,t)=>Te.post(`/products/${r}/prices`,{group_id:e,price:t}),removeGroupPrice:(r,e)=>Te.delete(`/products/${r}/prices/${e}`)},ds={getAll:()=>Te.get("/orders"),adminGetAll:()=>Te.get("/admin/orders"),getById:r=>Te.get(`/orders/${r}`),create:r=>Te.post("/orders",r),updateStatus:(r,e)=>Te.put(`/admin/orders/${r}/status`,{status:e}),remove:r=>Te.delete(`/admin/orders/${r}`)},us={getMyWallet:()=>Te.get("/wallet"),addBalance:r=>Te.post("/wallet/add",{amount:r}),adminGetById:r=>Te.get(`/admin/wallet/${r}`),adminAddBalance:(r,e)=>Te.post(`/admin/wallet/${r}/add`,{amount:e})},Ho={getAll:()=>Te.get("/admin/roles"),create:r=>Te.post("/admin/roles",r),delete:r=>Te.delete(`/admin/roles/${r}`),addPermissionToRole:(r,e)=>Te.post(`/admin/roles/${r}/permissions`,{permission_id:e}),removePermissionFromRole:(r,e)=>Te.delete(`/admin/roles/${r}/permissions/${e}`)},gu={getAll:()=>Te.get("/admin/permissions"),create:r=>Te.post("/admin/permissions",r),delete:r=>Te.delete(`/admin/permissions/${r}`)},Jl={getAll:()=>Te.get("/admin/groups"),create:r=>Te.post("/admin/groups",r),delete:r=>Te.delete(`/admin/groups/${r}`),addProductToGroup:(r,e)=>Te.post(`/admin/groups/${r}/products`,{product_id:e}),removeProductFromGroup:(r,e)=>Te.delete(`/admin/groups/${r}/products/${e}`),addUser:(r,e)=>Te.post(`/admin/groups/${r}/users`,{user_id:e}),removeUser:(r,e)=>Te.delete(`/admin/groups/${r}/users/${e}`)},os={getAll:()=>Te.get("/brands"),create:r=>Te.post("/brands",r),getById:r=>Te.get(`/brands/${r}`),update:(r,e)=>Te.put(`/brands/${r}`,e),delete:r=>Te.delete(`/brands/${r}`)},ht={users:Nt,products:Dt,categories:vr,orders:ds,wallet:us,roles:Ho,permissions:gu,groups:Jl,brands:os},[pu,Go]=Q(null),[Ko,ti]=Q([]),[bu,ri]=Q([]),[mu,bn]=Q(!1),[xu,na]=Q(!1);async function Ni(){na(!0);try{const r=await Ei.getProfile();if(r.success&&r.data){const e=r.data;if(Go({id:e.id??e.ID,username:e.username??e.Username,email:e.email??e.Email,phone:e.phone??e.Phone,avatar:e.avatar??e.Avatar}),e.roles||e.Roles){const t=e.roles??e.Roles;ti(t.map(s=>({id:s.id??s.ID,name:s.name??s.Name})))}else ti([]);if(e.groups||e.Groups){const t=e.groups??e.Groups;ri(t.map(s=>({id:s.id??s.ID,name:s.name??s.Name})))}else ri([]);bn(!0)}else si()}catch{si()}finally{na(!1)}}const vu=localStorage.getItem("token");vu&&(bn(!0),Ni());const Vo=async(r,e)=>{try{const t=await Ei.login({email:r,password:e});if(t.success&&t.data){const s=t.data;return localStorage.setItem("token",s.token),bn(!0),await Ni(),{success:!0}}return{success:!1,error:t.error||"Login failed"}}catch(t){return{success:!1,error:t.message||"Login failed"}}},yu=async(r,e,t)=>{try{const s=await Ei.register({username:r,email:e,password:t});return s.success?await Vo(e,t):{success:!1,error:s.error||"Registration failed"}}catch(s){return{success:!1,error:s.message||"Registration failed"}}},si=()=>{localStorage.removeItem("token"),Go(null),ti([]),ri([]),bn(!1)},$u=()=>Ko().some(r=>r.name.toLowerCase()==="admin"||r.name.toLowerCase()==="administrator"),jr=()=>({user:pu,roles:Ko,groups:bu,isAuthenticated:mu,isProfileLoading:xu,login:Vo,register:yu,logout:si,refreshProfile:Ni,isAdmin:$u}),lr=r=>Number(r??0),Wt=(r,e=0)=>Number(r??e),Ks=r=>({id:lr(r?.id??r?.ID),name:r?.name??r?.Name??"",slug:r?.slug??r?.Slug,parentId:r?.parent_id??r?.ParentID,children:Array.isArray(r?.children??r?.Children)?(r?.children??r?.Children).map(Ks):void 0,image:r?.image}),wu=r=>({id:lr(r?.id??r?.ID),name:r?.name??r?.Name??"",description:r?.description??r?.Description,logo:r?.logo??r?.Logo}),_u=r=>({id:lr(r?.id??r?.ID),url:r?.url??r?.URL??"",alt:r?.alt??r?.Alt,isPrimary:!!(r?.is_primary??r?.IsPrimary??!1),order:Wt(r?.order??r?.Order,0)}),Su=r=>({id:lr(r?.id??r?.ID),name:r?.name??r?.Name??"",stock:Wt(r?.stock??r?.Stock,0),price:r?.price??r?.Price?Wt(r?.price??r?.Price):void 0}),Cu=r=>({id:lr(r?.id??r?.ID),name:r?.name??r?.Name??"",hexCode:r?.hex_code??r?.HexCode,stock:Wt(r?.stock??r?.Stock,0)}),Au=r=>({id:lr(r?.id??r?.ID),groupId:r?.group_id??r?.GroupID,price:Wt(r?.price??r?.Price,0)}),Cl=r=>({id:lr(r?.id??r?.ID),name:r?.name??r?.Name??"",description:r?.description??r?.Description,sku:r?.sku??r?.SKU??"",stock:Wt(r?.stock??r?.Stock,0),modelNumber:r?.model_number??r?.ModelNumber,warranty:r?.warranty??r?.Warranty,weight:r?.weight??r?.Weight?Wt(r?.weight??r?.Weight):void 0,dimensions:r?.dimensions??r?.Dimensions,power:r?.power??r?.Power,material:r?.material??r?.Material,capacity:r?.capacity??r?.Capacity,features:r?.features??r?.Features,isActive:!!(r?.is_active??r?.IsActive??!0),categoryId:r?.category_id??r?.CategoryID,category:r?.category??r?.Category?Ks(r?.category??r?.Category):void 0,brandId:r?.brand_id??r?.BrandID,brand:r?.brand??r?.Brand?wu(r?.brand??r?.Brand):void 0,images:Array.isArray(r?.images??r?.Images)?(r?.images??r?.Images).map(_u):void 0,sizes:Array.isArray(r?.sizes??r?.Sizes)?(r?.sizes??r?.Sizes).map(Su):void 0,colors:Array.isArray(r?.colors??r?.Colors)?(r?.colors??r?.Colors).map(Cu):void 0,prices:Array.isArray(r?.prices??r?.Prices)?(r?.prices??r?.Prices).map(Au):void 0,price:Wt(r?.price??r?.Price,0)}),ku=r=>({id:lr(r?.id??r?.ID),productId:lr(r?.product_id??r?.ProductID),quantity:Wt(r?.quantity??r?.Quantity,1),unitPrice:Wt(r?.unit_price??r?.UnitPrice,0),subtotal:Wt(r?.subtotal??r?.Subtotal,0),product:r?.product??r?.Product?Cl(r?.product??r?.Product):void 0}),Eu=r=>({id:lr(r?.id??r?.ID),userId:lr(r?.user_id??r?.UserID),total:Wt(r?.total??r?.Total,0),status:r?.status??r?.Status??"pending",address:r?.address??r?.Address,paymentMethod:r?.payment_method??r?.PaymentMethod,createdAt:r?.created_at??r?.CreatedAt,details:Array.isArray(r?.details??r?.Details)?(r?.details??r?.Details).map(ku):void 0}),Nu=r=>({id:lr(r?.id??r?.ID),balance:Wt(r?.balance??r?.Balance,0),currency:r?.currency??r?.Currency??"IRR",updatedAt:r?.updated_at??r?.UpdatedAt});var Tu=v('<div class="w-16 h-16 rounded-2xl flex items-center justify-center shadow-xl group-hover:shadow-2xl group-hover:scale-105 transition-all duration-300"><img class="w-12 h-12 object-contain"src=/assets/images/logos.png alt="Ù„ÙˆÚ¯ÙˆÛŒ Ù…Ù‡Ø± Ø³Ù¾Ù‡Ø±">'),Iu=v('<div><p class="text-lg font-extrabold text-slate-900 group-hover:text-indigo-600 transition-colors">Ù…Ù‡Ø± Ø³Ù¾Ù‡Ø±</p><p class="text-xs text-slate-500 font-medium">Mehr Sepehr Aria Qeshm'),Lu=v('<div class="w-12 h-12 rounded-xl bg-linear-to-br from-indigo-500 to-purple-600 flex items-center justify-center shadow-lg"><i class="fa-solid fa-user-shield text-white">'),Ou=v('<span class="font-bold text-indigo-900">Ù¾Ù†Ù„ Ù…Ø¯ÛŒØ±ÛŒØª'),qu=v('<div class="w-10 h-10 sm:w-14 sm:h-14 rounded-2xl bg-linear-to-br flex items-center justify-center shadow-lg group-hover:shadow-2xl group-hover:scale-105 transition-all duration-300"><img class="w-8 h-8 sm:w-12 sm:h-12 object-contain"src=/assets/images/logos.png alt="Ù„ÙˆÚ¯Ùˆ Ù…Ù‡Ø± Ø³Ù¾Ù‡Ø±">'),Ru=v('<span class="font-extrabold text-base sm:text-xl text-slate-900 hidden sm:inline">Ù…Ù‡Ø± Ø³Ù¾Ù‡Ø±'),Pu=v('<div class="flex items-center gap-3 bg-linear-to-l from-indigo-50 via-purple-50 to-pink-50 border-2 border-indigo-200 rounded-2xl px-3 sm:px-5 py-2.5 sm:py-3 shadow-md hover:shadow-xl transition-all duration-300 hover:scale-105"><div class="w-8 h-8 sm:w-12 sm:h-12 rounded-full overflow-hidden shadow-lg bg-slate-200 flex items-center justify-center"></div><div class="hidden sm:block"><p class="text-xs text-slate-500 font-bold">Ø®ÙˆØ´ Ø¢Ù…Ø¯ÛŒØ¯</p><p class="text-sm font-extrabold text-slate-900 truncate max-w-[140px]"></p></div><button class="btn btn-soft whitespace-nowrap text-sm px-4 py-2 hover:bg-indigo-100 hover:border-indigo-300 transition-all duration-300"type=button>Ø®Ø±ÙˆØ¬<i class="fa-solid fa-right-from-bracket text-xs">'),ju=v('<div class="bg-slate-50 text-slate-900 min-h-screen"><a class=skip-link href=#mainContent>Ù¾Ø±Ø´ Ø¨Ù‡ Ù…Ø­ØªÙˆØ§ÛŒ Ø§ØµÙ„ÛŒ</a><div class="site-shell lg:flex lg:min-h-screen"><aside id=mainSidebar aria-label="Ù…Ù†ÙˆÛŒ Ú©Ù†Ø§Ø±ÛŒ"><div class=sidebar-header><button class="sidebar-close lg:hidden w-10 h-10 rounded-xl bg-slate-100 hover:bg-red-100 hover:text-red-600 flex items-center justify-center transition-colors"type=button aria-label="Ø¨Ø³ØªÙ† Ù…Ù†Ùˆ"><i class="fa-solid fa-xmark"></i></button></div><nav class=sidebar-nav aria-label="Ø¯Ø³ØªØ±Ø³ÛŒ Ø³Ø±ÛŒØ¹"><p class="text-xs uppercase tracking-widest text-slate-400 mb-4 px-3 font-bold">âš¡ Ø¯Ø³ØªØ±Ø³ÛŒ Ø³Ø±ÛŒØ¹</p><div class=space-y-1></div></nav><div class=sidebar-nav aria-label=Ø¯Ø³ØªÙ‡â€ŒØ¨Ù†Ø¯ÛŒâ€ŒÙ‡Ø§><p class="text-xs uppercase tracking-widest text-slate-400 mb-4 px-3 font-bold">ğŸ·ï¸ Ø¯Ø³ØªÙ‡â€ŒØ¨Ù†Ø¯ÛŒâ€ŒÙ‡Ø§</p></div><div class=sidebar-footer><div class=space-y-3><div class="bg-linear-to-br from-indigo-50 via-purple-50 to-pink-50 rounded-2xl p-5 border-2 border-indigo-100 shadow-sm"><div class="flex items-center gap-2 mb-3"><div class="w-8 h-8 rounded-lg bg-indigo-500 flex items-center justify-center"><i class="fa-solid fa-phone text-white text-sm"></i></div><p class="text-xs text-slate-600 font-bold">ØªÙ…Ø§Ø³ Ø¨Ø§ Ù…Ø§</p></div><a class="text-base font-bold text-slate-900 hover:text-indigo-600 transition-colors"href=tel:02128423963>021-28423963</a></div><div class="bg-linear-to-br from-purple-50 via-pink-50 to-rose-50 rounded-2xl p-5 border-2 border-purple-100 shadow-sm"><div class="flex items-center gap-2 mb-3"><div class="w-8 h-8 rounded-lg bg-purple-500 flex items-center justify-center"><i class="fa-solid fa-envelope text-white text-sm"></i></div><p class="text-xs text-slate-600 font-bold">Ø§ÛŒÙ…ÛŒÙ„</p></div><a class="text-sm font-bold text-slate-900 hover:text-purple-600 transition-colors break-all"href=mailto:gablame.com@gmail.com>gablame.com@gmail.com</a></div></div><div class="flex items-center justify-center gap-3 pt-6 border-t border-slate-200"></div></div></aside><div role=presentation></div><main id=mainContent class="content-area flex-1 min-h-screen"><header><div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-10"><div class="flex flex-wrap items-center justify-between gap-4 py-5"><div class="flex items-center gap-3"><button class="lg:hidden w-10 h-10 sm:w-12 sm:h-12 rounded-2xl bg-slate-100 hover:bg-linear-to-br hover:from-indigo-500 hover:to-purple-600 hover:text-white flex items-center justify-center transition-all duration-300 hover:scale-110 shadow-md hover:shadow-xl"type=button aria-controls=mainSidebar><span class=sr-only>Ø¨Ø§Ø² Ú©Ø±Ø¯Ù† Ù…Ù†Ùˆ</span><i class="fa-solid fa-bars text-lg"></i></button></div><label class="relative flex-1 min-w-[120px] sm:min-w-[220px] lg:max-w-2xl"for=headerSearch><input id=headerSearch type=search placeholder="Ø¬Ø³ØªØ¬Ùˆ Ù…Ø­ØµÙˆÙ„Ø§ØªØŒ Ø¨Ø±Ù†Ø¯ ÛŒØ§ Ø¯Ø³ØªÙ‡â€ŒØ¨Ù†Ø¯ÛŒ..."class="w-full rounded-2xl border-2 border-slate-200 bg-slate-50 hover:bg-white hover:border-indigo-300 focus:bg-white focus:border-indigo-500 py-2.5 sm:py-3.5 pl-12 sm:pl-14 pr-4 sm:pr-5 text-sm transition-all duration-300 focus:outline-none focus:ring-4 focus:ring-indigo-100 shadow-sm hover:shadow-md"><button type=button aria-label=Ø¬Ø³ØªØ¬Ùˆ class="absolute left-4 sm:left-5 top-1/2 -translate-y-1/2 text-slate-400 hover:text-indigo-600 transition-colors"><i class="fa-solid fa-magnifying-glass text-lg"></i></button></label><div class="flex items-center gap-3"></div></div></div></header><footer class="relative bg-linear-to-br from-slate-900 via-slate-800 to-slate-900 text-white overflow-hidden"id=contact><div class="absolute inset-0 bg-black/10"></div><div class="relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-10 py-16 space-y-12"><div class="flex flex-col sm:flex-row items-start sm:items-center justify-between gap-6 pb-8 border-b border-slate-700"><div class="flex items-center gap-5"><div class="w-24 h-24 rounded-3xl bg-linear-to-br flex items-center justify-center shadow-2xl"><img class="w-20 h-20 object-contain"src=/assets/images/logos.png alt="Ù„ÙˆÚ¯Ùˆ Ù…Ù‡Ø± Ø³Ù¾Ù‡Ø±"></div><div><p class="font-extrabold text-2xl text-white mb-2">Ù…Ù‡Ø± Ø³Ù¾Ù‡Ø±</p><p class="text-sm text-slate-300 font-medium">Ø§Ø² Ø¯Ù‡Ù‡ Û±Û³Û´Û° Ú©Ù†Ø§Ø± Ø®Ø§Ù†ÙˆØ§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ Ø§ÛŒØ±Ø§Ù†ÛŒ</p></div></div><button class="group inline-flex items-center gap-2 px-6 py-3 bg-white/10 hover:bg-white/20 border-2 border-white/20 text-white rounded-2xl backdrop-blur-sm transition-all duration-300 hover:scale-105 hover:shadow-xl"type=button aria-label="Ø±ÙØªÙ† Ø¨Ù‡ Ø¨Ø§Ù„Ø§ÛŒ ØµÙØ­Ù‡">Ø±ÙØªÙ† Ø¨Ù‡ Ø¨Ø§Ù„Ø§<i class="fa-solid fa-arrow-up group-hover:-translate-y-1 transition-transform"></i></button></div><div class="grid gap-10 sm:grid-cols-2 lg:grid-cols-4"><section><h4 class="footer-heading text-white text-lg font-extrabold mb-6 flex items-center gap-2"><i class="fa-solid fa-list text-indigo-400"></i>Ø¯Ø³ØªÙ‡â€ŒØ¨Ù†Ø¯ÛŒâ€ŒÙ‡Ø§</h4><ul class="footer-list space-y-3"></ul></section><section><h4 class="footer-heading text-white text-lg font-extrabold mb-6 flex items-center gap-2"><i class="fa-solid fa-headset text-purple-400"></i>Ø®Ø¯Ù…Ø§Øª Ù…Ø´ØªØ±ÛŒØ§Ù†</h4><ul class="footer-list space-y-3"></ul></section><section><h4 class="footer-heading text-white text-lg font-extrabold mb-6 flex items-center gap-2"><i class="fa-solid fa-user text-pink-400"></i>Ø­Ø³Ø§Ø¨ Ú©Ø§Ø±Ø¨Ø±ÛŒ</h4><ul class="footer-list space-y-3"></ul></section><section class=space-y-6><h4 class="footer-heading text-white text-lg font-extrabold mb-6 flex items-center gap-2"><i class="fa-solid fa-phone text-green-400"></i>Ø§Ø±ØªØ¨Ø§Ø· Ø¨Ø§ Ù…Ø§</h4><div class=space-y-4><div class="flex items-center gap-4 bg-white/5 rounded-2xl p-4 border border-white/10"><div class="w-12 h-12 rounded-xl bg-linear-to-br from-indigo-500 to-purple-600 flex items-center justify-center shadow-lg"><i class="fa-solid fa-phone text-white"></i></div><a href=tel:02128423963 class="text-white hover:text-indigo-300 transition-colors font-bold">021-28423963</a></div><div class="flex items-center gap-4 bg-white/5 rounded-2xl p-4 border border-white/10"><div class="w-12 h-12 rounded-xl bg-linear-to-br from-purple-500 to-pink-600 flex items-center justify-center shadow-lg"><i class="fa-solid fa-envelope text-white"></i></div><a href=mailto:gablame.com@gmail.com class="text-white hover:text-purple-300 transition-colors break-all text-sm font-bold">gablame.com@gmail.com</a></div></div><div class="flex items-center gap-3 pt-2"></div></section></div><div class="flex flex-col sm:flex-row items-start sm:items-center justify-between gap-6 pt-8 border-t border-slate-700"><p class="text-sm text-slate-400 max-w-2xl leading-relaxed">Ø§Ø² Ø¯Ù‡Ù‡ Û±Û³Û´Û° Ø®ÙˆØ±Ø´ÛŒØ¯ÛŒ Ø¨Ø§ ÙØ¹Ø§Ù„ÛŒØª Ø­Ø§Ø¬ Ø¢Ù‚Ø§ Ù…Ø­Ù…ÙˆØ¯ Ø³ØªØ§Ø±ÛŒØŒ Ø§ÛŒÙ† ÙØ¹Ø§Ù„ÛŒØª ØµÙ†ÙÛŒ Ø¢ØºØ§Ø² Ø´Ø¯ Ùˆ Ø§Ù…Ø±ÙˆØ² Ø¯Ø± Ù‚Ø§Ù„Ø¨ Ø´Ø±Ú©Øª Ù…Ù‡Ø±Ø³Ù¾Ù‡Ø± Ø¢Ø±ÛŒØ§Ù‚Ø´Ù… Ø¨Ø§ ØªÙ…Ø±Ú©Ø² Ø¨Ø± ØªØ¬Ø±Ø¨Ù‡ Ø®Ø±ÛŒØ¯ Ø§Ù…Ù† Ùˆ Ù¾Ø§Ø³Ø®Ú¯Ùˆ Ø§Ø¯Ø§Ù…Ù‡ Ø¯Ø§Ø±Ø¯.</p><div class="flex items-center gap-4">'),Du=v('<div class="w-10 h-10 rounded-lg bg-slate-100 group-hover:bg-linear-to-br group-hover:from-indigo-500 group-hover:to-purple-600 flex items-center justify-center transition-all duration-300 group-hover:scale-110 group-hover:shadow-lg"><i>'),Bu=v('<span class="flex-1 text-right font-semibold text-slate-700 group-hover:text-indigo-900 transition-colors">'),Mu=v('<i class="fa-solid fa-arrow-left text-xs text-slate-400 group-hover:text-indigo-600 group-hover:translate-x-1 transition-all opacity-0 group-hover:opacity-100">'),Uu=v('<div class="space-y-2 px-3">'),Fu=v('<div class="h-10 bg-slate-200 rounded-lg animate-pulse">'),zu=v("<i>"),Hu=v('<span class="text-xs bg-slate-200 px-2 py-1 rounded-full font-bold">'),Gu=v('<div class="space-y-1 ps-4 border-r-2 border-slate-200 mr-2">'),Ku=v('<div class=space-y-1><button type=button><div></div><span class="flex-1 text-right">'),Vu=v('<i class="fa-solid fa-tag text-xs text-white">'),Wu=v('<i class="fa-solid fa-dot text-xs group-hover:text-blue-600">'),Zu=v('<span class="flex-1 text-right">'),Xu=v("<a target=_blank rel=noreferrer><i>"),Yu=v('<i class="fa-solid fa-right-to-bracket text-sm">'),Qu=v('<div class="w-full h-full bg-linear-to-br from-indigo-500 via-purple-600 to-pink-600 text-white flex items-center justify-center font-extrabold text-xl">'),Ju=v('<img alt="ØªØµÙˆÛŒØ± Ù¾Ø±ÙˆÙØ§ÛŒÙ„"class="w-full h-full object-cover"loading=lazy>',!0,!1,!1),eh=v('<li><a class="flex items-center gap-3 text-slate-300 hover:text-white hover:translate-x-1 transition-all duration-300 font-medium group"><span class="w-6 h-6 rounded-lg bg-white/10 group-hover:bg-linear-to-br group-hover:from-indigo-500 group-hover:to-cyan-500 flex items-center justify-center transition-all duration-300"><i>'),th=v('<li><a class="flex items-center gap-3 text-slate-300 hover:text-white hover:translate-x-1 transition-all duration-300 font-medium group"><span class="w-6 h-6 rounded-lg bg-white/10 group-hover:bg-linear-to-br group-hover:from-purple-500 group-hover:to-pink-500 flex items-center justify-center transition-all duration-300"><i>'),rh=v('<li><a class="flex items-center gap-3 text-slate-300 hover:text-white hover:translate-x-1 transition-all duration-300 font-medium group"><span class="w-6 h-6 rounded-lg bg-white/10 group-hover:bg-linear-to-br group-hover:from-pink-500 group-hover:to-rose-500 flex items-center justify-center transition-all duration-300"><i>'),sh=v('<a target=_blank rel=noreferrer class="w-14 h-14 rounded-2xl bg-white/10 hover:bg-linear-to-br hover:from-indigo-500 hover:to-purple-600 flex items-center justify-center transition-all duration-300 hover:scale-110 hover:shadow-xl border border-white/20"><img class="w-10 h-10 object-contain">'),lh=v('<a target=_blank rel=noreferrer class="compliance-badge hover:scale-110 transition-transform duration-300"><img class="rounded-2xl shadow-xl">');const nh=[{href:"/",label:"Ø®Ø§Ù†Ù‡",icon:"fa-solid fa-house"},{href:"/products",label:"Ù…Ø­ØµÙˆÙ„Ø§Øª",icon:"fa-solid fa-bowl-food"},{href:"/orders",label:"Ø³ÙØ§Ø±Ø´â€ŒÙ‡Ø§ÛŒ Ù…Ù†",icon:"fa-solid fa-receipt"},{href:"/wallet",label:"Ú©ÛŒÙ Ù¾ÙˆÙ„",icon:"fa-solid fa-wallet"},{href:"/profile",label:"Ù¾Ø±ÙˆÙØ§ÛŒÙ„",icon:"fa-solid fa-circle-user"}],ih=[{href:"https://instagram.com",icon:"fa-brands fa-instagram",label:"Ø§ÛŒÙ†Ø³ØªØ§Ú¯Ø±Ø§Ù…",gradient:"hover:from-pink-500 hover:to-rose-500"},{href:"https://wa.me",icon:"fa-brands fa-whatsapp",label:"ÙˆØ§ØªØ³Ø§Ù¾",gradient:"hover:from-green-500 hover:to-emerald-500"},{href:"https://t.me",icon:"fa-brands fa-telegram",label:"ØªÙ„Ú¯Ø±Ø§Ù…",gradient:"hover:from-blue-500 hover:to-cyan-500"}],In={categories:[{label:"Ø®Ø§Ù†Ù‡",href:"/",icon:"fa-solid fa-house"},{label:"Ù„ÙˆØ§Ø²Ù… Ø¢Ø´Ù¾Ø²Ø®Ø§Ù†Ù‡",href:"/products",icon:"fa-solid fa-bowl-food"},{label:"Ù„ÙˆØ§Ø²Ù… Ø®Ø§Ù†Ú¯ÛŒ Ø¨Ø±Ù‚ÛŒ",href:"/products",icon:"fa-solid fa-plug"},{label:"Ø¯Ø³ØªÙ‡â€ŒØ¨Ù†Ø¯ÛŒâ€ŒÙ‡Ø§",href:"/products",icon:"fa-solid fa-list"}],services:[{label:"ØªÙ…Ø§Ø³ Ø¨Ø§ Ù…Ø§",href:"#contact",icon:"fa-solid fa-phone"},{label:"Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ Û²Û´/Û·",href:"#contact",icon:"fa-solid fa-headset"},{label:"Ø¯Ø±Ø¨Ø§Ø±Ù‡ Ù…Ø§",href:"#contact",icon:"fa-solid fa-info-circle"},{label:"Ø³ÙˆØ§Ù„Ø§Øª Ù…ØªØ¯Ø§ÙˆÙ„",href:"#contact",icon:"fa-solid fa-circle-question"}],account:[{label:"Ø­Ø³Ø§Ø¨ Ú©Ø§Ø±Ø¨Ø±ÛŒ",href:"/profile",icon:"fa-solid fa-user"},{label:"Ø³ÙØ§Ø±Ø´â€ŒÙ‡Ø§ÛŒ Ù…Ù†",href:"/orders",icon:"fa-solid fa-shopping-bag"},{label:"ÙˆØ±ÙˆØ¯ / Ø«Ø¨Øª Ù†Ø§Ù…",href:"/login",icon:"fa-solid fa-right-to-bracket"}]},ah=[{href:"https://instagram.com",src:"/assets/images/social-instagram.jpg",alt:"Ø§ÛŒÙ†Ø³ØªØ§Ú¯Ø±Ø§Ù… Ù…Ù‡Ø± Ø³Ù¾Ù‡Ø±"},{href:"https://wa.me",src:"/assets/images/WhatsApp.svg.webp",alt:"ÙˆØ§ØªØ³Ø§Ù¾ Ù…Ù‡Ø± Ø³Ù¾Ù‡Ø±"},{href:"https://t.me",src:"/assets/images/Telegram_logo.svg.webp",alt:"ØªÙ„Ú¯Ø±Ø§Ù… Ù…Ù‡Ø± Ø³Ù¾Ù‡Ø±"}],oh=[{href:"https://enamad.ir",src:"/assets/images/enemad.png",alt:"Ù†Ù…Ø§Ø¯ Ø§Ø¹ØªÙ…Ø§Ø¯ Ø§Ù„Ú©ØªØ±ÙˆÙ†ÛŒÚ©"},{href:"https://samandehi.ir",src:"/assets/images/samandehi.png",alt:"Ù†Ø´Ø§Ù† Ø³Ø§Ù…Ø§Ù†Ø¯Ù‡ÛŒ"}],ch=r=>{const e=jr(),[t,s]=Q(!1),[l,n]=Q(!1),[i,a]=Q(""),[c,d]=Q(!1),g=bs(),[m]=ur(async()=>{const M=await vr.getAll();return(Array.isArray(M.data)?M.data:[]).map(Ks)}),[h,p]=Q(new Set),y=M=>{const L=new Set(h());L.has(M)?L.delete(M):L.add(M),p(L)},$=M=>h().has(M),w=()=>s(!1),S=()=>{l()||s(M=>!M)},E=()=>!l()&&!t(),A=()=>e.user()?.username||e.user()?.email,O=()=>window.scrollTo({top:0,behavior:"smooth"}),F=()=>{const M=i().trim();g(M?`/products?search=${encodeURIComponent(M)}`:"/products")},U=()=>{const M=e.user()?.avatar;return M||null};return Zt(()=>{document.documentElement.lang="fa",document.documentElement.dir="rtl";const M=window.matchMedia("(min-width: 1024px)"),L=ie=>{n(ie?ie.matches:M.matches)};L(),M.addEventListener("change",L),Bs(()=>M.removeEventListener("change",L));const z=()=>{d(window.scrollY>10)};window.addEventListener("scroll",z),Bs(()=>window.removeEventListener("scroll",z))}),Or(()=>{l()&&s(!1);const M=!l()&&t();document.body.classList.toggle("sidebar-open",M)}),Bs(()=>{document.body.classList.remove("sidebar-open")}),(()=>{var M=ju(),L=M.firstChild,z=L.nextSibling,ie=z.firstChild,b=ie.firstChild,C=b.firstChild,x=b.nextSibling,R=x.firstChild,T=R.nextSibling,I=x.nextSibling;I.firstChild;var D=I.nextSibling,P=D.firstChild,B=P.nextSibling,q=ie.nextSibling,Z=q.nextSibling,W=Z.firstChild,k=W.firstChild,K=k.firstChild,j=K.firstChild,ee=j.firstChild,te=j.nextSibling,J=te.firstChild,ge=J.nextSibling,oe=te.nextSibling,X=W.nextSibling,le=X.firstChild,se=le.nextSibling,me=se.firstChild,ve=me.firstChild,Pe=ve.nextSibling,De=me.nextSibling,Y=De.firstChild,H=Y.firstChild,ae=H.nextSibling,fe=Y.nextSibling,he=fe.firstChild,Ie=he.nextSibling,pe=fe.nextSibling,de=pe.firstChild,we=de.nextSibling,Re=pe.nextSibling,Ge=Re.firstChild,Ke=Ge.nextSibling,Be=Ke.nextSibling,Ze=De.nextSibling,dt=Ze.firstChild,ft=dt.nextSibling;return C.$$click=w,u(b,_(We,{class:"sidebar-brand group",href:"/","aria-label":"Ø¨Ø§Ø²Ú¯Ø´Øª Ø¨Ù‡ ØµÙØ­Ù‡ Ø§ØµÙ„ÛŒ",get children(){return[Tu(),Iu()]}}),null),u(T,_(ke,{each:nh,children:ce=>_(We,{get href(){return ce.href},class:"group flex items-center gap-3 px-3 py-3 rounded-xl transition-all duration-300 hover:bg-linear-to-l hover:from-indigo-50 hover:via-purple-50 hover:to-pink-50 hover:border-l-4 hover:border-indigo-500",onClick:w,get children(){return[(()=>{var Ee=Du(),Oe=Ee.firstChild;return G(()=>tt(Oe,`${ce.icon} text-slate-600 group-hover:text-white transition-colors text-sm`)),Ee})(),(()=>{var Ee=Bu();return u(Ee,()=>ce.label),Ee})(),Mu()]}})}),null),u(T,_(ne,{get when(){return e.isAdmin()},get children(){return _(We,{href:"/admin",class:"sidebar-link group bg-linear-to-l from-indigo-50 via-purple-50 to-pink-50 border-r-4 border-indigo-500 shadow-sm",onClick:w,get children(){return[Lu(),Ou()]}})}}),null),u(I,_(ne,{get when(){return!m.loading},get fallback(){return(()=>{var ce=Uu();return u(ce,()=>Array(4).fill(null).map(()=>Fu())),ce})()},get children(){return _(ke,{get each(){return m()||[]},children:ce=>(()=>{var Ee=Ku(),Oe=Ee.firstChild,be=Oe.firstChild,Se=be.nextSibling;return Oe.$$click=()=>{ce.children&&ce.children.length>0?y(ce.id):(g(`/products?categoryId=${ce.id}`),w())},u(be,_(ne,{get when(){return Ne(()=>!!ce.children)()&&ce.children.length>0},get fallback(){return Vu()},get children(){var ue=zu();return G(()=>tt(ue,`fa-solid fa-chevron-down text-white text-xs transition-transform duration-300 ${$(ce.id)?"rotate-180":""}`)),ue}})),u(Se,()=>ce.name),u(Oe,_(ne,{get when(){return Ne(()=>!!ce.children)()&&ce.children.length>0},get children(){var ue=Hu();return u(ue,()=>ce.children?.length),ue}}),null),u(Ee,_(ne,{get when(){return Ne(()=>!!($(ce.id)&&ce.children))()&&ce.children.length>0},get children(){var ue=Gu();return u(ue,_(ke,{get each(){return ce.children||[]},children:ye=>_(We,{get href(){return`/products?categoryId=${ye.id}`},class:"flex items-center gap-2 px-3 py-2 rounded-lg text-xs text-slate-600 hover:bg-blue-50 hover:text-blue-700 transition-all duration-300 group",onClick:w,get children(){return[Wu(),(()=>{var Me=Zu();return u(Me,()=>ye.name),Me})()]}})})),ue}}),null),G(ue=>{var ye=`w-full flex items-center gap-3 px-3 py-2 rounded-lg transition-all duration-300 text-sm font-medium ${$(ce.id)?"bg-indigo-100 text-indigo-700":"text-slate-700 hover:bg-slate-100"}`,Me=`w-8 h-8 rounded-lg ${$(ce.id)?"bg-linear-to-br from-blue-500 to-indigo-600":"bg-slate-200"} flex items-center justify-center transition-all duration-300`;return ye!==ue.e&&tt(Oe,ue.e=ye),Me!==ue.t&&tt(be,ue.t=Me),ue},{e:void 0,t:void 0}),Ee})()})}}),null),u(B,_(ke,{each:ih,children:ce=>(()=>{var Ee=Xu(),Oe=Ee.firstChild;return G(be=>{var Se=ce.href,ue=ce.label,ye=`w-14 h-14 rounded-2xl bg-slate-100 bg-linear-to-br ${ce.gradient} flex items-center justify-center transition-all duration-300 hover:scale-110 hover:shadow-xl text-slate-600 hover:text-white`,Me=`${ce.icon} text-xl`;return Se!==be.e&&Le(Ee,"href",be.e=Se),ue!==be.t&&Le(Ee,"aria-label",be.t=ue),ye!==be.a&&tt(Ee,be.a=ye),Me!==be.o&&tt(Oe,be.o=Me),be},{e:void 0,t:void 0,a:void 0,o:void 0}),Ee})()})),q.$$click=w,ee.$$click=S,u(j,_(We,{href:"/",class:"lg:hidden flex items-center gap-3 group","aria-label":"ØµÙØ­Ù‡ Ø§ØµÙ„ÛŒ",get children(){return[qu(),Ru()]}}),null),J.$$keydown=ce=>{ce.key==="Enter"&&(ce.preventDefault(),F())},J.$$input=ce=>a(ce.currentTarget.value),ge.$$click=F,u(oe,_(ne,{get when(){return e.isAuthenticated()},get fallback(){return _(We,{href:"/login",class:"btn btn-primary whitespace-nowrap px-6 py-3 shadow-lg hover:shadow-xl hover:scale-105 transition-all duration-300",get children(){return["ÙˆØ±ÙˆØ¯",Yu()]}})},get children(){var ce=Pu(),Ee=ce.firstChild,Oe=Ee.nextSibling,be=Oe.firstChild,Se=be.nextSibling,ue=Oe.nextSibling;return u(Ee,_(ne,{get when(){return U()},get fallback(){return(()=>{var ye=Qu();return u(ye,()=>A()?.slice(0,1).toUpperCase()),ye})()},children:ye=>(()=>{var Me=Ju();return G(()=>Le(Me,"src",ye())),Me})()})),u(Se,A),Io(ue,"click",e.logout,!0),ce}})),u(Z,()=>r.children,X),Pe.$$click=O,u(ae,_(ke,{get each(){return In.categories},children:ce=>(()=>{var Ee=eh(),Oe=Ee.firstChild,be=Oe.firstChild,Se=be.firstChild;return u(Oe,()=>ce.label,null),G(ue=>{var ye=ce.href,Me=`${ce.icon} text-xs group-hover:text-white`;return ye!==ue.e&&Le(Oe,"href",ue.e=ye),Me!==ue.t&&tt(Se,ue.t=Me),ue},{e:void 0,t:void 0}),Ee})()})),u(Ie,_(ke,{get each(){return In.services},children:ce=>(()=>{var Ee=th(),Oe=Ee.firstChild,be=Oe.firstChild,Se=be.firstChild;return u(Oe,()=>ce.label,null),G(ue=>{var ye=ce.href,Me=`${ce.icon} text-xs group-hover:text-white`;return ye!==ue.e&&Le(Oe,"href",ue.e=ye),Me!==ue.t&&tt(Se,ue.t=Me),ue},{e:void 0,t:void 0}),Ee})()})),u(we,_(ke,{get each(){return In.account},children:ce=>(()=>{var Ee=rh(),Oe=Ee.firstChild,be=Oe.firstChild,Se=be.firstChild;return u(Oe,()=>ce.label,null),G(ue=>{var ye=ce.href,Me=`${ce.icon} text-xs group-hover:text-white`;return ye!==ue.e&&Le(Oe,"href",ue.e=ye),Me!==ue.t&&tt(Se,ue.t=Me),ue},{e:void 0,t:void 0}),Ee})()})),u(Be,_(ke,{each:ah,children:ce=>(()=>{var Ee=sh(),Oe=Ee.firstChild;return G(be=>{var Se=ce.href,ue=ce.src,ye=ce.alt;return Se!==be.e&&Le(Ee,"href",be.e=Se),ue!==be.t&&Le(Oe,"src",be.t=ue),ye!==be.a&&Le(Oe,"alt",be.a=ye),be},{e:void 0,t:void 0,a:void 0}),Ee})()})),u(ft,_(ke,{each:oh,children:ce=>(()=>{var Ee=lh(),Oe=Ee.firstChild;return G(be=>{var Se=ce.href,ue=ce.src,ye=ce.alt;return Se!==be.e&&Le(Ee,"href",be.e=Se),ue!==be.t&&Le(Oe,"src",be.t=ue),ye!==be.a&&Le(Oe,"alt",be.a=ye),be},{e:void 0,t:void 0,a:void 0}),Ee})()})),G(ce=>{var Ee=`sidebar bg-white border-l border-slate-200 ${t()?"is-open":""}`,Oe=E(),be=`sidebar-overlay ${t()?"is-visible":""}`,Se=`page-header sticky top-0 z-50 transition-all duration-300 ${c()?"bg-white/95 backdrop-blur-xl shadow-xl border-b border-slate-200":"bg-white/80 backdrop-blur-md shadow-lg border-b border-slate-200"}`,ue=!l()&&t();return Ee!==ce.e&&tt(ie,ce.e=Ee),Oe!==ce.t&&Le(ie,"aria-hidden",ce.t=Oe),be!==ce.a&&tt(q,ce.a=be),Se!==ce.o&&tt(W,ce.o=Se),ue!==ce.i&&Le(ee,"aria-expanded",ce.i=ue),ce},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0}),G(()=>J.value=i()),M})()};gt(["click","input","keydown"]);const dh=["/login","/register"],uh=r=>{const e=pn();return dh.some(s=>e.pathname.startsWith(s))?Ne(()=>r.children):_(ch,{get children(){return r.children}})};var hh=v('<article class="group relative bg-white rounded-2xl overflow-hidden shadow-md hover:shadow-xl transition-all duration-300 animate-pulse"><div class="h-56 bg-gray-200"></div><div class="p-5 space-y-3"><div class="h-3 w-20 bg-gray-200 rounded-full"></div><div class="h-5 w-3/4 bg-gray-200 rounded"></div><div class="h-3 w-1/2 bg-gray-200 rounded"></div><div class="h-10 w-full bg-gray-200 rounded">'),fh=v('<i class="fa-solid fa-shopping-cart">'),ia=v('<i class="fa-solid fa-eye">'),Ln=v('<div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">'),aa=v('<div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6">'),gh=v('<i class="fa-solid fa-arrow-right">'),ph=v('<div class="grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-4">'),bh=v('<p class="text-white font-bold mt-4 animate-bounce">'),mh=v('<i class="fa-solid fa-shopping-bag">'),xh=v('<div class="min-h-screen bg-white"dir=rtl><section class="relative h-[75vh] min-h-[500px] overflow-hidden bg-linear-to-br from-slate-900 via-slate-800 to-slate-900"><div class="absolute inset-0 opacity-20"><div class="absolute top-0 left-0 w-96 h-96 bg-blue-500 rounded-full mix-blend-multiply filter blur-3xl"></div><div class="absolute bottom-0 right-0 w-96 h-96 bg-purple-500 rounded-full mix-blend-multiply filter blur-3xl"></div><div class="absolute top-1/2 left-1/2 w-72 h-72 bg-cyan-500 rounded-full mix-blend-multiply filter blur-3xl"></div></div><img src=/assets/images/hero-kitchen.jpg alt="Ù„ÙˆØ§Ø²Ù… Ø¢Ø´Ù¾Ø²Ø®Ø§Ù†Ù‡ Ù…Ù‡Ø± Ø³Ù¾Ù‡Ø±"class="absolute inset-0 w-full h-full object-cover opacity-30"><div class="relative z-10 h-full flex flex-col items-center justify-center text-center px-4 sm:px-6"><div class="mb-6 animate-bounce"><span class="text-6xl sm:text-7xl">ğŸ³</span></div><h1 class="text-4xl sm:text-5xl lg:text-6xl font-black text-white mb-4 drop-shadow-lg leading-tight">ÙØ±ÙˆØ´Ú¯Ø§Ù‡ Ø¢Ù†Ù„Ø§ÛŒÙ† Ù…Ù‡Ø± Ø³Ù¾Ù‡Ø±</h1><p class="text-base sm:text-lg lg:text-xl text-slate-200 mb-8 max-w-3xl leading-relaxed font-light">Ø¨Ù‡ØªØ±ÛŒÙ† Ø§Ù†ØªØ®Ø§Ø¨ Ø¨Ø±Ø§ÛŒ Ù„ÙˆØ§Ø²Ù… Ø¢Ø´Ù¾Ø²Ø®Ø§Ù†Ù‡ Ø¨Ø§ Ú©ÛŒÙÛŒØª Ø¨Ø±ØªØ±ØŒ Ù‚ÛŒÙ…Øª Ø¹Ø§Ø¯Ù„Ø§Ù†Ù‡ØŒ Ùˆ Ø®Ø¯Ù…Ø§Øª ÙˆÛŒÚ˜Ù‡</p><div class="flex flex-col sm:flex-row gap-4"></div><div class="mt-12 flex gap-8 sm:gap-16 text-center"><div class=group><div class="text-3xl font-bold text-blue-300">Û±Û°Û°+</div><div class="text-xs text-slate-300 mt-1">Ù…Ø­ØµÙˆÙ„ Ù…ØªÙ†ÙˆØ¹</div></div><div class=group><div class="text-3xl font-bold text-cyan-300">Û²Û´/Û·</div><div class="text-xs text-slate-300 mt-1">Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ Ø¢Ù†Ù„Ø§ÛŒÙ†</div></div><div class=group><div class="text-3xl font-bold text-purple-300">ğŸšš</div><div class="text-xs text-slate-300 mt-1">ØªØ­ÙˆÛŒÙ„ Ø³Ø±ÛŒØ¹</div></div></div></div></section><section class="py-20 sm:py-28 bg-linear-to-br from-slate-50 via-blue-50 to-indigo-50 relative overflow-hidden"><div class="absolute top-0 left-0 w-96 h-96 bg-blue-200/40 rounded-full blur-3xl -ml-48 -mt-48"></div><div class="absolute bottom-0 right-0 w-96 h-96 bg-indigo-200/40 rounded-full blur-3xl -mr-48 -mb-48"></div><div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10"><div class="text-center mb-16"><div class="inline-block mb-4 animate-pulse"><span class="text-6xl sm:text-7xl">ğŸ“‚</span></div><h2 class="text-4xl sm:text-5xl lg:text-5xl font-black text-slate-900 mb-4 leading-tight">Ø¯Ø³ØªÙ‡â€ŒØ¨Ù†Ø¯ÛŒâ€ŒÙ‡Ø§ÛŒ Ù…Ø­Ø¨ÙˆØ¨</h2><div class="flex items-center justify-center gap-3 mb-4"><div class="h-1.5 w-16 bg-linear-to-r from-blue-600 to-indigo-600 rounded-full"></div><p class="text-slate-600 text-lg font-medium">Ù…Ø­ØµÙˆÙ„Ø§Øª Ø±Ø§ Ø¨Ø±Ø§Ø³Ø§Ø³ Ø¯Ø³ØªÙ‡â€ŒØ¨Ù†Ø¯ÛŒ Ø®ÙˆØ¯ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯</p><div class="h-1.5 w-16 bg-linear-to-r from-indigo-600 to-blue-600 rounded-full"></div></div></div></div></section><section class="py-20 sm:py-28 bg-linear-to-b from-white to-slate-50"><div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"><div class="text-center mb-16"><span class="text-6xl sm:text-7xl mb-4 inline-block">â­</span><h2 class="text-4xl sm:text-5xl lg:text-5xl font-black text-slate-900 mb-4 leading-tight">Ù…Ø­ØµÙˆÙ„Ø§Øª Ø¨Ø±ØªØ± Ùˆ Ù¾Ø±ÙØ±ÙˆØ´</h2><p class="text-slate-600 text-lg max-w-2xl mx-auto font-medium">Ø¨Ù‡ØªØ±ÛŒÙ† Ù…Ø­ØµÙˆÙ„Ø§Øª Ø¢Ø´Ù¾Ø²Ø®Ø§Ù†Ù‡ Ø±Ø§ Ø¨Ø§ Ø¨Ù‡ØªØ±ÛŒÙ† Ù‚ÛŒÙ…Øªâ€ŒÙ‡Ø§ Ø¯Ø±ÛŒØ§ÙØª Ú©Ù†ÛŒØ¯</p></div><div class="text-center mt-16"></div></div></section><section class="py-16 sm:py-24 bg-linear-to-r from-slate-900 to-slate-800 relative overflow-hidden"><div class="absolute inset-0 opacity-10"><div class="absolute top-0 left-0 w-96 h-96 bg-blue-500 rounded-full mix-blend-multiply filter blur-3xl"></div><div class="absolute bottom-0 right-0 w-96 h-96 bg-purple-500 rounded-full mix-blend-multiply filter blur-3xl"></div></div><div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10"><div class="text-center mb-12"><h2 class="text-3xl sm:text-4xl lg:text-4xl font-black text-white mb-3">Ø¨Ø±Ù†Ø¯Ù‡Ø§ÛŒ Ù…Ø¹Ø±ÙˆÙ</h2><p class="text-slate-300 text-lg">Ù…Ø§ Ø¨Ø§ Ø¨Ù‡ØªØ±ÛŒÙ† Ø¨Ø±Ù†Ø¯Ù‡Ø§ÛŒ Ø¬Ù‡Ø§Ù† Ù‡Ù…Ú©Ø§Ø±ÛŒ Ù…ÛŒâ€ŒÚ©Ù†ÛŒÙ…</p></div></div></section><section class="py-20 sm:py-28 bg-linear-to-b from-slate-50 to-white"><div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"><div class="text-center mb-16"><h2 class="text-4xl sm:text-5xl lg:text-5xl font-black text-slate-900 mb-4 leading-tight">Ú†Ø±Ø§ Ù…Ø§ Ø±Ø§ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯ØŸ</h2><p class="text-slate-600 text-lg max-w-2xl mx-auto">Ù…Ø§ Ù…ØªØ¹Ù‡Ø¯ Ø¨Ù‡ Ø§Ø±Ø§Ø¦Ù‡ Ø¨Ù‡ØªØ±ÛŒÙ† ØªØ¬Ø±Ø¨Ù‡ Ø®Ø±ÛŒØ¯ Ù‡Ø³ØªÛŒÙ…</p></div><div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 sm:gap-8"><div class="group text-center p-8 rounded-2xl bg-linear-to-br from-blue-50 to-cyan-50 hover:from-blue-100 hover:to-cyan-100 transition-all duration-300 border border-blue-100 hover:border-blue-300 hover:shadow-lg"><div class="mb-6 flex justify-center"><div class="bg-linear-to-br from-blue-600 to-cyan-600 p-4 rounded-full group-hover:scale-110 transition-transform"><i class="fa-solid fa-truck text-2xl text-white"></i></div></div><h3 class="text-xl font-bold text-slate-900 mb-3">ØªØ­ÙˆÛŒÙ„ Ø³Ø±ÛŒØ¹</h3><p class="text-slate-600 text-sm leading-relaxed">Ø§Ø±Ø³Ø§Ù„ Ø±Ø§ÛŒÚ¯Ø§Ù† Ø¯Ø± Ø³Ø±Ø§Ø³Ø± Ú©Ø´ÙˆØ± Ø¨Ø§ Ø¨ÛŒÙ…Ù‡ Ù…Ø­ØµÙˆÙ„</p></div><div class="group text-center p-8 rounded-2xl bg-linear-to-br from-green-50 to-emerald-50 hover:from-green-100 hover:to-emerald-100 transition-all duration-300 border border-green-100 hover:border-green-300 hover:shadow-lg"><div class="mb-6 flex justify-center"><div class="bg-linear-to-br from-green-600 to-emerald-600 p-4 rounded-full group-hover:scale-110 transition-transform"><i class="fa-solid fa-shield text-2xl text-white"></i></div></div><h3 class="text-xl font-bold text-slate-900 mb-3">Ù…Ø­ØµÙˆÙ„Ø§Øª Ø§ØµÙ„</h3><p class="text-slate-600 text-sm leading-relaxed">ØªØ¶Ù…ÛŒÙ† Û±Û°Û° Ø¯Ø±ØµØ¯ Ø§ØµØ§Ù„Øª ØªÙ…Ø§Ù… Ù…Ø­ØµÙˆÙ„Ø§Øª</p></div><div class="group text-center p-8 rounded-2xl bg-linear-to-br from-purple-50 to-pink-50 hover:from-purple-100 hover:to-pink-100 transition-all duration-300 border border-purple-100 hover:border-purple-300 hover:shadow-lg"><div class="mb-6 flex justify-center"><div class="bg-linear-to-br from-purple-600 to-pink-600 p-4 rounded-full group-hover:scale-110 transition-transform"><i class="fa-solid fa-headset text-2xl text-white"></i></div></div><h3 class="text-xl font-bold text-slate-900 mb-3">Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ Û²Û´/Û·</h3><p class="text-slate-600 text-sm leading-relaxed">ØªÛŒÙ… Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ Ù…ØªØ®ØµØµ Ù‡Ù…ÛŒØ´Ù‡ Ø¨Ø±Ø§ÛŒ Ú©Ù…Ú© Ø´Ù…Ø§</p></div><div class="group text-center p-8 rounded-2xl bg-linear-to-br from-orange-50 to-amber-50 hover:from-orange-100 hover:to-amber-100 transition-all duration-300 border border-orange-100 hover:border-orange-300 hover:shadow-lg"><div class="mb-6 flex justify-center"><div class="bg-linear-to-br from-orange-600 to-amber-600 p-4 rounded-full group-hover:scale-110 transition-transform"><i class="fa-solid fa-undo text-2xl text-white"></i></div></div><h3 class="text-xl font-bold text-slate-900 mb-3">Ø¨Ø§Ø²Ú¯Ø´Øª Ø¢Ø³Ø§Ù†</h3><p class="text-slate-600 text-sm leading-relaxed">Ø³ÛŒØ§Ø³Øª Ø¨Ø§Ø²Ú¯Ø´Øª ØªØ§ Û±Û´ Ø±ÙˆØ² Ø¨Ø¯ÙˆÙ† Ø³Ø¤Ø§Ù„</p></div></div></div></section><section class="py-16 sm:py-20 bg-linear-to-r from-indigo-600 via-blue-600 to-cyan-600 relative overflow-hidden"><div class="absolute inset-0 opacity-20"><div class="absolute top-0 right-0 w-96 h-96 bg-white rounded-full mix-blend-multiply filter blur-3xl"></div><div class="absolute bottom-0 left-0 w-96 h-96 bg-white rounded-full mix-blend-multiply filter blur-3xl"></div></div><div class="relative max-w-2xl mx-auto px-4 sm:px-6 text-center"><h2 class="text-3xl sm:text-4xl font-black text-white mb-4 leading-tight">Ø¯Ø±Ø¢Ù…Ø¯ÛŒ ØªØ®ÙÛŒÙâ€ŒÙ‡Ø§ÛŒ ÙˆÛŒÚ˜Ù‡</h2><p class="text-lg text-blue-100 mb-8 leading-relaxed">Ø¯Ø±Ø¢Ù…Ø¯ Ù†Ø§Ù…Ù‡â€ŒÛŒ Ù…Ø§ Ø±Ø§ Ø¯Ø±ÛŒØ§ÙØª Ú©Ù†ÛŒØ¯ Ùˆ Ø§Ø² Ø¢Ø®Ø±ÛŒÙ† ØªØ®ÙÛŒÙâ€ŒÙ‡Ø§ Ùˆ Ù…Ø­ØµÙˆÙ„Ø§Øª Ø¬Ø¯ÛŒØ¯ Ù…Ø·Ù„Ø¹ Ø´ÙˆÛŒØ¯</p><form class="flex flex-col sm:flex-row gap-3 max-w-md mx-auto"><input type=email placeholder="Ø¢Ø¯Ø±Ø³ Ø§ÛŒÙ…ÛŒÙ„ Ø®ÙˆØ¯ Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯..."required class="grow px-6 py-3 rounded-xl bg-white/20 text-white placeholder-white/60 border border-white/30 focus:border-white/60 focus:outline-none focus:ring-2 focus:ring-white/50 transition-all backdrop-blur-sm"><button type=submit class="px-8 py-3 bg-white hover:bg-slate-50 text-blue-600 rounded-xl font-bold shadow-lg hover:shadow-xl transition-all duration-300 scale-100 hover:scale-105 whitespace-nowrap"><i class="fa-solid fa-envelope ml-2"></i>Ø§Ø´ØªØ±Ø§Ú©</button></form></div></section><section class="py-16 sm:py-20 bg-linear-to-b from-white to-slate-50"><div class="max-w-4xl mx-auto px-4 sm:px-6 text-center"><h2 class="text-4xl sm:text-5xl lg:text-5xl font-black text-slate-900 mb-6 leading-tight">Ø¢Ù…Ø§Ø¯Ù‡ Ø®Ø±ÛŒØ¯ Ù‡Ø³ØªÛŒØ¯ØŸ</h2><p class="text-xl text-slate-600 mb-10 max-w-2xl mx-auto leading-relaxed">Ù‡Ø²Ø§Ø±Ø§Ù† Ù…Ø­ØµÙˆÙ„ Ø¨Ø§ Ú©ÛŒÙÛŒØª Ø¨Ø±ØªØ±ØŒ Ù‚ÛŒÙ…Øª Ù…Ù†Ø§Ø³Ø¨ØŒ Ùˆ Ø®Ø¯Ù…Ø§Øª Ø¹Ø§Ù„ÛŒ Ù…Ù†ØªØ¸Ø± Ø´Ù…Ø§ Ù‡Ø³ØªÙ†Ø¯</p><div class="flex flex-col sm:flex-row gap-4 justify-center">'),oa=v('<i class="fa-solid fa-arrow-left">'),vh=v('<div class="text-center py-16"><p class="text-slate-600 text-lg mb-4">Ø¯Ø³ØªÙ‡â€ŒØ¨Ù†Ø¯ÛŒâ€ŒÙ‡Ø§ ÙØ¹Ù„Ø§Ù‹ Ù…ÙˆØ¬ÙˆØ¯ Ù†ÛŒØ³Øª'),yh=v('<div class="absolute inset-0 bg-linear-to-t from-black/70 via-black/30 to-transparent opacity-80 group-hover:opacity-90 transition-all duration-300">'),$h=v('<div class="absolute top-4 left-4 flex items-center gap-2 bg-white/20 backdrop-blur-md px-4 py-2 rounded-full border border-white/30 group-hover:bg-white/30 transition-all"><span class=text-lg>ğŸ“¦</span><span class="text-white text-sm font-bold">'),wh=v('<div class="flex items-center gap-2 text-slate-100 text-sm font-medium mb-4"><i class="fa-solid fa-layer-group"></i><span> Ø²ÛŒØ±Ø¯Ø³ØªÙ‡'),_h=v('<div class="absolute inset-0 flex flex-col items-end justify-end p-6 text-right"><h3 class="text-3xl font-black text-white mb-3 group-hover:translate-y-1 transition-transform"></h3><div class="flex items-center gap-2 text-white font-bold opacity-0 group-hover:opacity-100 transition-all duration-300 translate-y-4 group-hover:translate-y-0"><span>Ù…Ø´Ø§Ù‡Ø¯Ù‡</span><i class="fa-solid fa-arrow-left text-lg group-hover:translate-x-1 transition-transform">'),Sh=v('<div class="absolute bottom-0 left-0 right-0 h-1.5 bg-white/30 group-hover:bg-white/60 transition-all duration-500">'),Ch=v('<div class="text-center py-16"><i class="fa-solid fa-box text-6xl text-slate-300 mb-4 inline-block"></i><p class="text-slate-600 text-lg mb-6">Ù…Ø­ØµÙˆÙ„ÛŒ Ø¨Ø±Ø§ÛŒ Ù†Ù…Ø§ÛŒØ´ ÙˆØ¬ÙˆØ¯ Ù†Ø¯Ø§Ø±Ø¯'),Ah=v('<div class="relative h-56 overflow-hidden bg-slate-100"><img class="w-full h-full object-cover group-hover:scale-110 transition-transform duration-500">'),kh=v('<span class="text-lg font-black text-blue-600">'),Eh=v('<span class="flex items-center gap-1 text-xs text-green-600 font-bold bg-green-50 px-2 py-1 rounded"><i class="fa-solid fa-check-circle"></i>Ù…ÙˆØ¬ÙˆØ¯'),Nh=v('<i class="fa-solid fa-check">'),Th=v('<article class="group relative bg-white rounded-2xl overflow-hidden shadow-md hover:shadow-2xl transition-all duration-300 flex flex-col h-full border border-slate-100 hover:border-blue-200 transform hover:-translate-y-2"><div class="p-4 grow flex flex-col"><h3 class="text-sm font-bold text-slate-900 group-hover:text-blue-600 transition-colors line-clamp-2 mb-2 leading-snug"></h3><div class="flex items-center justify-between mb-4 pb-3 border-t border-slate-100"></div><button type=button>'),Ih=v('<div class="absolute inset-0 bg-black/50 flex items-center justify-center backdrop-blur-sm"><span class="text-white font-black text-lg">âŒ ØªÙ…Ø§Ù… Ø´Ø¯'),Lh=v('<div class="absolute top-3 left-3 bg-red-500/90 text-white px-3 py-1 rounded-full text-xs font-bold">â° Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ù…Ø­Ø¯ÙˆØ¯'),Oh=v('<div class="absolute top-3 right-3 bg-linear-to-r from-blue-600 to-cyan-600 text-white px-4 py-2 rounded-full text-xs font-bold shadow-lg"><i class="fa-solid fa-check-circle ml-1">'),qh=v('<p class="text-xs text-slate-600 line-clamp-1 mb-3">'),Rh=v('<div class="text-xs text-slate-600 space-y-1 mb-3 grow">'),Ph=v('<p class="flex items-center gap-2"><i class="fa-solid fa-check text-green-600 text-xs">'),jh=v('<span class="text-sm font-bold text-amber-600">Ø¨Ø±Ø§ÛŒ Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ù‚ÛŒÙ…Øª ÙˆØ§Ø±Ø¯ Ø´ÙˆÛŒØ¯'),Dh=v('<i class="fa-solid fa-cart-plus">'),Bh=v('<div class="text-center py-8"><p class="text-slate-300 text-lg">Ø¨Ø±Ù†Ø¯ÛŒ Ø¨Ø±Ø§ÛŒ Ù†Ù…Ø§ÛŒØ´ ÙˆØ¬ÙˆØ¯ Ù†Ø¯Ø§Ø±Ø¯'),Mh=v('<div class="h-32 bg-white/10 rounded-xl animate-pulse backdrop-blur-sm">'),Uh=v('<div class="group relative bg-white/10 hover:bg-white/20 backdrop-blur-sm rounded-xl p-4 transition-all duration-300 border border-white/20 hover:border-white/40 text-center"><h3 class="text-white font-bold text-sm line-clamp-1 group-hover:text-blue-300 transition-colors">'),Fh=v('<img class="h-16 w-full object-contain mb-3 filter group-hover:brightness-110 transition-all">');const ca=["/assets/images/IMG_20250920_112531_285.jpg","/assets/images/WhatsApp-Image-2025-09-20-at-11.03.30-2.jpeg","/assets/images/photo_2024-12-27_23-20-44.jpg","/assets/images/e1c1d291f800e7c8f67e8b070549681c322dbe89_1603174412.jpg","/assets/images/dd7197c77621521206b911e2739c49df437c9830_1603176952.jpg","/assets/images/4740b694c13f350604a0382c9c9ffd15bd2a98cb_1603179813.jpg"],da=hh(),zh=(r,e)=>{const s=(r.images?.find(l=>l.isPrimary)||r.images?.[0])?.url;return s?s.startsWith("http")?s:`http://localhost:8080${s}`:ca[e%ca.length]},Hh=r=>`${Intl.NumberFormat("fa-IR").format(r??0)} Ø±ÛŒØ§Ù„`,Gh=(r,e=[])=>{if(!r.prices||r.prices.length===0)return r.price;if(e.length>0)for(const s of e){const l=r.prices.find(n=>n.groupId===s);if(l)return l.price}const t=r.prices.find(s=>!s.groupId);return t?t.price:r.price},Kh=r=>{const e=[];return r.material&&e.push(`Ø¬Ù†Ø³: ${r.material}`),r.capacity&&e.push(`Ø¸Ø±ÙÛŒØª: ${r.capacity}`),r.power&&e.push(`ØªÙˆØ§Ù†: ${r.power}`),r.weight&&e.push(`ÙˆØ²Ù†: ${r.weight}Ú©ÛŒÙ„ÙˆÚ¯Ø±Ù…`),r.warranty&&e.push(`Ú¯Ø§Ø±Ø§Ù†ØªÛŒ: ${r.warranty}`),e.slice(0,2)},Vh=()=>{bs();const r=jr(),[e,t]=Q(null),[s,l]=Q(""),[n,i]=Q(""),a=He(()=>r.groups().map($=>$.id??0).filter($=>$>0)),[c]=ur(async()=>{try{const $=await vr.getAll(),S=(Array.isArray($.data)?$.data:[]).map(Ks);if(S.some(F=>Array.isArray(F.children)&&F.children.length>0))return S;const A=new Map;S.forEach(F=>A.set(F.id,{...F,children:[]}));const O=[];return A.forEach(F=>{const U=F.parentId??null;U&&A.has(U)?A.get(U).children.push(F):O.push(F)}),O}catch{return console.log("Categories require authentication"),[]}}),[d]=ur(async()=>{try{const $=await os.getAll();return Array.isArray($.data)?$.data:[]}catch($){return console.log("Error loading brands:",$),[]}}),[g]=ur(async()=>{try{const $=await Dt.getAll();return(Array.isArray($.data)?$.data:[]).map(Cl)}catch($){return console.log("Error loading products:",$),[]}}),m=He(()=>c()?.slice(0,6)||[]),h=He(()=>g()?.slice(0,8)||[]),p=He(()=>d()?.slice(0,6)||[]),y=($,w)=>{if(w.preventDefault(),$.stock===0)return;const S=localStorage.getItem("cart")?JSON.parse(localStorage.getItem("cart")||"[]"):[],E=S.find(A=>A.id===$.id);E?E.quantity+=1:S.push({...$,quantity:1}),localStorage.setItem("cart",JSON.stringify(S)),t($.id),setTimeout(()=>t(null),1500)};return(()=>{var $=xh(),w=$.firstChild,S=w.firstChild,E=S.nextSibling,A=E.nextSibling,O=A.firstChild,F=O.nextSibling,U=F.nextSibling,M=U.nextSibling,L=w.nextSibling,z=L.firstChild,ie=z.nextSibling,b=ie.nextSibling;b.firstChild;var C=L.nextSibling,x=C.firstChild,R=x.firstChild,T=R.nextSibling,I=C.nextSibling,D=I.firstChild,P=D.nextSibling;P.firstChild;var B=I.nextSibling,q=B.nextSibling,Z=q.firstChild,W=Z.nextSibling,k=W.firstChild,K=k.nextSibling,j=K.nextSibling,ee=j.firstChild,te=q.nextSibling,J=te.firstChild,ge=J.firstChild,oe=ge.nextSibling,X=oe.nextSibling;return u(M,_(We,{href:"/products",class:"group inline-flex items-center justify-center gap-2 px-8 py-4 bg-linear-to-r from-blue-600 to-cyan-600 hover:from-blue-700 hover:to-cyan-700 text-white rounded-xl font-bold shadow-lg hover:shadow-2xl transition-all duration-300 scale-100 hover:scale-105",get children(){return[fh(),"Ø´Ø±ÙˆØ¹ Ø®Ø±ÛŒØ¯"]}}),null),u(M,_(We,{href:"/products",class:"group inline-flex items-center justify-center gap-2 px-8 py-4 bg-white/10 hover:bg-white/20 text-white rounded-xl font-bold border-2 border-white/30 hover:border-white/50 transition-all duration-300 backdrop-blur-sm",get children(){return[ia(),"Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ù…Ø­ØµÙˆÙ„Ø§Øª"]}}),null),u(b,_(ne,{get when(){return!c.loading},get fallback(){return(()=>{var le=Ln();return u(le,()=>Array(6).fill(da)),le})()},get children(){return _(ne,{get when(){return m().length>0},get fallback(){return(()=>{var le=vh();return le.firstChild,u(le,_(We,{href:"/products",class:"inline-flex items-center gap-2 px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-bold transition-all",get children(){return[oa(),"Ø±ÙØªÙ† Ø¨Ù‡ Ù…Ø­ØµÙˆÙ„Ø§Øª"]}}),null),le})()},get children(){var le=Ln();return u(le,_(ke,{get each(){return m()},children:(se,me)=>{const ve=["from-blue-600 to-cyan-600","from-indigo-600 to-blue-600","from-purple-600 to-indigo-600","from-pink-600 to-purple-600","from-orange-600 to-pink-600","from-amber-600 to-orange-600"],Pe=["bg-blue-100 text-blue-600","bg-indigo-100 text-indigo-600","bg-purple-100 text-purple-600","bg-pink-100 text-pink-600","bg-orange-100 text-orange-600","bg-amber-100 text-amber-600"],De=ve[me()%ve.length];return Pe[me()%Pe.length],_(We,{get href(){return`/products?category=${se.id}`},class:`group relative overflow-hidden rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-300 h-72 bg-linear-to-br ${De} transform hover:-translate-y-2`,get children(){return[yh(),(()=>{var Y=$h(),H=Y.firstChild,ae=H.nextSibling;return u(ae,()=>se.children?.length||0),Y})(),(()=>{var Y=_h(),H=Y.firstChild,ae=H.nextSibling;return u(H,()=>se.name),u(Y,_(ne,{get when(){return Ne(()=>!!se.children)()&&se.children.length>0},get children(){var fe=wh(),he=fe.firstChild,Ie=he.nextSibling,pe=Ie.firstChild;return u(Ie,()=>se.children?.length,pe),fe}}),ae),Y})(),Sh()]}})}})),le}})}}),null),u(x,_(ne,{get when(){return!g.loading},get fallback(){return(()=>{var le=aa();return u(le,()=>Array(8).fill(da)),le})()},get children(){return _(ne,{get when(){return h().length>0},get fallback(){return(()=>{var le=Ch(),se=le.firstChild;return se.nextSibling,u(le,_(We,{href:"/products",class:"inline-flex items-center gap-2 px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-bold transition-all",get children(){return[oa(),"Ù…Ø´Ø§Ù‡Ø¯Ù‡ ØªÙ…Ø§Ù… Ù…Ø­ØµÙˆÙ„Ø§Øª"]}}),null),le})()},get children(){var le=aa();return u(le,_(ke,{get each(){return h()},children:(se,me)=>{const ve=zh(se,me()),Pe=Kh(se),De=Gh(se,a()),Y=He(()=>e()===se.id);return(()=>{var H=Th(),ae=H.firstChild,fe=ae.firstChild,he=fe.nextSibling,Ie=he.nextSibling;return u(H,_(We,{get href(){return`/products/${se.id}`},class:"shrink-0 relative",get children(){var pe=Ah(),de=pe.firstChild;return Le(de,"src",ve),u(pe,(()=>{var we=Ne(()=>se.stock===0);return()=>we()&&Ih()})(),null),u(pe,(()=>{var we=Ne(()=>se.stock>0&&se.stock<5);return()=>we()&&Lh()})(),null),G(()=>Le(de,"alt",se.name)),pe}}),ae),u(H,(()=>{var pe=Ne(()=>!!se.brand?.name);return()=>pe()&&(()=>{var de=Oh();return de.firstChild,u(de,()=>se.brand.name,null),de})()})(),ae),u(fe,_(We,{get href(){return`/products/${se.id}`},get children(){return se.name}})),u(ae,(()=>{var pe=Ne(()=>!!se.description);return()=>pe()&&(()=>{var de=qh();return u(de,()=>se.description),de})()})(),he),u(ae,(()=>{var pe=Ne(()=>Pe.length>0);return()=>pe()&&(()=>{var de=Rh();return u(de,_(ke,{each:Pe,children:we=>(()=>{var Re=Ph();return Re.firstChild,u(Re,we,null),Re})()})),de})()})(),he),u(he,_(ne,{get when(){return r.isAuthenticated()||De>0},get fallback(){return jh()},get children(){var pe=kh();return u(pe,()=>Hh(De)),pe}}),null),u(he,_(ne,{get when(){return se.stock>0},get children(){return Eh()}}),null),Ie.$$click=pe=>y(se,pe),u(Ie,_(ne,{get when(){return Y()},get fallback(){return[Dh(),"Ø§ÙØ²ÙˆØ¯Ù† Ø¨Ù‡ Ø³Ø¨Ø¯"]},get children(){return[Nh(),"Ø§ÙØ²ÙˆØ¯Ù‡ Ø´Ø¯ âœ“"]}})),G(pe=>{var de=`w-full px-4 py-3 rounded-xl font-bold text-sm shadow-md transition-all duration-300 flex items-center justify-center gap-2 ${Y()?"bg-green-600 hover:bg-green-700 text-white shadow-lg":se.stock===0?"bg-slate-300 text-slate-500 cursor-not-allowed":"bg-linear-to-r from-blue-600 to-cyan-600 hover:from-blue-700 hover:to-cyan-700 text-white hover:shadow-lg scale-100 hover:scale-105"}`,we=se.stock===0;return de!==pe.e&&tt(Ie,pe.e=de),we!==pe.t&&(Ie.disabled=pe.t=we),pe},{e:void 0,t:void 0}),H})()}})),le}})}}),T),u(T,_(We,{href:"/products",class:"inline-flex items-center justify-center gap-3 px-8 py-4 bg-linear-to-r from-blue-600 to-cyan-600 hover:from-blue-700 hover:to-cyan-700 text-white rounded-xl font-bold shadow-lg hover:shadow-xl transition-all duration-300 scale-100 hover:scale-105 text-lg",get children(){return[gh(),"Ù…Ø´Ø§Ù‡Ø¯Ù‡ ØªÙ…Ø§Ù… Ù…Ø­ØµÙˆÙ„Ø§Øª (",Ne(()=>g()?.length||0),")"]}})),u(P,_(ne,{get when(){return Ne(()=>!d.loading)()&&p().length>0},get fallback(){return _(ne,{get when(){return!d.loading},get fallback(){return(()=>{var le=Ln();return u(le,()=>Array(6).fill(Mh())),le})()},get children(){return Bh()}})},get children(){var le=ph();return u(le,_(ke,{get each(){return p()},children:se=>(()=>{var me=Uh(),ve=me.firstChild;return u(me,(()=>{var Pe=Ne(()=>!!se.logo);return()=>Pe()&&(()=>{var De=Fh();return G(Y=>{var H=se.logo.startsWith("http")?se.logo:`http://localhost:8080${se.logo}`,ae=se.name;return H!==Y.e&&Le(De,"src",Y.e=H),ae!==Y.t&&Le(De,"alt",Y.t=ae),Y},{e:void 0,t:void 0}),De})()})(),ve),u(ve,()=>se.name),me})()})),le}}),null),j.addEventListener("submit",le=>{le.preventDefault(),i("ØªØ´Ú©Ø±! Ø´Ù…Ø§ Ø§Ú©Ù†ÙˆÙ† Ø¹Ø¶Ùˆ Ù…Ø§ Ù‡Ø³ØªÛŒØ¯ ğŸ‰"),l(""),setTimeout(()=>i(""),3e3)}),ee.$$input=le=>l(le.currentTarget.value),u(W,_(ne,{get when(){return n()},get children(){var le=bh();return u(le,n),le}}),null),u(X,_(We,{href:"/products",class:"inline-flex items-center justify-center gap-3 px-8 py-4 bg-linear-to-r from-blue-600 to-cyan-600 hover:from-blue-700 hover:to-cyan-700 text-white rounded-xl font-bold text-lg shadow-lg hover:shadow-xl transition-all duration-300 scale-100 hover:scale-105",get children(){return[mh(),"Ø´Ø±ÙˆØ¹ Ø®Ø±ÛŒØ¯"]}}),null),u(X,_(We,{href:"/products",class:"inline-flex items-center justify-center gap-3 px-8 py-4 bg-white hover:bg-slate-50 text-blue-600 rounded-xl font-bold text-lg border-2 border-blue-600 shadow-md hover:shadow-lg transition-all duration-300",get children(){return[ia(),"Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ú©Ø§ØªØ§Ù„ÙˆÚ¯"]}}),null),G(()=>ee.value=s()),$})()};gt(["input","click"]);const Wo="/assets/logos-g88TBUvI.png";var Wh=v('<i class="fa-solid fa-arrow-right">'),Zh=v('<div class="flex items-center justify-center min-h-screen relative overflow-hidden bg-linear-to-br from-indigo-50 via-sky-50 to-white"dir=rtl><div class="absolute inset-0 bg-linear-to-b from-white/60 to-transparent pointer-events-none"></div><svg class="absolute -top-20 -right-20 w-96 h-96 opacity-30"viewBox="0 0 600 600"xmlns=http://www.w3.org/2000/svg><g transform=translate(300,300)><path d=M120,-180C170,-150,210,-100,220,-40C230,20,210,80,170,120C130,160,70,180,10,190C-50,200,-100,190,-140,160C-180,130,-210,80,-220,20C-230,-40,-220,-100,-180,-140C-140,-180,-70,-210,-10,-200C50,-190,100,-210,120,-180Z fill=#7c3aed></path></g></svg><svg class="absolute -bottom-24 -left-16 w-80 h-80 opacity-20"viewBox="0 0 600 600"xmlns=http://www.w3.org/2000/svg><g transform=translate(300,300)><path d=M100,-140C140,-110,170,-70,170,-30C170,10,140,50,100,80C60,110,10,130,-30,140C-70,150,-120,140,-150,110C-180,80,-200,40,-200,0C-200,-40,-180,-80,-150,-110C-120,-140,-70,-160,-30,-150C10,-140,60,-170,100,-140Z fill=#06b6d4></path></g></svg><div class="relative w-full max-w-md px-4 sm:px-6"><div class="text-center mb-8"><div class="inline-flex items-center justify-center w-24 h-24 rounded-3xl bg-white/80 backdrop-blur-md border border-slate-200 mb-6 shadow-2xl"><img alt="Ù„ÙˆÚ¯ÙˆÛŒ Ù…Ù‡Ø± Ø³Ù¾Ù‡Ø±"class="w-16 h-16 object-contain"></div><h1 class="text-4xl sm:text-5xl font-extrabold text-slate-900 mb-3">Ø®ÙˆØ´ Ø¢Ù…Ø¯ÛŒØ¯</h1><p class="text-lg text-slate-600">Ø¨Ù‡ ÙØ±ÙˆØ´Ú¯Ø§Ù‡ Ù…Ù‡Ø± Ø³Ù¾Ù‡Ø±</p></div><div class="bg-white rounded-3xl shadow-2xl p-8 sm:p-10 border border-white/20 backdrop-blur-sm"><div class=mb-8><h2 class="text-2xl sm:text-3xl font-extrabold text-slate-900 mb-2 text-center">ÙˆØ±ÙˆØ¯ Ø¨Ù‡ Ø­Ø³Ø§Ø¨ Ú©Ø§Ø±Ø¨Ø±ÛŒ</h2><p class="text-center text-slate-600 text-sm">Ø§ÛŒÙ…ÛŒÙ„ Ùˆ Ø±Ù…Ø² Ø¹Ø¨ÙˆØ± Ø®ÙˆØ¯ Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯</p></div><form autocomplete=on class=space-y-5><div><label class="block text-slate-700 text-sm font-bold mb-2"for=email>Ù¾Ø³Øª Ø§Ù„Ú©ØªØ±ÙˆÙ†ÛŒÚ©ÛŒ</label><div class=relative><div class="absolute right-4 top-1/2 -translate-y-1/2 text-slate-400"><i class="fa-solid fa-envelope"></i></div><input id=email type=email required autofocus placeholder=name@example.com class="w-full py-3.5 pl-4 pr-12 rounded-2xl border-2 border-slate-200 bg-slate-50 text-slate-900 placeholder-slate-400 focus:outline-none focus:border-indigo-500 focus:bg-white focus:ring-4 focus:ring-indigo-100 transition-all duration-300 shadow-sm hover:border-indigo-300"></div></div><div><label class="block text-slate-700 text-sm font-bold mb-2"for=password>Ø±Ù…Ø² Ø¹Ø¨ÙˆØ±</label><div class=relative><div class="absolute right-4 top-1/2 -translate-y-1/2 text-slate-400"><i class="fa-solid fa-lock"></i></div><input id=password required placeholder="Ø±Ù…Ø² Ø¹Ø¨ÙˆØ± Ø®ÙˆØ¯ Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯"class="w-full py-3.5 pl-4 pr-24 rounded-2xl border-2 border-slate-200 bg-slate-50 text-slate-900 placeholder-slate-400 focus:outline-none focus:border-indigo-500 focus:bg-white focus:ring-4 focus:ring-indigo-100 transition-all duration-300 shadow-sm hover:border-indigo-300"><button type=button class="absolute left-4 top-1/2 -translate-y-1/2 text-slate-500 hover:text-indigo-600 transition-colors font-medium text-sm"></button></div></div><div class="flex items-center justify-between"><label class="inline-flex items-center group cursor-pointer"><input type=checkbox class="w-5 h-5 rounded-lg border-2 border-slate-300 text-indigo-600 focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 cursor-pointer transition-all"><span class="mr-3 text-sm font-medium text-slate-700 group-hover:text-indigo-600 transition-colors">Ù…Ø±Ø§ Ø¨Ù‡ Ø®Ø§Ø·Ø± Ø¨Ø³Ù¾Ø§Ø±</span></label></div><button type=submit class="group w-full bg-linear-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 text-white font-bold py-4 px-6 rounded-2xl focus:outline-none focus:ring-4 focus:ring-indigo-300 disabled:opacity-60 disabled:cursor-not-allowed shadow-xl hover:shadow-2xl transition-all duration-300 flex items-center justify-center gap-3"></button></form></div><div class="mt-6 text-center">'),Xh=v('<div class="bg-red-50 border-2 border-red-200 text-red-700 px-5 py-4 rounded-2xl mb-6 flex items-start gap-3 shadow-sm"role=alert><div class="shrink-0 w-6 h-6 rounded-full bg-red-500 flex items-center justify-center mt-0.5"><i class="fa-solid fa-exclamation text-white text-xs"></i></div><div class=flex-1><strong class="block font-bold mb-1">Ø®Ø·Ø§</strong><div class=text-sm></div></div><button type=button class="text-red-400 hover:text-red-600 transition-colors"aria-label=Ø¨Ø³ØªÙ†><i class="fa-solid fa-xmark">'),Yh=v('<i class="fa-solid fa-eye-slash">'),Qh=v('<i class="fa-solid fa-eye">'),Jh=v('<i class="fa-solid fa-spinner fa-spin">'),ef=v("<span>Ø¯Ø± Ø­Ø§Ù„ ÙˆØ±ÙˆØ¯..."),tf=v("<span>ÙˆØ±ÙˆØ¯"),rf=v('<i class="fa-solid fa-arrow-left group-hover:-translate-x-1 transition-transform">');function sf(){const[r,e]=Q(""),[t,s]=Q(""),[l,n]=Q(""),[i,a]=Q(!1),[c,d]=Q(!1),[g,m]=Q(!1),h=jr(),p=bs();h.isAuthenticated()&&p("/");const y=w=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(w),$=async w=>{w.preventDefault(),n("");const S=r().trim(),E=t();if(!S||!E){n("Ø§ÛŒÙ…ÛŒÙ„ Ùˆ Ø±Ù…Ø² Ø¹Ø¨ÙˆØ± Ø¶Ø±ÙˆØ±ÛŒ Ø§Ø³Øª.");return}if(!y(S)){n("Ù„Ø·ÙØ§Ù‹ ÛŒÚ© Ø§ÛŒÙ…ÛŒÙ„ Ù…Ø¹ØªØ¨Ø± ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯.");return}a(!0);try{const A=await h.login(S,E);A.success?(g()?localStorage.setItem("remember","1"):localStorage.removeItem("remember"),p("/")):n(A.error||"ÙˆØ±ÙˆØ¯ Ù†Ø§Ù…ÙˆÙÙ‚ Ø¨ÙˆØ¯. Ù„Ø·ÙØ§Ù‹ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø±Ø§ Ø¨Ø±Ø±Ø³ÛŒ Ú©Ù†ÛŒØ¯.")}catch(A){n(A?.message||"Network error")}finally{a(!1)}};return(()=>{var w=Zh(),S=w.firstChild,E=S.nextSibling,A=E.nextSibling,O=A.nextSibling,F=O.firstChild,U=F.firstChild,M=U.firstChild,L=F.nextSibling,z=L.firstChild,ie=z.nextSibling,b=ie.firstChild,C=b.firstChild,x=C.nextSibling,R=x.firstChild,T=R.nextSibling,I=b.nextSibling,D=I.firstChild,P=D.nextSibling,B=P.firstChild,q=B.nextSibling,Z=q.nextSibling,W=I.nextSibling,k=W.firstChild,K=k.firstChild,j=W.nextSibling,ee=L.nextSibling;return Le(M,"src",Wo),u(L,(()=>{var te=Ne(()=>!!l());return()=>te()&&(()=>{var J=Xh(),ge=J.firstChild,oe=ge.nextSibling,X=oe.firstChild,le=X.nextSibling,se=oe.nextSibling;return u(le,l),se.$$click=()=>n(""),J})()})(),ie),ie.addEventListener("submit",$),T.$$input=te=>e(te.currentTarget.value),q.$$input=te=>s(te.currentTarget.value),Z.$$click=()=>d(!c()),u(Z,(()=>{var te=Ne(()=>!!c());return()=>te()?Yh():Qh()})()),K.addEventListener("change",te=>m(te.currentTarget.checked)),u(j,(()=>{var te=Ne(()=>!!i());return()=>te()?[Jh(),ef()]:[tf(),rf()]})()),u(ee,_(We,{href:"/",class:"inline-flex items-center gap-2 text-white/90 hover:text-white text-sm font-medium transition-colors",get children(){return[Wh(),"Ø¨Ø§Ø²Ú¯Ø´Øª Ø¨Ù‡ ØµÙØ­Ù‡ Ø§ØµÙ„ÛŒ"]}})),G(te=>{var J=c()?"text":"password",ge=c()?"Ù¾Ù†Ù‡Ø§Ù† Ú©Ø±Ø¯Ù† Ø±Ù…Ø²":"Ù†Ù…Ø§ÛŒØ´ Ø±Ù…Ø²",oe=i(),X=i();return J!==te.e&&Le(q,"type",te.e=J),ge!==te.t&&Le(Z,"aria-label",te.t=ge),oe!==te.a&&(j.disabled=te.a=oe),X!==te.o&&Le(j,"aria-busy",te.o=X),te},{e:void 0,t:void 0,a:void 0,o:void 0}),G(()=>T.value=r()),G(()=>q.value=t()),G(()=>K.checked=g()),w})()}gt(["input","click"]);var lf=v('<div class="flex min-h-[420px] items-center justify-center"><div class="rounded-2xl border border-slate-200 bg-white px-8 py-6 shadow-sm"><p class="text-sm text-slate-500">Ø¯Ø± Ø­Ø§Ù„ Ø¨Ø±Ø±Ø³ÛŒ Ø¯Ø³ØªØ±Ø³ÛŒ...');const nf=r=>{const e=jr(),t=bs();return Or(()=>{!e.isProfileLoading()&&!e.isAuthenticated()&&t("/login",{replace:!0})}),_(ne,{get when(){return e.isAuthenticated()},get fallback(){return lf()},get children(){return r.children}})};var af=v('<article class="group relative bg-white rounded-2xl overflow-hidden shadow-md hover:shadow-xl transition-all duration-300 animate-pulse"><div class="h-56 bg-gray-200"></div><div class="p-5 space-y-3"><div class="h-3 w-20 bg-gray-200 rounded-full"></div><div class="h-5 w-3/4 bg-gray-200 rounded"></div><div class="h-3 w-1/2 bg-gray-200 rounded"></div><div class="h-10 w-full bg-gray-200 rounded">'),of=v('<button class="px-4 py-2 rounded-xl bg-red-100 text-red-600 font-bold hover:bg-red-200 transition-all"title="Ù¾Ø§Ú© Ú©Ù†">âœ•'),cf=v('<button class="px-4 py-2 rounded-lg bg-slate-100 hover:bg-slate-200 text-slate-700 font-bold text-sm transition-all flex items-center gap-2"title="Ø¨Ø§Ø²Ù†Ø´Ø§Ù†ÛŒ ÙÛŒÙ„ØªØ±Ù‡Ø§"><i class="fa-solid fa-redo"></i>Ø¨Ø§Ø²Ù†Ø´Ø§Ù†ÛŒ'),df=v('<div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6">'),uf=v('<div class="min-h-screen bg-slate-50 py-12"><section class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 space-y-8"><div class="flex flex-wrap items-center justify-between gap-4"><div><p class=section-kicker>ÙØ±ÙˆØ´Ú¯Ø§Ù‡</p><h1 class="text-3xl font-bold text-slate-900">Ù…Ø­ØµÙˆÙ„Ø§Øª</h1></div><div class="flex gap-3 grow max-w-md"><input type=search placeholder="Ø¬Ø³ØªØ¬Ùˆ Ù†Ø§Ù… ÛŒØ§ SKU Ù…Ø­ØµÙˆÙ„..."class="grow rounded-xl border border-slate-200 px-4 py-2 text-sm focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 transition-all"></div></div><div class="bg-white rounded-xl border border-slate-200 p-4 shadow-sm"><div class="flex flex-wrap gap-4 items-center"><div class="text-sm font-bold text-slate-600 flex items-center gap-2"><i class="fa-solid fa-filter"></i>ÙÛŒÙ„ØªØ±Ù‡Ø§:</div><div class="flex-1 min-w-[200px]"><label class="text-xs font-bold text-slate-600 block mb-2">Ø¯Ø³ØªÙ‡â€ŒØ¨Ù†Ø¯ÛŒ</label><select class="w-full rounded-lg border border-slate-300 px-3 py-2 text-sm bg-white hover:border-indigo-400 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 transition-all"><option value=all>ğŸ“ Ù‡Ù…Ù‡ Ø¯Ø³ØªÙ‡â€ŒÙ‡Ø§</option></select></div><div class="flex-1 min-w-[200px]"><label class="text-xs font-bold text-slate-600 block mb-2">Ø¨Ø±Ù†Ø¯</label><select class="w-full rounded-lg border border-slate-300 px-3 py-2 text-sm bg-white hover:border-indigo-400 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 transition-all"><option value=all>ğŸ·ï¸ Ù‡Ù…Ù‡ Ø¨Ø±Ù†Ø¯Ù‡Ø§'),hf=v("<option>ğŸ“‚ "),ff=v("<option>ğŸ¢ "),gf=v('<div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8">'),pf=v('<p class="text-center text-slate-600">Ù‡ÛŒÚ† Ù…Ø­ØµÙˆÙ„ÛŒ ÛŒØ§ÙØª Ù†Ø´Ø¯'),bf=v('<div class="relative h-56 overflow-hidden bg-slate-100"><img class="w-full h-full object-cover group-hover:scale-105 transition-transform duration-500">'),mf=v('<span class="text-base font-bold text-blue-600">'),xf=v('<span class="flex items-center gap-1 text-xs text-green-600 font-bold bg-green-50 px-2 py-1 rounded"><i class="fa-solid fa-check-circle"></i>Ù…ÙˆØ¬ÙˆØ¯'),vf=v('<article class="group relative bg-white rounded-2xl overflow-hidden shadow-md hover:shadow-lg transition-all duration-300 flex flex-col h-full"><div class="p-4 grow flex flex-col"><h3 class="text-sm font-bold text-slate-900 group-hover:text-blue-600 transition-colors line-clamp-2 mb-2"></h3><div class="flex items-center justify-between mb-3 pt-3 border-t border-slate-100">'),yf=v('<div class="absolute inset-0 bg-black/50 flex items-center justify-center"><span class="text-white font-bold">ØªÙ…Ø§Ù… Ø´Ø¯'),$f=v('<div class="absolute top-3 left-3 bg-blue-600 text-white px-2 py-1 rounded-full text-xs font-bold shadow-md">'),wf=v('<div class="text-xs text-slate-600 space-y-1 mb-3 grow">'),_f=v('<p class="flex items-center gap-2"><i class="fa-solid fa-check text-green-600 text-xs">'),Sf=v('<span class="text-sm font-bold text-amber-600">Ø¨Ø±Ø§ÛŒ Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ù‚ÛŒÙ…Øª ÙˆØ§Ø±Ø¯ Ø´ÙˆÛŒØ¯');const ua=["/assets/images/IMG_20250920_112531_285.jpg","/assets/images/WhatsApp-Image-2025-09-20-at-11.03.30-2.jpeg","/assets/images/photo_2024-12-27_23-20-44.jpg","/assets/images/e1c1d291f800e7c8f67e8b070549681c322dbe89_1603174412.jpg","/assets/images/dd7197c77621521206b911e2739c49df437c9830_1603176952.jpg","/assets/images/4740b694c13f350604a0382c9c9ffd15bd2a98cb_1603179813.jpg"],Cf=r=>`${Intl.NumberFormat("fa-IR").format(r??0)} ØªÙˆÙ…Ø§Ù†`,Af=(r,e)=>{const s=(r.images?.find(l=>l.isPrimary)||r.images?.[0])?.url;return s?ki(s):ua[e%ua.length]},kf=r=>{const e=[];return r.material&&e.push(`Ø¬Ù†Ø³: ${r.material}`),r.capacity&&e.push(`Ø¸Ø±ÙÛŒØª: ${r.capacity}`),r.power&&e.push(`ØªÙˆØ§Ù†: ${r.power}`),r.warranty&&e.push(`Ú¯Ø§Ø±Ø§Ù†ØªÛŒ: ${r.warranty}`),e.slice(0,2)},Ef=(r,e=[])=>{if(!r.prices||r.prices.length===0)return r.price;if(e.length>0)for(const s of e){const l=r.prices.find(n=>n.groupId===s);if(l)return l.price}const t=r.prices.find(s=>!s.groupId);return t?t.price:r.price},Nf=af(),Tf=()=>{const r=jr(),[e]=Vd(),[t,s]=Q("all"),[l,n]=Q("all"),[i,a]=Q(e.search||"");Or(()=>{if(e.search){const p=Array.isArray(e.search)?e.search[0]:e.search;a(p)}if(e.categoryId){const p=Array.isArray(e.categoryId)?e.categoryId[0]:e.categoryId;s(p)}});const c=He(()=>r.groups().map(p=>p.id??0).filter(p=>p>0)),[d]=ur(async()=>{try{const p=await vr.getAll();return(Array.isArray(p.data)?p.data:[]).map(Ks)}catch(p){return p instanceof zo&&p.status===401?[]:(console.error("Failed to load categories:",p),[])}}),[g]=ur(async()=>{const p=await os.getAll();return Array.isArray(p.data)?p.data:[]}),[m,{refetch:h}]=ur(async()=>{const p={};if(t()!=="all"){const E=Number(t());isNaN(E)||(p.categoryId=E)}if(l()!=="all"){const E=Number(l());isNaN(E)||(p.brandId=E)}const y=i(),$=(Array.isArray(y)?y[0]:y).trim();$&&(p.search=$);const w=await Dt.getAll(p);return(Array.isArray(w.data)?w.data:[]).map(Cl)});return Or(()=>{t(),l(),i(),h()}),(()=>{var p=uf(),y=p.firstChild,$=y.firstChild,w=$.firstChild,S=w.nextSibling,E=S.firstChild,A=$.nextSibling,O=A.firstChild,F=O.firstChild,U=F.nextSibling,M=U.firstChild,L=M.nextSibling;L.firstChild;var z=U.nextSibling,ie=z.firstChild,b=ie.nextSibling;return b.firstChild,E.$$input=C=>a(C.currentTarget.value),u(S,_(ne,{get when(){return i()},get children(){var C=of();return C.$$click=()=>a(""),C}}),null),L.addEventListener("change",C=>s(C.currentTarget.value)),u(L,_(ke,{get each(){return d()},children:C=>(()=>{var x=hf();return x.firstChild,u(x,()=>C.name,null),G(()=>x.value=C.id),x})()}),null),b.addEventListener("change",C=>n(C.currentTarget.value)),u(b,_(ke,{get each(){return g()},children:C=>(()=>{var x=ff();return x.firstChild,u(x,()=>C.name,null),G(()=>x.value=C.id),x})()}),null),u(O,_(ne,{get when(){return t()!=="all"||l()!=="all"},get children(){var C=cf();return C.$$click=()=>{s("all"),n("all")},C}}),null),u(y,_(ne,{get when(){return!m.loading},get fallback(){return(()=>{var C=gf();return u(C,()=>Array(8).fill(Nf)),C})()},get children(){return _(ne,{get when(){return m().length>0},get fallback(){return pf()},get children(){var C=df();return u(C,_(ke,{get each(){return m()},children:(x,R)=>{const T=Af(x,R()),I=kf(x),D=Ef(x,c());return(()=>{var P=vf(),B=P.firstChild,q=B.firstChild,Z=q.nextSibling;return u(P,_(We,{get href(){return`/products/${x.id}`},class:"shrink-0",get children(){var W=bf(),k=W.firstChild;return Le(k,"src",T),u(W,(()=>{var K=Ne(()=>x.stock===0);return()=>K()&&yf()})(),null),G(()=>Le(k,"alt",x.name)),W}}),B),u(P,(()=>{var W=Ne(()=>!!x.brand?.name);return()=>W()&&(()=>{var k=$f();return u(k,()=>x.brand.name),k})()})(),B),u(q,_(We,{get href(){return`/products/${x.id}`},get children(){return x.name}})),u(B,(()=>{var W=Ne(()=>I.length>0);return()=>W()&&(()=>{var k=wf();return u(k,_(ke,{each:I,children:K=>(()=>{var j=_f();return j.firstChild,u(j,K,null),j})()})),k})()})(),Z),u(Z,_(ne,{get when(){return r.isAuthenticated()||D>0},get fallback(){return Sf()},get children(){var W=mf();return u(W,()=>Cf(D)),W}}),null),u(Z,_(ne,{get when(){return x.stock>0},get children(){return xf()}}),null),u(B,_(We,{get href(){return`/products/${x.id}`},get class(){return`w-full px-3 py-2 rounded-lg font-bold text-sm shadow-md transition-all duration-300 text-center ${x.stock===0?"bg-slate-300 text-slate-500 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700 text-white hover:shadow-lg"}`},children:"Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ø¬Ø²Ø¦ÛŒØ§Øª"}),null),P})()}})),C}})}}),null),G(()=>E.value=i()),G(()=>L.value=t()),G(()=>b.value=l()),p})()};gt(["input","click"]);const Ti="cart_v1",If=r=>{if(!r)return[];try{const e=JSON.parse(r);if(Array.isArray(e))return e}catch{}return[]},[Vs,mn]=Q(If(localStorage.getItem(Ti))),Ii=r=>{try{localStorage.setItem(Ti,JSON.stringify(r))}catch{}},Lf=(r,e,t)=>`${r}_${e??"-"}_${t??"-"}`,Of=r=>{const e=Math.max(1,Math.floor(r.quantity??1)),t=Lf(r.productId,r.sizeId,r.colorId),s=Vs().slice(),l=s.findIndex(n=>n.id===t);l>=0?s[l].quantity=s[l].quantity+e:s.push({id:t,productId:r.productId,product:r.product,quantity:e,sizeId:r.sizeId??null,colorId:r.colorId??null,unitPrice:r.unitPrice}),mn(s),Ii(s)},qf=r=>{const e=Vs().filter(t=>t.id!==r);mn(e),Ii(e)},Rf=(r,e)=>{const t=Math.max(1,Math.floor(e)),s=Vs().slice(),l=s.findIndex(n=>n.id===r);l>=0&&(s[l].quantity=t,mn(s),Ii(s))},Pf=()=>{mn([]);try{localStorage.removeItem(Ti)}catch{}},jf=()=>Vs().reduce((r,e)=>r+e.unitPrice*e.quantity,0),Df=()=>Vs().reduce((r,e)=>r+e.quantity,0),Bf=()=>({items:Vs,addItem:Of,removeItem:qf,updateQuantity:Rf,clear:Pf,total:jf,count:Df});var Mf=v('<div class="min-h-screen flex items-center justify-center"><div class=text-center><div class="text-6xl mb-4 animate-spin">â³</div><p class="text-xl text-slate-600">Ø¯Ø± Ø­Ø§Ù„ Ø¨Ø§Ø±Ú¯ÛŒØ±ÛŒ Ù…Ø­ØµÙˆÙ„...'),Uf=v('<div dir=rtl class="min-h-screen bg-linear-to-br from-slate-50 via-blue-50 to-indigo-50 py-8">'),Ff=v('<div class="max-w-7xl mx-auto px-4 mb-8"><nav class="text-sm text-slate-500 flex items-center gap-2"><span>/</span><span>/</span><span class="text-slate-700 font-semibold">'),zf=v('<p class="text-4xl font-bold text-indigo-600">'),Hf=v('<span class="text-sm font-bold text-green-600 bg-green-100 px-3 py-1 rounded-full">âœ“ Ù…ÙˆØ¬ÙˆØ¯'),Gf=v('<span class="text-sm font-bold text-red-600 bg-red-100 px-3 py-1 rounded-full">âœ• Ù†Ø§Ù…ÙˆØ¬ÙˆØ¯'),Kf=v('<div class="bg-linear-to-br from-blue-50 to-blue-100 p-3 rounded-lg border border-blue-200"><p class="text-xs font-bold text-blue-600 uppercase mb-1">Ø¨Ø±Ù†Ø¯</p><p class="text-sm font-semibold text-slate-900">'),Vf=v('<div class="bg-linear-to-br from-indigo-50 to-indigo-100 p-3 rounded-lg border border-indigo-200"><p class="text-xs font-bold text-indigo-600 uppercase mb-1">Ø¯Ø³ØªÙ‡â€ŒØ¨Ù†Ø¯ÛŒ</p><p class="text-sm font-semibold text-slate-900">'),Wf=v('<div class="bg-linear-to-br from-purple-50 to-purple-100 p-3 rounded-lg border border-purple-200"><p class="text-xs font-bold text-purple-600 uppercase mb-1">Ù…Ø¯Ù„</p><p class="text-sm font-semibold text-slate-900">'),Zf=v('<div class="bg-linear-to-br from-pink-50 to-pink-100 p-3 rounded-lg border border-pink-200"><p class="text-xs font-bold text-pink-600 uppercase mb-1">Ú©Ø¯ Ù…Ø­ØµÙˆÙ„</p><p class="text-sm font-mono font-semibold text-slate-900">'),Xf=v('<div class="bg-linear-to-br from-green-50 to-green-100 p-3 rounded-lg border border-green-200"><p class="text-xs font-bold text-green-600 uppercase mb-1">Ú¯Ø§Ø±Ø§Ù†ØªÛŒ</p><p class="text-sm font-semibold text-slate-900">'),Yf=v('<div class="bg-linear-to-br from-orange-50 to-orange-100 p-3 rounded-lg border border-orange-200"><p class="text-xs font-bold text-orange-600 uppercase mb-1">ÙˆØ²Ù†</p><p class="text-sm font-semibold text-slate-900"> Ú©ÛŒÙ„ÙˆÚ¯Ø±Ù…'),Qf=v('<div class="bg-linear-to-br from-cyan-50 to-cyan-100 p-3 rounded-lg border border-cyan-200"><p class="text-xs font-bold text-cyan-600 uppercase mb-1">Ø§Ø¨Ø¹Ø§Ø¯</p><p class="text-sm font-semibold text-slate-900">'),Jf=v('<div class="bg-linear-to-br from-teal-50 to-teal-100 p-3 rounded-lg border border-teal-200"><p class="text-xs font-bold text-teal-600 uppercase mb-1">Ø¸Ø±ÙÛŒØª</p><p class="text-sm font-semibold text-slate-900">'),eg=v('<div class="bg-linear-to-br from-amber-50 to-amber-100 p-3 rounded-lg border border-amber-200"><p class="text-xs font-bold text-amber-600 uppercase mb-1">Ø¬Ù†Ø³</p><p class="text-sm font-semibold text-slate-900">'),tg=v('<div class="bg-white rounded-2xl p-6 shadow-sm border-2 border-slate-200"><h3 class="text-lg font-bold text-slate-900 mb-4 flex items-center gap-2"><span>ğŸ“</span>Ø§Ù†ØªØ®Ø§Ø¨ Ø³Ø§ÛŒØ²</h3><div class="flex flex-wrap gap-3">'),rg=v('<div class="bg-white rounded-2xl p-6 shadow-sm border-2 border-slate-200"><h3 class="text-lg font-bold text-slate-900 mb-4 flex items-center gap-2"><span>ğŸ¨</span>Ø§Ù†ØªØ®Ø§Ø¨ Ø±Ù†Ú¯</h3><div class="flex flex-wrap gap-3">'),sg=v('<div class="pt-16 mt-16 border-t-2 border-slate-200"><div class="flex items-center gap-3 mb-8"><h2 class="text-3xl font-bold text-slate-900">ğŸ”— Ù…Ø­ØµÙˆÙ„Ø§Øª Ù…Ø±ØªØ¨Ø·</h2><div class="flex-1 h-1 bg-linear-to-r from-indigo-600 to-purple-600 rounded-full"></div></div><div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6">'),lg=v('<section class="max-w-7xl mx-auto px-4"><div class="grid lg:grid-cols-2 gap-12"><div class=space-y-6><div class="sticky top-8 space-y-6"><div class="relative rounded-3xl overflow-hidden shadow-2xl border-4 border-white bg-white"><img class="w-full h-[500px] object-cover"><div class="absolute top-4 right-4 bg-linear-to-r from-indigo-600 to-purple-600 text-white px-4 py-2 rounded-full text-sm font-bold">Ù…Ø­ØµÙˆÙ„ ÙˆÛŒÚ˜Ù‡</div></div><div class="grid grid-cols-5 gap-3"></div></div></div><div class=space-y-6><div class="bg-white rounded-2xl p-6 shadow-sm border-2 border-slate-200 hover:shadow-lg transition-all"><h1 class="text-4xl font-bold text-slate-900 mb-3"></h1><div class="flex items-baseline gap-3"></div></div><div class="bg-white rounded-2xl p-6 shadow-sm border-2 border-slate-200"><h3 class="text-lg font-bold text-slate-900 mb-3 flex items-center gap-2"><span>ğŸ“</span>ØªÙˆØ¶ÛŒØ­Ø§Øª</h3><div class="text-slate-600 leading-relaxed text-justify prose prose-sm max-w-none [&amp;>*]:my-2 [&amp;>h1]:text-2xl [&amp;>h2]:text-xl [&amp;>h3]:text-lg [&amp;>h1]:font-bold [&amp;>h2]:font-bold [&amp;>h3]:font-bold [&amp;>p]:text-slate-700 [&amp;>ul]:list-disc [&amp;>ul]:ml-6 [&amp;>ol]:list-decimal [&amp;>ol]:ml-6 [&amp;>li]:my-1 [&amp;>blockquote]:border-r-4 [&amp;>blockquote]:border-indigo-500 [&amp;>blockquote]:pl-4 [&amp;>blockquote]:pr-4 [&amp;>blockquote]:bg-slate-50 [&amp;>blockquote]:py-2 [&amp;>blockquote]:my-3 [&amp;>a]:text-indigo-600 [&amp;>a]:hover:underline [&amp;>code]:bg-slate-100 [&amp;>code]:px-2 [&amp;>code]:py-1 [&amp;>code]:rounded [&amp;>pre]:bg-slate-900 [&amp;>pre]:text-white [&amp;>pre]:p-4 [&amp;>pre]:rounded [&amp;>pre]:overflow-x-auto [&amp;>img]:rounded-lg [&amp;>img]:my-4 [&amp;>img]:max-w-full [&amp;>img]:h-auto"></div></div><div class="bg-white rounded-2xl p-6 shadow-sm border-2 border-slate-200"><h3 class="text-lg font-bold text-slate-900 mb-4 flex items-center gap-2"><span>ğŸ“‹</span>Ù…Ø´Ø®ØµØ§Øª ÙÙ†ÛŒ</h3><div class="grid grid-cols-2 gap-4"></div></div><div class="bg-white rounded-2xl p-6 shadow-sm border-2 border-slate-200 space-y-4"><div class="grid grid-cols-2 gap-4"><div><label class="text-sm font-bold text-slate-900 mb-2 flex items-center gap-2"><span>ğŸ“¦</span>ØªØ¹Ø¯Ø§Ø¯</label><div class="flex items-center border-2 border-slate-200 rounded-xl overflow-hidden"><button class="px-4 py-3 hover:bg-slate-100 transition font-bold text-lg">âˆ’</button><input type=number class="flex-1 text-center border-x-2 border-slate-200 py-3 font-bold text-lg focus:outline-none"min=1><button class="px-4 py-3 hover:bg-slate-100 transition font-bold text-lg">+</button></div></div><div><label class="text-sm font-bold text-slate-900 mb-2 flex items-center gap-2"><span>ğŸ“Š</span>Ù…ÙˆØ¬ÙˆØ¯ÛŒ</label><div class="bg-linear-to-br from-blue-50 to-blue-100 border-2 border-blue-200 rounded-xl py-3 text-center"><p class="text-2xl font-bold text-blue-900"></p><p class="text-xs text-blue-600 font-semibold">Ø¹Ø¯Ø¯ Ù…ÙˆØ¬ÙˆØ¯</p></div></div></div><button class="w-full py-4 bg-linear-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 text-white rounded-xl font-bold text-lg shadow-lg hover:shadow-xl transition-all hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100 flex items-center justify-center gap-2"><span>ğŸ›’'),ng=v('<button><img alt class="w-full h-24 object-cover">'),ig=v('<p class="text-sm font-bold text-amber-600">Ø¨Ø±Ø§ÛŒ Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ù‚ÛŒÙ…Øª ÙˆØ§Ø±Ø¯ Ø´ÙˆÛŒØ¯'),ag=v("<div>"),og=v("<p>ØªÙˆØ¶ÛŒØ­Ø§Øª Ù…Ø­ØµÙˆÙ„ Ø¨Ù‡ Ø²ÙˆØ¯ÛŒ ØªÚ©Ù…ÛŒÙ„ Ù…ÛŒâ€ŒØ´ÙˆØ¯."),ha=v('<button><span></span><span class="text-xs opacity-70 block mt-1">(<!> Ù…ÙˆØ¬ÙˆØ¯)'),cg=v('<img class="w-full h-48 object-cover group-hover:scale-110 transition-transform duration-300">'),dg=v('<article class="bg-white rounded-2xl shadow-md hover:shadow-2xl transition-all overflow-hidden border-2 border-slate-200 hover:border-indigo-300 group"><div class="p-4 space-y-3"><p class="text-xs font-bold text-indigo-600 uppercase tracking-wide"></p><h3 class="text-base font-bold text-slate-900 line-clamp-2"></h3><p class="text-sm text-slate-600 line-clamp-2 h-10"></p><div class="flex justify-between items-center pt-2 border-t border-slate-100"><span class="text-xs font-mono text-slate-500">Ú©Ø¯: </span><span class="font-bold text-indigo-600 text-sm">');const On=r=>`${Intl.NumberFormat("fa-IR").format(r??0)} ØªÙˆÙ…Ø§Ù†`,qn=r=>r?.url?ki(r.url):"/placeholder.jpg",ug=(r,e=[])=>{if(!r?.prices||r.prices.length===0)return r?.price??0;if(e.length>0)for(const s of e){const l=r.prices.find(n=>n.groupId===s);if(l)return l.price}const t=r.prices.find(s=>!s.groupId);return t?t.price:r?.price??0},hg=()=>{const r=jr(),e=Mo(),t=bs(),[s,l]=Q(0),[n,i]=Q(null),[a,c]=Q(null),[d,g]=Q(1),m=He(()=>r.groups().map(U=>U.id??0).filter(U=>U>0)),[h]=ur(async()=>{if(!e.id)return null;const U=await Dt.getById(e.id);return U.data?Cl(U.data):null});Or(()=>{h(),l(0)});const[p]=ur(async()=>{const U=h();if(!U?.categoryId)return[];const M=await Dt.getAll({categoryId:U.categoryId});return(Array.isArray(M.data)?M.data:[]).map(Cl).filter(z=>z.id!==U?.id&&z.isActive!==!1).slice(0,4)}),y=()=>h()?.images||[],$=()=>h()?.sizes||[],w=()=>h()?.colors||[],S=()=>{const U=n();return U!==null?$().find(M=>M.id===U):null},E=()=>{const U=a();return U!==null?w().find(M=>M.id===U):null},A=()=>{const U=S(),M=E();return U?U.stock:M?M.stock:h()?.stock??0},O=()=>{const U=S();return U?.price?U.price:ug(h()??null,m())},F=()=>{const U=h();if(!U)return;const M={productId:U.id,product:U,quantity:d(),sizeId:n(),colorId:a(),unitPrice:O()};try{Bf().addItem(M)}catch(L){console.error("Failed to add to cart",L)}t("/orders")};return(()=>{var U=Uf();return u(U,_(ne,{get when(){return!h()},fallback:null,get children(){return Mf()}}),null),u(U,_(ne,{get when(){return h()},fallback:null,children:M=>[(()=>{var L=Ff(),z=L.firstChild,ie=z.firstChild,b=ie.nextSibling,C=b.nextSibling;return u(z,_(We,{href:"/",class:"hover:text-indigo-600 transition",children:"ğŸ  Ø®Ø§Ù†Ù‡"}),ie),u(z,_(We,{href:"/products",class:"hover:text-indigo-600 transition",children:"ğŸ›ï¸ Ù…Ø­ØµÙˆÙ„Ø§Øª"}),b),u(C,()=>M().name),L})(),(()=>{var L=lg(),z=L.firstChild,ie=z.firstChild,b=ie.firstChild,C=b.firstChild,x=C.firstChild,R=C.nextSibling,T=ie.nextSibling,I=T.firstChild,D=I.firstChild,P=D.nextSibling,B=I.nextSibling,q=B.firstChild,Z=q.nextSibling,W=B.nextSibling,k=W.firstChild,K=k.nextSibling,j=W.nextSibling,ee=j.firstChild,te=ee.firstChild,J=te.firstChild,ge=J.nextSibling,oe=ge.firstChild,X=oe.nextSibling,le=X.nextSibling,se=te.nextSibling,me=se.firstChild,ve=me.nextSibling,Pe=ve.firstChild,De=ee.nextSibling;return De.firstChild,u(R,_(ke,{get each(){return y()},children:(Y,H)=>(()=>{var ae=ng(),fe=ae.firstChild;return ae.$$click=()=>l(H()),G(he=>{var Ie=`rounded-xl overflow-hidden border-3 transition-all hover:scale-110 ${H()===s()?"border-indigo-600 shadow-lg scale-110":"border-slate-200 hover:border-indigo-300"}`,pe=qn(Y);return Ie!==he.e&&tt(ae,he.e=Ie),pe!==he.t&&Le(fe,"src",he.t=pe),he},{e:void 0,t:void 0}),ae})()})),u(D,()=>M().name),u(P,_(ne,{get when(){return r.isAuthenticated()||O()>0},get fallback(){return ig()},get children(){var Y=zf();return u(Y,()=>On(O())),Y}}),null),u(P,_(ne,{get when(){return A()>0},get children(){return Hf()}}),null),u(P,_(ne,{get when(){return A()===0},get children(){return Gf()}}),null),u(Z,(()=>{var Y=Ne(()=>!!M().description);return()=>Y()?(()=>{var H=ag();return G(()=>H.innerHTML=M().description),H})():og()})()),u(K,_(ne,{get when(){return M().brand?.name},get children(){var Y=Kf(),H=Y.firstChild,ae=H.nextSibling;return u(ae,()=>M().brand?.name),Y}}),null),u(K,_(ne,{get when(){return M().category?.name},get children(){var Y=Vf(),H=Y.firstChild,ae=H.nextSibling;return u(ae,()=>M().category?.name),Y}}),null),u(K,_(ne,{get when(){return M().modelNumber},get children(){var Y=Wf(),H=Y.firstChild,ae=H.nextSibling;return u(ae,()=>M().modelNumber),Y}}),null),u(K,_(ne,{get when(){return M().sku},get children(){var Y=Zf(),H=Y.firstChild,ae=H.nextSibling;return u(ae,()=>M().sku),Y}}),null),u(K,_(ne,{get when(){return M().warranty},get children(){var Y=Xf(),H=Y.firstChild,ae=H.nextSibling;return u(ae,()=>M().warranty),Y}}),null),u(K,_(ne,{get when(){return M().weight},get children(){var Y=Yf(),H=Y.firstChild,ae=H.nextSibling,fe=ae.firstChild;return u(ae,()=>M().weight,fe),Y}}),null),u(K,_(ne,{get when(){return M().dimensions},get children(){var Y=Qf(),H=Y.firstChild,ae=H.nextSibling;return u(ae,()=>M().dimensions),Y}}),null),u(K,_(ne,{get when(){return M().capacity},get children(){var Y=Jf(),H=Y.firstChild,ae=H.nextSibling;return u(ae,()=>M().capacity),Y}}),null),u(K,_(ne,{get when(){return M().material},get children(){var Y=eg(),H=Y.firstChild,ae=H.nextSibling;return u(ae,()=>M().material),Y}}),null),u(T,_(ne,{get when(){return $().length>0},get children(){var Y=tg(),H=Y.firstChild,ae=H.nextSibling;return u(ae,_(ke,{get each(){return $()},children:fe=>(()=>{var he=ha(),Ie=he.firstChild,pe=Ie.nextSibling,de=pe.firstChild,we=de.nextSibling;return we.nextSibling,he.$$click=()=>i(fe.id),u(Ie,()=>fe.name),u(pe,()=>fe.stock,we),G(()=>tt(he,`px-4 py-3 rounded-xl border-2 font-bold transition-all hover:scale-105 ${n()===fe.id?"border-indigo-600 bg-indigo-50 text-indigo-600 shadow-md":"border-slate-200 text-slate-600 hover:border-indigo-300"}`)),he})()})),Y}}),j),u(T,_(ne,{get when(){return w().length>0},get children(){var Y=rg(),H=Y.firstChild,ae=H.nextSibling;return u(ae,_(ke,{get each(){return w()},children:fe=>(()=>{var he=ha(),Ie=he.firstChild,pe=Ie.nextSibling,de=pe.firstChild,we=de.nextSibling;return we.nextSibling,he.$$click=()=>c(fe.id),u(Ie,()=>fe.name),u(pe,()=>fe.stock,we),G(()=>tt(he,`px-4 py-3 rounded-xl border-2 font-bold transition-all hover:scale-105 ${a()===fe.id?"border-indigo-600 bg-indigo-50 text-indigo-600 shadow-md":"border-slate-200 text-slate-600 hover:border-indigo-300"}`)),he})()})),Y}}),j),oe.$$click=()=>g(Math.max(1,d()-1)),X.$$input=Y=>g(Number(Y.currentTarget.value)),le.$$click=()=>g(Math.min(A(),d()+1)),u(Pe,A),De.$$click=F,u(De,_(ne,{get when(){return r.isAuthenticated()},fallback:"Ø¨Ø±Ø§ÛŒ Ø®Ø±ÛŒØ¯ ÙˆØ§Ø±Ø¯ Ø´ÙˆÛŒØ¯",get children(){return["Ø§ÙØ²ÙˆØ¯Ù† Ø¨Ù‡ Ø³ÙØ§Ø±Ø´ (",Ne(()=>On(O()*d())),")"]}}),null),u(L,_(ne,{get when(){return p().length>0},get children(){var Y=sg(),H=Y.firstChild,ae=H.nextSibling;return u(ae,_(ke,{get each(){return p()},children:fe=>{const he=qn(fe.images?.[0]);return(()=>{var Ie=dg(),pe=Ie.firstChild,de=pe.firstChild,we=de.nextSibling,Re=we.nextSibling,Ge=Re.nextSibling,Ke=Ge.firstChild;Ke.firstChild;var Be=Ke.nextSibling;return u(Ie,_(We,{get href(){return`/products/${fe.id}`},class:"block overflow-hidden rounded-t-lg",get children(){var Ze=cg();return Le(Ze,"src",he),G(()=>Le(Ze,"alt",fe.name)),Ze}}),pe),u(de,()=>fe.category?.name??"Ø¯Ø³ØªÙ‡â€ŒØ¨Ù†Ø¯ÛŒ Ù†Ø´Ø¯Ù‡"),u(we,_(We,{get href(){return`/products/${fe.id}`},class:"hover:text-indigo-600 transition",get children(){return fe.name}})),u(Re,()=>fe.description||"Ø¬Ø²Ø¦ÛŒØ§Øª Ù…Ø­ØµÙˆÙ„ Ø¨Ù‡ Ø²ÙˆØ¯ÛŒ ØªÚ©Ù…ÛŒÙ„ Ù…ÛŒâ€ŒØ´ÙˆØ¯."),u(Ke,()=>fe.sku,null),u(Be,()=>On(fe.price)),u(pe,_(We,{get href(){return`/products/${fe.id}`},class:"block mt-3 text-center py-2 bg-linear-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 text-white rounded-lg font-bold text-sm shadow-md hover:shadow-lg transition-all hover:scale-105",children:"Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ø¬Ø²Ø¦ÛŒØ§Øª"}),null),Ie})()}})),Y}}),null),G(Y=>{var H=qn(y()[s()]),ae=M().name,fe=A(),he=A()===0||d()>A()||!r.isAuthenticated();return H!==Y.e&&Le(x,"src",Y.e=H),ae!==Y.t&&Le(x,"alt",Y.t=ae),fe!==Y.a&&Le(X,"max",Y.a=fe),he!==Y.o&&(De.disabled=Y.o=he),Y},{e:void 0,t:void 0,a:void 0,o:void 0}),G(()=>X.value=d()),L})()]}),null),U})()};gt(["click","input"]);var fg=v('<div class="grid gap-6 lg:grid-cols-2">'),gg=v('<div class="min-h-screen bg-linear-to-br from-slate-50 via-cyan-50 to-blue-50 py-12"><section class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-10 space-y-8"><div class="flex flex-wrap items-center justify-between gap-4"><div><p class=section-kicker>Ù…Ø¯ÛŒØ±ÛŒØª Ø®Ø±ÛŒØ¯</p><h1 class="text-3xl font-semibold text-slate-900">Ø³ÙØ§Ø±Ø´â€ŒÙ‡Ø§ÛŒ Ø«Ø¨Øª Ø´Ø¯Ù‡</h1></div><button class="inline-flex items-center gap-2 px-4 py-2 rounded-xl border-2 border-slate-200 bg-white shadow-md hover:shadow-lg"type=button><i class="fa-solid fa-rotate-left text-sm"></i>Ø¨Ø±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ'),pg=v('<div class="rounded-2xl border border-slate-200 bg-white px-6 py-12 text-center text-slate-600">Ø¯Ø± Ø­Ø§Ù„ Ø¨Ø§Ø±Ú¯ÛŒØ±ÛŒ...'),bg=v('<p class="text-center text-slate-600">Ù‡ÛŒÚ† Ø³ÙØ§Ø±Ø´ÛŒ ÛŒØ§ÙØª Ù†Ø´Ø¯.'),mg=v('<div class="mt-6 rounded-2xl border border-slate-100 p-4"><p class="text-sm font-semibold text-slate-600">Ø§Ù‚Ù„Ø§Ù… Ø³ÙØ§Ø±Ø´</p><div class="mt-4 space-y-3">'),xg=v('<i class="fa-solid fa-eye">'),vg=v('<article class="rounded-3xl border-2 border-slate-200 bg-white p-6 space-y-4 shadow-2xl"><div class="flex flex-wrap items-center justify-between gap-4"><div><p class="text-sm text-slate-500">Ø´Ù…Ø§Ø±Ù‡ Ø³ÙØ§Ø±Ø´</p><h3 class="text-xl font-bold text-slate-900">#</h3></div><span></span></div><div class="grid grid-cols-2 gap-4 text-sm"><div><p class=text-slate-500>ØªØ§Ø±ÛŒØ® Ø«Ø¨Øª</p><p class=text-slate-700></p></div><div><p class=text-slate-500>Ù…Ø¨Ù„Øº Ú©Ù„</p><p class="font-bold text-indigo-600"></p></div><div class=col-span-2><p class=text-slate-500>Ø±ÙˆØ´ Ù¾Ø±Ø¯Ø§Ø®Øª</p><p class=text-slate-700></p></div><div class=col-span-2><p class="text-sm text-slate-500">Ø¢Ø¯Ø±Ø³ Ø§Ø±Ø³Ø§Ù„</p><p class=text-slate-700></p></div></div><div class="flex items-center justify-between mt-4"><span class="text-xs text-slate-400">Ø´Ù…Ø§Ø±Ù‡ Ù¾ÛŒÚ¯ÛŒØ±ÛŒ: #'),yg=v('<div class="flex flex-wrap items-center justify-between text-sm text-slate-600"><div><p class="font-medium text-slate-900"></p><p>ØªØ¹Ø¯Ø§Ø¯: </p></div><p class=font-semibold>');const $g={pending:"bg-amber-100 text-amber-700",paid:"bg-green-100 text-green-700",shipped:"bg-blue-100 text-blue-700",cancelled:"bg-red-100 text-red-700"},fa=r=>`${Intl.NumberFormat("fa-IR").format(r??0)} ØªÙˆÙ…Ø§Ù†`,wg=r=>r?new Date(r).toLocaleDateString("fa-IR",{day:"numeric",month:"long",year:"numeric"}):"-",_g=()=>{const[r,{refetch:e}]=ur(async()=>{const t=await ds.getAll();return(Array.isArray(t.data)?t.data:[]).map(Eu)});return(()=>{var t=gg(),s=t.firstChild,l=s.firstChild,n=l.firstChild,i=n.nextSibling;return i.$$click=()=>e(),u(s,_(ne,{get when(){return!r.loading},get fallback(){return pg()},get children(){return _(ne,{get when(){return r()?.length},get fallback(){return bg()},get children(){var a=fg();return u(a,_(ke,{get each(){return r()},children:c=>{const d=$g[c.status?.toLowerCase()||"pending"];return(()=>{var g=vg(),m=g.firstChild,h=m.firstChild,p=h.firstChild,y=p.nextSibling;y.firstChild;var $=h.nextSibling,w=m.nextSibling,S=w.firstChild,E=S.firstChild,A=E.nextSibling,O=S.nextSibling,F=O.firstChild,U=F.nextSibling,M=O.nextSibling,L=M.firstChild,z=L.nextSibling,ie=M.nextSibling,b=ie.firstChild,C=b.nextSibling,x=w.nextSibling,R=x.firstChild;return R.firstChild,u(y,()=>c.id,null),tt($,`inline-block rounded-full px-4 py-1 text-sm font-medium ${d}`),u($,()=>c.status||"Ø¯Ø± Ø­Ø§Ù„ Ø¨Ø±Ø±Ø³ÛŒ"),u(A,()=>wg(c.createdAt)),u(U,()=>fa(c.total)),u(z,()=>c.paymentMethod||"Ú©ÛŒÙ Ù¾ÙˆÙ„"),u(C,()=>c.address||"Ø¯Ø± Ø­Ø§Ù„ ØªÚ©Ù…ÛŒÙ„ ØªÙˆØ³Ø· Ù…Ø´ØªØ±ÛŒ"),u(g,_(ne,{get when(){return c.details?.length},get children(){var T=mg(),I=T.firstChild,D=I.nextSibling;return u(D,_(ke,{get each(){return c.details},children:P=>(()=>{var B=yg(),q=B.firstChild,Z=q.firstChild,W=Z.nextSibling;W.firstChild;var k=q.nextSibling;return u(Z,()=>P.product?.name??`Ú©Ø§Ù„Ø§ #${P.productId}`),u(W,()=>P.quantity,null),u(k,()=>fa(P.unitPrice)),B})()})),T}}),x),u(x,_(We,{get href(){return`/orders/${c.id}`},class:"inline-flex items-center gap-2 px-4 py-2 rounded-lg border-2 border-slate-200 bg-white hover:shadow-md text-sm",get children(){return[xg(),"Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ø³ÙØ§Ø±Ø´"]}}),R),u(R,()=>c.id,null),g})()}})),a}})}}),null),t})()};gt(["click"]);var Sg=v('<div class="min-h-screen bg-linear-to-br from-slate-50 via-cyan-50 to-blue-50 py-12"><section class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-10 space-y-8"><div><p class=section-kicker>Ú©ÛŒÙ Ù¾ÙˆÙ„ Ø¯ÛŒØ¬ÛŒØªØ§Ù„</p><h1 class="text-3xl font-semibold text-slate-900">Ù…Ø¯ÛŒØ±ÛŒØª Ù…ÙˆØ¬ÙˆØ¯ÛŒ'),Cg=v('<div class="rounded-2xl border-2 border-slate-200 bg-white px-6 py-12 text-center text-slate-600 shadow-lg">Ø¯Ø± Ø­Ø§Ù„ Ø¨Ø§Ø±Ú¯ÛŒØ±ÛŒ...'),Ag=v("<p>Ú©ÛŒÙ Ù¾ÙˆÙ„ ÛŒØ§ÙØª Ù†Ø´Ø¯. Ù„Ø·ÙØ§Ù‹ Ø¨Ø§ Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ ØªÙ…Ø§Ø³ Ø¨Ú¯ÛŒØ±ÛŒØ¯."),kg=v('<div class=space-y-6><div class="rounded-3xl border-2 border-slate-200 bg-white p-6 space-y-4 shadow-2xl"><div class="flex items-center justify-between"><h2 class="text-xl font-bold text-slate-900">Ù…ÙˆØ¬ÙˆØ¯ÛŒ ÙØ¹Ù„ÛŒ</h2><span class="text-lg font-bold text-indigo-600"></span></div><p class="text-sm text-slate-500">Ø§Ø±Ø²: ØªÙˆÙ…Ø§Ù†</p></div><form class=space-y-6><div><label class="block text-sm font-semibold text-slate-600"for=amount>Ù…Ø¨Ù„Øº Ø´Ø§Ø±Ú˜ (ØªÙˆÙ…Ø§Ù†)</label><input id=amount type=number min=0 class="mt-2 w-full rounded-2xl border-2 border-cyan-200 px-4 py-3 text-sm focus:border-cyan-500 focus:ring-4 focus:ring-cyan-100 bg-white"placeholder="Ù…Ø«Ù„Ø§Ù‹ ÛµÛ°Û°Û°Û°Û°"></div><button class="w-full px-4 py-3 bg-linear-to-r from-cyan-500 via-blue-600 to-blue-700 text-white rounded-xl hover:shadow-xl transition-all hover:scale-105 font-extrabold text-lg flex items-center justify-center gap-2"type=submit><span>ğŸ’³</span>Ø§ÙØ²Ø§ÛŒØ´ Ù…ÙˆØ¬ÙˆØ¯ÛŒ'),Eg=v("<div>");const Ng=(r,e)=>`${Intl.NumberFormat("fa-IR").format(r??0)} ${e}`,Tg=()=>{const[r,e]=Q(0),[t,s]=Q(null),[l,{refetch:n}]=ur(async()=>{const a=await us.getMyWallet();return a.data?Nu(a.data):null}),i=async a=>{if(a.preventDefault(),s(null),r()<=0){s({type:"error",message:"Ù…Ø¨Ù„Øº Ø´Ø§Ø±Ú˜ Ø¨Ø§ÛŒØ¯ Ø¨ÛŒØ´ØªØ± Ø§Ø² ØµÙØ± Ø¨Ø§Ø´Ø¯."});return}try{await us.addBalance(r()),e(0),s({type:"success",message:"Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ú©ÛŒÙ Ù¾ÙˆÙ„ Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ø´Ø¯."}),n()}catch(c){s({type:"error",message:c?.message||"Ø®Ø·Ø§ Ø¯Ø± Ø§ÙØ²Ø§ÛŒØ´ Ù…ÙˆØ¬ÙˆØ¯ÛŒ"})}};return(()=>{var a=Sg(),c=a.firstChild;return c.firstChild,u(c,_(ne,{get when(){return!l.loading},get fallback(){return Cg()},get children(){return _(ne,{get when(){return l()},get fallback(){return Ag()},children:d=>(()=>{var g=kg(),m=g.firstChild,h=m.firstChild,p=h.firstChild,y=p.nextSibling,$=m.nextSibling,w=$.firstChild,S=w.firstChild,E=S.nextSibling;return w.nextSibling,u(y,()=>Ng(d().balance,"ØªÙˆÙ…Ø§Ù†")),$.addEventListener("submit",i),E.$$input=A=>e(Number(A.currentTarget.value)),u($,_(ne,{get when(){return t()},children:A=>(()=>{var O=Eg();return u(O,()=>A().message),G(()=>tt(O,`rounded-2xl px-4 py-3 text-sm ${A().type==="success"?"bg-green-50 text-green-700":"bg-red-50 text-red-700"}`)),O})()}),null),G(()=>E.value=r()),g})()})}}),null),a})()};gt(["input"]);var Ig=v('<p class="text-xs text-red-600 mt-2">Ù†Ø§Ù… Ú©Ø§Ø±Ø¨Ø±ÛŒ Ø¨Ø§ÛŒØ¯ Ø­Ø¯Ø§Ù‚Ù„ Û³ Ú©Ø§Ø±Ø§Ú©ØªØ± Ø¨Ø§Ø´Ø¯.'),Lg=v('<p class="text-xs text-red-600 mt-2">ÙØ±Ù…Øª Ø§ÛŒÙ…ÛŒÙ„ Ù…Ø¹ØªØ¨Ø± Ù†ÛŒØ³Øª.'),Og=v('<img alt=Ø¢ÙˆØ§ØªØ§Ø± class="h-24 w-24 rounded-full object-cover border-2 border-slate-200">'),qg=v('<i class="fa-solid fa-spinner fa-spin text-indigo-600">'),Rg=v('<form class=space-y-6><div class="grid sm:grid-cols-2 gap-6"><div><label class="block text-sm font-semibold text-slate-600"for=username>Ù†Ø§Ù… Ú©Ø§Ø±Ø¨Ø±ÛŒ</label><input id=username type=text class="mt-2 w-full rounded-2xl border border-slate-200 px-4 py-3 text-sm focus:border-blue-500 focus:ring-2 focus:ring-blue-100"></div><div><label class="block text-sm font-semibold text-slate-600"for=email>Ø§ÛŒÙ…ÛŒÙ„</label><input id=email type=email class="mt-2 w-full rounded-2xl border border-slate-200 px-4 py-3 text-sm focus:border-blue-500 focus:ring-2 focus:ring-blue-100"></div></div><div><label class="block text-sm font-semibold text-slate-600"for=phone>Ø´Ù…Ø§Ø±Ù‡ ØªÙ„ÙÙ†</label><input id=phone type=tel class="mt-2 w-full rounded-2xl border border-slate-200 px-4 py-3 text-sm focus:border-blue-500 focus:ring-2 focus:ring-blue-100"placeholder=09123456789></div><div><label class="block text-sm font-semibold text-slate-600 mb-2">ØªØµÙˆÛŒØ± Ù¾Ø±ÙˆÙØ§ÛŒÙ„</label><div class="flex items-center gap-4"><label class="cursor-pointer bg-slate-100 hover:bg-indigo-100 text-slate-700 hover:text-indigo-600 px-4 py-2 rounded-xl font-medium transition-all">Ø§Ù†ØªØ®Ø§Ø¨ ØªØµÙˆÛŒØ±<input type=file accept=image/* class=hidden></label><button type=button class="text-sm text-red-600 hover:underline">Ø­Ø°Ù ØªØµÙˆÛŒØ±</button></div></div><div><label class="block text-sm font-semibold text-slate-600"for=password>Ø±Ù…Ø² Ø¬Ø¯ÛŒØ¯ (Ø®Ø§Ù„ÛŒ Ø¨Ú¯Ø°Ø§Ø±ÛŒØ¯ Ø§Ú¯Ø± Ù†Ù…ÛŒâ€ŒØ®ÙˆØ§Ù‡ÛŒØ¯ ØªØºÛŒÛŒØ± Ø¯Ù‡ÛŒØ¯)</label><input id=password type=password class="mt-2 w-full rounded-2xl border border-slate-200 px-4 py-3 text-sm focus:border-blue-500 focus:ring-2 focus:ring-blue-100"></div><button type=submit>'),Pg=v('<section class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-10 py-10 space-y-8"><div><p class=section-kicker>Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø´Ø®ØµÛŒ</p><h1 class="text-3xl font-semibold text-slate-900">Ù¾Ø±ÙˆÙØ§ÛŒÙ„ Ù…Ù†'),jg=v("<p>Ø¯Ø± Ø­Ø§Ù„ Ø¨Ø§Ø±Ú¯ÛŒØ±ÛŒ..."),Dg=v('<div class="h-24 w-24 rounded-full bg-slate-200">'),Bg=v("<div>");const Mg=()=>{const r=jr(),[e,t]=Q({username:"",email:"",phone:"",avatar:"",password:""}),[s,l]=Q(!1),[n,i]=Q(!1),[a,c]=Q(null),[d,g]=Q(null),m=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,h=He(()=>{const w=e();return!(!w.username||w.username.trim().length<3||!m.test(w.email)||w.phone&&!/^\d{10,11}$/.test(w.phone))});Or(()=>{const w=r.user();w&&(t({username:w.username,email:w.email,phone:w.phone??"",avatar:w.avatar??"",password:""}),c(w.avatar??null))});const p=async w=>{const S=w.currentTarget;if(!S.files||S.files.length===0)return;const E=S.files[0],A=r.user();if(!A)return;c(URL.createObjectURL(E));const O=new FormData;O.append("avatar",E);try{i(!0),await Nt.uploadAvatar(A.id,O),await r.refreshProfile(),g({type:"success",text:"Ø¢ÙˆØ§ØªØ§Ø± Ø¨Ø±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ø´Ø¯."})}catch{g({type:"error",text:"Ø®Ø·Ø§ Ø¯Ø± Ø¢Ù¾Ù„ÙˆØ¯ Ø¢ÙˆØ§ØªØ§Ø±."}),c(A.avatar??null)}finally{i(!1)}},y=async()=>{const w=r.user();w&&(c(w.avatar??null),t({...e(),avatar:""}))},$=async w=>{if(w.preventDefault(),g(null),!h()){g({type:"error",text:"Ù„Ø·ÙØ§ ÙÛŒÙ„Ø¯Ù‡Ø§ Ø±Ø§ ØµØ­ÛŒØ­ Ù¾Ø± Ú©Ù†ÛŒØ¯."});return}l(!0);const S=r.user();if(S)try{await Nt.update(S.id,e()),await r.refreshProfile(),t({...e(),password:""}),g({type:"success",text:"Ù¾Ø±ÙˆÙØ§ÛŒÙ„ Ø¨Ø±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ø´Ø¯."})}catch{g({type:"error",text:"Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ."})}finally{l(!1)}};return(()=>{var w=Pg();return w.firstChild,u(w,_(ne,{get when(){return r.user()},get fallback(){return jg()},get children(){var S=Rg(),E=S.firstChild,A=E.firstChild,O=A.firstChild,F=O.nextSibling,U=A.nextSibling,M=U.firstChild,L=M.nextSibling,z=E.nextSibling,ie=z.firstChild,b=ie.nextSibling,C=z.nextSibling,x=C.firstChild,R=x.nextSibling,T=R.firstChild,I=T.firstChild,D=I.nextSibling,P=T.nextSibling,B=C.nextSibling,q=B.firstChild,Z=q.nextSibling,W=B.nextSibling;return S.addEventListener("submit",$),F.$$input=k=>t({...e(),username:k.currentTarget.value}),u(A,_(ne,{get when(){return Ne(()=>e().username.trim().length>0)()&&e().username.trim().length<3},get children(){return Ig()}}),null),L.$$input=k=>t({...e(),email:k.currentTarget.value}),u(U,_(ne,{get when(){return Ne(()=>!!e().email)()&&!m.test(e().email)},get children(){return Lg()}}),null),b.$$input=k=>t({...e(),phone:k.currentTarget.value}),u(R,_(ne,{get when(){return a()},get fallback(){return Dg()},get children(){var k=Og();return G(()=>Le(k,"src",a())),k}}),T),D.addEventListener("change",p),P.$$click=y,u(R,_(ne,{get when(){return n()},get children(){return qg()}}),null),Z.$$input=k=>t({...e(),password:k.currentTarget.value}),u(W,()=>s()?"Ø¯Ø± Ø­Ø§Ù„ Ø°Ø®ÛŒØ±Ù‡...":"Ø°Ø®ÛŒØ±Ù‡ ØªØºÛŒÛŒØ±Ø§Øª"),u(S,_(ne,{get when(){return d()},children:k=>(()=>{var K=Bg();return u(K,()=>k().text),G(()=>tt(K,`rounded-2xl px-4 py-3 text-sm ${k().type==="success"?"bg-green-50 text-green-700":"bg-red-50 text-red-700"}`)),K})()}),null),G(k=>{var K=`btn btn-primary w-full ${h()?"":"opacity-60 cursor-not-allowed"}`,j=s()||!h();return K!==k.e&&tt(W,k.e=K),j!==k.t&&(W.disabled=k.t=j),k},{e:void 0,t:void 0}),G(()=>F.value=e().username),G(()=>L.value=e().email),G(()=>b.value=e().phone),S}}),null),w})()};gt(["input","click"]);var Ug=v('<div class="max-w-7xl mx-auto px-4 py-8 space-y-8"><div class="flex items-center justify-between"><h1 class="text-2xl font-bold text-slate-900">Ø¯Ø§Ø´Ø¨ÙˆØ±Ø¯ Ù…Ø¯ÛŒØ±ÛŒØª</h1><button class="btn btn-outline">Ø¨Ø±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ <i class="fa-solid fa-rotate-left text-sm"></i></button></div><div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6"></div><div class="bg-linear-to-r from-indigo-50 to-purple-50 rounded-xl p-6 border border-indigo-100"><h3 class="text-lg font-semibold text-slate-900 mb-4">Ø¹Ù…Ù„ÛŒØ§Øª Ø³Ø±ÛŒØ¹</h3><div class="flex flex-wrap gap-3">'),Fg=v('<div class="stats-card animate-pulse">'),zg=v('<div class=stats-card><div class=stats-icon><i></i></div><div><p class="text-sm text-slate-500"></p><h3 class="text-2xl font-bold text-slate-900">');const Hg=()=>{const[r,e]=Q({users:0,products:0,orders:0,categories:0,totalRevenue:0,pendingOrders:0}),[t,s]=Q(!0),l=async()=>{s(!0);try{const[i,a,c,d]=await Promise.all([Nt.getAll(),Dt.getAll(),ds.adminGetAll(),vr.getAll()]),g=Array.isArray(i.data)?i.data:[],m=Array.isArray(a.data)?a.data:[],h=Array.isArray(c.data)?c.data:[],p=Array.isArray(d.data)?d.data:[],y=h.reduce((w,S)=>w+Number(S.total??0),0),$=h.filter(w=>w.status==="pending").length;e({users:g.length,products:m.length,orders:h.length,categories:p.length,totalRevenue:y,pendingOrders:$})}catch(i){console.error(i)}finally{s(!1)}};Zt(l);const n=[{icon:"fa-users",label:"Ú©Ø§Ø±Ø¨Ø±Ø§Ù†",value:()=>r().users},{icon:"fa-boxes-stacked",label:"Ù…Ø­ØµÙˆÙ„Ø§Øª",value:()=>r().products},{icon:"fa-shopping-cart",label:"Ø³ÙØ§Ø±Ø´Ø§Øª",value:()=>r().orders},{icon:"fa-tags",label:"Ø¯Ø³ØªÙ‡â€ŒØ¨Ù†Ø¯ÛŒâ€ŒÙ‡Ø§",value:()=>r().categories},{icon:"fa-dollar-sign",label:"Ø¯Ø±Ø¢Ù…Ø¯ Ú©Ù„",value:()=>Intl.NumberFormat("fa-IR").format(r().totalRevenue)+" ØªÙˆÙ…Ø§Ù†"},{icon:"fa-clock",label:"Ø³ÙØ§Ø±Ø´Ø§Øª Ø¯Ø± Ø§Ù†ØªØ¸Ø§Ø±",value:()=>r().pendingOrders}];return(()=>{var i=Ug(),a=i.firstChild,c=a.firstChild,d=c.nextSibling,g=a.nextSibling,m=g.nextSibling,h=m.firstChild,p=h.nextSibling;return d.$$click=l,u(g,_(ne,{get when(){return!t()},get fallback(){return _(ke,{get each(){return Array(6)},children:()=>Fg()})},get children(){return _(ke,{each:n,children:y=>(()=>{var $=zg(),w=$.firstChild,S=w.firstChild,E=w.nextSibling,A=E.firstChild,O=A.nextSibling;return u(A,()=>y.label),u(O,()=>y.value()),G(()=>tt(S,`fa-solid ${y.icon} text-2xl`)),$})()})}})),u(p,_(We,{href:"/admin/products",class:"px-4 py-2 bg-white rounded-lg shadow-sm hover:shadow-md transition-shadow text-sm font-medium text-slate-700",children:"â• Ø§ÙØ²ÙˆØ¯Ù† Ù…Ø­ØµÙˆÙ„ Ø¬Ø¯ÛŒØ¯"}),null),u(p,_(We,{href:"/admin/users",class:"px-4 py-2 bg-white rounded-lg shadow-sm hover:shadow-md transition-shadow text-sm font-medium text-slate-700",children:"ğŸ‘¤ Ø§ÛŒØ¬Ø§Ø¯ Ú©Ø§Ø±Ø¨Ø± Ø¬Ø¯ÛŒØ¯"}),null),u(p,_(We,{href:"/admin/categories",class:"px-4 py-2 bg-white rounded-lg shadow-sm hover:shadow-md transition-shadow text-sm font-medium text-slate-700",children:"ğŸ“‹ Ø§ÙØ²ÙˆØ¯Ù† Ø¯Ø³ØªÙ‡â€ŒØ¨Ù†Ø¯ÛŒ"}),null),u(p,_(We,{href:"/admin/orders",class:"px-4 py-2 bg-white rounded-lg shadow-sm hover:shadow-md transition-shadow text-sm font-medium text-slate-700",children:"ğŸ›’ Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ø³ÙØ§Ø±Ø´â€ŒÙ‡Ø§"}),null),i})()};gt(["click"]);var Gg=v("<span>ğŸ "),Kg=v("<span>Ø¨Ø§Ø²Ú¯Ø´Øª Ø¨Ù‡ ÙØ±ÙˆØ´Ú¯Ø§Ù‡"),Vg=v('<div class="min-h-screen bg-linear-to-br from-slate-50 to-slate-100"><div class="max-w-[1400px] mx-auto py-6 px-4"><div class="flex items-start gap-6"><aside class="w-72 sticky top-6 h-[calc(100vh-48px)]"><div class="bg-white rounded-xl shadow-lg border border-slate-200 overflow-hidden"><div class="bg-linear-to-r from-indigo-600 to-purple-600 p-6 text-white"><div class="flex items-center gap-3 mb-2"><img alt=Ù„ÙˆÚ¯Ùˆ class="w-12 h-12 rounded-lg bg-white/20 p-1"><div><div class="font-bold text-lg">Ù¾Ù†Ù„ Ù…Ø¯ÛŒØ±ÛŒØª</div><div class="text-xs text-indigo-100">Ù…Ù‡Ø± Ø³Ù¾Ù‡Ø±</div></div></div><div class="text-xs text-indigo-100 mt-2"></div></div><nav class="p-3 flex flex-col gap-1"></nav><div class="p-3 border-t border-slate-200"></div></div></aside><main class="flex-1 min-w-0"><div class="bg-white rounded-xl shadow-sm border border-slate-200 p-6">'),Wg=v("<span class=text-xl>"),Zg=v("<span>");const Xg=r=>{const e=pn(),t=jr(),s=n=>n==="/admin"?e.pathname==="/admin":e.pathname.startsWith(n),l=[{href:"/admin",label:"Ø¯Ø§Ø´Ø¨ÙˆØ±Ø¯",icon:"ğŸ“Š"},{href:"/admin/users",label:"Ú©Ø§Ø±Ø¨Ø±Ø§Ù†",icon:"ğŸ‘¥"},{href:"/admin/products",label:"Ù…Ø­ØµÙˆÙ„Ø§Øª",icon:"ğŸ“¦"},{href:"/admin/brands",label:"Ø¨Ø±Ù†Ø¯Ù‡Ø§",icon:"ğŸ·ï¸"},{href:"/admin/categories",label:"Ø¯Ø³ØªÙ‡â€ŒØ¨Ù†Ø¯ÛŒâ€ŒÙ‡Ø§",icon:"ğŸ“‹"},{href:"/admin/orders",label:"Ø³ÙØ§Ø±Ø´â€ŒÙ‡Ø§",icon:"ğŸ›’"},{href:"/admin/groups",label:"Ú¯Ø±ÙˆÙ‡â€ŒÙ‡Ø§",icon:"ğŸ‘¤"},{href:"/admin/wallets",label:"Ú©ÛŒÙâ€ŒÙ¾ÙˆÙ„",icon:"ğŸ’³"},{href:"/admin/roles",label:"Ù†Ù‚Ø´â€ŒÙ‡Ø§",icon:"ğŸ›¡ï¸"},{href:"/admin/permissions",label:"Ø¯Ø³ØªØ±Ø³ÛŒâ€ŒÙ‡Ø§",icon:"ğŸ”‘"}];return(()=>{var n=Vg(),i=n.firstChild,a=i.firstChild,c=a.firstChild,d=c.firstChild,g=d.firstChild,m=g.firstChild,h=m.firstChild,p=m.nextSibling,y=g.nextSibling,$=y.nextSibling,w=c.nextSibling,S=w.firstChild;return Le(h,"src",Wo),u(p,()=>t.user()?.username||t.user()?.username||"Ù…Ø¯ÛŒØ±"),u(y,_(ke,{each:l,children:E=>_(We,{get href(){return E.href},get class(){return`flex items-center gap-3 px-4 py-3 rounded-lg transition-all duration-200 ${s(E.href)?"bg-indigo-50 text-indigo-700 font-semibold shadow-sm":"text-slate-700 hover:bg-slate-50 hover:text-indigo-600"}`},get children(){return[(()=>{var A=Wg();return u(A,()=>E.icon),A})(),(()=>{var A=Zg();return u(A,()=>E.label),A})()]}})})),u($,_(We,{href:"/",class:"flex items-center gap-3 px-4 py-2 text-slate-600 hover:bg-slate-50 rounded-lg transition-colors",get children(){return[Gg(),Kg()]}})),u(S,()=>r.children),n})()};var Yg=v('<div class="flex min-h-[420px] items-center justify-center"><div class="rounded-2xl border border-slate-200 bg-white px-8 py-6 shadow-sm"><p class="text-sm text-slate-500">Ø¯Ø± Ø­Ø§Ù„ Ø¨Ø±Ø±Ø³ÛŒ Ø¯Ø³ØªØ±Ø³ÛŒ...');const ir=r=>{const e=jr(),t=bs();return Or(()=>{!e.isProfileLoading()&&!e.isAuthenticated()?t("/login",{replace:!0}):!e.isProfileLoading()&&e.isAuthenticated()&&!e.isAdmin()&&t("/",{replace:!0})}),_(ne,{get when(){return Ne(()=>!!e.isAuthenticated())()&&e.isAdmin()},get fallback(){return Yg()},get children(){return _(Xg,{get children(){return r.children}})}})};var Qg=v('<div class="grid gap-6 md:grid-cols-2 lg:grid-cols-3">'),Jg=v('<div class="text-center py-16"><p class="text-2xl mb-2">ğŸ˜´</p><p class="text-lg text-slate-600">Ù‡ÛŒÚ† Ú©Ø§Ø±Ø¨Ø±ÛŒ Ù¾ÛŒØ¯Ø§ Ù†Ø´Ø¯</p><p class="text-sm text-slate-500 mt-2">Ø¬Ø³ØªØ¬ÙˆÛŒ Ø®ÙˆØ¯ Ø±Ø§ Ø§Ù…ØªØ­Ø§Ù† Ú©Ù†ÛŒØ¯ ÛŒØ§ Ú©Ø§Ø±Ø¨Ø± Ø¬Ø¯ÛŒØ¯ Ø§Ø¶Ø§ÙÙ‡ Ú©Ù†ÛŒØ¯'),ep=v('<div class="fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50"><div class="bg-white rounded-2xl w-full max-w-md shadow-2xl"><div class="bg-linear-to-r from-green-600 via-green-700 to-green-800 text-white p-6 rounded-t-2xl border-b-4 border-green-900"><h2 class="text-2xl font-bold flex items-center gap-3"><span class=text-2xl>â•</span>Ú©Ø§Ø±Ø¨Ø± Ø¬Ø¯ÛŒØ¯</h2><p class="text-green-100 text-sm mt-1">ÙØ±Ù… Ø§ÛŒØ¬Ø§Ø¯ Ú©Ø§Ø±Ø¨Ø± Ø¬Ø¯ÛŒØ¯</p></div><div class="p-6 space-y-4"><div class="bg-linear-to-br from-slate-50 to-slate-100 rounded-xl p-5 border border-slate-200"><h3 class="text-sm font-bold text-green-600 uppercase tracking-wide mb-4 flex items-center gap-2"><span class=text-lg>ğŸ‘¤</span>Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ú©Ø§Ø±Ø¨Ø±</h3><div class=space-y-3><input placeholder="Ù†Ø§Ù… Ú©Ø§Ø±Ø¨Ø±ÛŒ"class="w-full rounded-lg border-2 border-slate-200 px-4 py-3 focus:outline-none focus:border-green-500 focus:ring-2 focus:ring-green-200 transition-all"><input placeholder=Ø§ÛŒÙ…ÛŒÙ„ class="w-full rounded-lg border-2 border-slate-200 px-4 py-3 focus:outline-none focus:border-green-500 focus:ring-2 focus:ring-green-200 transition-all"><input type=password placeholder="Ø±Ù…Ø² Ø¹Ø¨ÙˆØ±"class="w-full rounded-lg border-2 border-slate-200 px-4 py-3 focus:outline-none focus:border-green-500 focus:ring-2 focus:ring-green-200 transition-all"><input placeholder=ØªÙ„ÙÙ† class="w-full rounded-lg border-2 border-slate-200 px-4 py-3 focus:outline-none focus:border-green-500 focus:ring-2 focus:ring-green-200 transition-all"></div></div></div><div class="sticky bottom-0 bg-linear-to-r from-slate-900 to-slate-800 border-t-4 border-green-600 p-4 flex gap-3 rounded-b-2xl"><button class="flex-1 px-6 py-3 bg-linear-to-r from-green-500 to-green-600 text-white rounded-lg hover:shadow-lg transition-all hover:scale-105 font-bold flex items-center justify-center gap-2"><span>âœ…</span><span>Ø§ÛŒØ¬Ø§Ø¯</span></button><button class="flex-1 px-6 py-3 bg-slate-700 text-white rounded-lg hover:bg-slate-600 transition-all font-bold flex items-center justify-center gap-2"><span>âŒ</span><span>Ù„ØºÙˆ'),tp=v('<div class="flex flex-wrap gap-2">'),rp=v('<div class="fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4"><div class="bg-white rounded-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto shadow-2xl"><div class="sticky top-0 bg-linear-to-r from-indigo-600 via-indigo-700 to-indigo-800 text-white p-6 rounded-t-2xl border-b-4 border-indigo-900"><h2 class="text-2xl font-bold flex items-center gap-3"><span class=text-2xl>âœï¸</span>ÙˆÛŒØ±Ø§ÛŒØ´ </h2><p class="text-indigo-100 text-sm mt-1">ÙˆÛŒØ±Ø§ÛŒØ´ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ú©Ø§Ø±Ø¨Ø±ØŒ Ù†Ù‚Ø´â€ŒÙ‡Ø§ Ùˆ Ú¯Ø±ÙˆÙ‡â€ŒÙ‡Ø§</p></div><div class="p-6 space-y-6"><div class="bg-linear-to-br from-slate-50 to-slate-100 rounded-xl p-5 border-2 border-slate-200 hover:border-indigo-300 transition-colors"><h3 class="text-sm font-bold text-indigo-600 uppercase tracking-wide mb-4 flex items-center gap-2"><span class=text-lg>ğŸ‘¤</span>Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø´Ø®ØµÛŒ</h3><div class=space-y-3><div><label class="flex text-xs font-bold text-slate-700 mb-1 items-center gap-2"><span>ğŸ“</span>Ù†Ø§Ù… Ú©Ø§Ø±Ø¨Ø±ÛŒ</label><input placeholder="Ù†Ø§Ù… Ú©Ø§Ø±Ø¨Ø±ÛŒ"class="w-full rounded-lg border-2 border-slate-200 px-4 py-3 focus:outline-none focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 transition-all"></div><div><label class="flex text-xs font-bold text-slate-700 mb-1 items-center gap-2"><span>ğŸ“§</span>Ø§ÛŒÙ…ÛŒÙ„</label><input placeholder=Ø§ÛŒÙ…ÛŒÙ„ class="w-full rounded-lg border-2 border-slate-200 px-4 py-3 focus:outline-none focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 transition-all"></div><div><label class="flex text-xs font-bold text-slate-700 mb-1 items-center gap-2"><span>ğŸ“±</span>ØªÙ„ÙÙ†</label><input placeholder=ØªÙ„ÙÙ† class="w-full rounded-lg border-2 border-slate-200 px-4 py-3 focus:outline-none focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 transition-all"></div></div></div><div class="bg-linear-to-br from-slate-50 to-slate-100 rounded-xl p-5 border-2 border-slate-200 hover:border-amber-300 transition-colors"><h3 class="text-sm font-bold text-amber-600 uppercase tracking-wide mb-4 flex items-center gap-2"><span class=text-lg>ğŸ–¼ï¸</span>ØªØµÙˆÛŒØ± Ú©Ø§Ø±Ø¨Ø±</h3><div class="flex items-center gap-4"><img class="w-20 h-20 rounded-full object-cover border-3 border-amber-200"><label class="flex-1 cursor-pointer"><div class="w-full px-4 py-3 bg-linear-to-r from-amber-500 to-amber-600 text-white rounded-lg hover:shadow-lg transition-all hover:scale-105 font-bold flex items-center justify-center gap-2"><span>ğŸ“·</span><span>Ø§Ù†ØªØ®Ø§Ø¨ ØªØµÙˆÛŒØ±</span></div><input type=file accept=image/* class=hidden></label></div></div><div class="bg-linear-to-br from-slate-50 to-slate-100 rounded-xl p-5 border-2 border-slate-200 hover:border-sky-300 transition-colors"><h3 class="text-sm font-bold text-sky-600 uppercase tracking-wide mb-4 flex items-center gap-2"><span class=text-lg>ğŸ­</span>Ù†Ù‚Ø´â€ŒÙ‡Ø§<span class="ml-auto px-2 py-1 bg-sky-100 text-sky-700 rounded-full text-xs font-bold"></span></h3><div class="grid grid-cols-2 gap-3"></div></div><div class="bg-linear-to-br from-slate-50 to-slate-100 rounded-xl p-5 border-2 border-slate-200 hover:border-green-300 transition-colors"><h3 class="text-sm font-bold text-green-600 uppercase tracking-wide mb-4 flex items-center gap-2"><span class=text-lg>ğŸ‘¥</span>Ú¯Ø±ÙˆÙ‡â€ŒÙ‡Ø§<span class="ml-auto px-2 py-1 bg-green-100 text-green-700 rounded-full text-xs font-bold"></span></h3><div class="grid grid-cols-2 gap-3"></div></div><div class="bg-linear-to-br from-slate-50 to-slate-100 rounded-xl p-5 border-2 border-slate-200 hover:border-pink-300 transition-colors"><h3 class="text-sm font-bold text-pink-600 uppercase tracking-wide mb-4 flex items-center gap-2"><span class=text-lg>ğŸ”</span>Ø¯Ø³ØªØ±Ø³ÛŒâ€ŒÙ‡Ø§ (Ø§Ø² Ù†Ù‚Ø´â€ŒÙ‡Ø§)</h3></div></div><div class="sticky bottom-0 bg-linear-to-r from-slate-900 to-slate-800 border-t-4 border-indigo-600 p-4 flex gap-3 rounded-b-2xl"><button class="flex-1 px-6 py-3 bg-linear-to-r from-indigo-500 to-indigo-600 text-white rounded-lg hover:shadow-lg transition-all hover:scale-105 font-bold flex items-center justify-center gap-2"><span>ğŸ’¾</span><span>Ø°Ø®ÛŒØ±Ù‡</span></button><button class="flex-1 px-6 py-3 bg-slate-700 text-white rounded-lg hover:bg-slate-600 transition-all font-bold flex items-center justify-center gap-2"><span>âŒ</span><span>Ø¨Ø³ØªÙ†'),sp=v('<div class="min-h-screen bg-linear-to-br from-slate-50 via-blue-50 to-indigo-50"><div class="max-w-7xl mx-auto px-4 py-8"><div class="sticky top-0 z-10 bg-linear-to-r from-indigo-600 via-indigo-700 to-indigo-800 text-white p-8 rounded-2xl border-b-4 border-indigo-900 mb-8 shadow-lg"><div class="flex items-center justify-between"><div><h1 class="text-4xl font-bold flex items-center gap-3"><span class=text-3xl>ğŸ‘¥</span>Ù…Ø¯ÛŒØ±ÛŒØª Ú©Ø§Ø±Ø¨Ø±Ø§Ù†</h1><p class="text-indigo-100 mt-2">Ù…Ø¯ÛŒØ±ÛŒØª Ú©Ø§Ø±Ø¨Ø±Ø§Ù†ØŒ Ù†Ù‚Ø´â€ŒÙ‡Ø§ Ùˆ Ø¯Ø³ØªØ±Ø³ÛŒâ€ŒÙ‡Ø§</p></div><button class="px-8 py-4 bg-linear-to-r from-green-500 to-green-600 text-white rounded-xl hover:shadow-2xl hover:scale-105 transition-all font-bold text-lg flex items-center gap-2"><span>â•</span><span>Ú©Ø§Ø±Ø¨Ø± Ø¬Ø¯ÛŒØ¯</span></button></div></div><div class="mb-8 flex items-center gap-4"><div class="relative flex-1 max-w-md"><span class="absolute left-4 top-3 text-2xl">ğŸ”</span><input type=search placeholder="Ø¬Ø³ØªØ¬Ùˆ Ø¨Ø±Ø§ÛŒ Ù†Ø§Ù… Ú©Ø§Ø±Ø¨Ø±ÛŒ ÛŒØ§ Ø§ÛŒÙ…ÛŒÙ„..."class="w-full pl-12 pr-4 py-3 rounded-xl border-2 border-slate-200 focus:outline-none focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 transition-all bg-white shadow-sm"></div><span class="text-sm font-medium text-slate-600 bg-white px-4 py-3 rounded-xl border border-slate-200 shadow-sm"> Ú©Ø§Ø±Ø¨Ø±'),lp=v('<div class="text-center py-12"><p class="text-lg text-slate-600">Ø¯Ø± Ø­Ø§Ù„ Ø¨Ø§Ø±Ú¯ÛŒØ±ÛŒ Ú©Ø§Ø±Ø¨Ø±Ø§Ù†...'),np=v('<div class="rounded-2xl bg-white border-2 border-slate-200 hover:border-indigo-300 shadow-sm hover:shadow-lg transition-all p-6 space-y-4 group"><div class="flex items-center justify-between pb-4 border-b border-slate-200"><div class="flex items-center gap-4 flex-1"><div class=relative><img class="h-16 w-16 rounded-full object-cover border-3 border-indigo-200 group-hover:border-indigo-400 transition-colors"><span class="absolute -bottom-1 -right-1 w-5 h-5 bg-green-500 rounded-full border-2 border-white"></span></div><div class="flex-1 min-w-0"><p class="font-bold text-lg text-slate-800 truncate"></p><p class="text-sm text-slate-600 truncate"></p></div></div></div><div><div class="flex items-center gap-2 mb-2"><span class="text-sm font-bold text-indigo-600 uppercase tracking-wide">Ù†Ù‚Ø´â€ŒÙ‡Ø§</span><span class="px-2 py-1 bg-indigo-100 text-indigo-700 rounded-full text-xs font-bold"></span></div><div class="flex flex-wrap gap-2"></div></div><div><div class="flex items-center gap-2 mb-2"><span class="text-sm font-bold text-purple-600 uppercase tracking-wide">Ú¯Ø±ÙˆÙ‡â€ŒÙ‡Ø§</span><span class="px-2 py-1 bg-purple-100 text-purple-700 rounded-full text-xs font-bold"></span></div><div class="flex flex-wrap gap-2"></div></div><div class="flex gap-3 pt-4"><button class="flex-1 px-4 py-3 bg-linear-to-r from-indigo-500 to-indigo-600 text-white rounded-lg hover:shadow-lg transition-all hover:scale-105 font-bold flex items-center justify-center gap-2 text-sm"><span>âœï¸</span><span>ÙˆÛŒØ±Ø§ÛŒØ´</span></button><button class="px-4 py-3 bg-red-50 border border-red-200 text-red-600 rounded-lg hover:bg-red-100 hover:border-red-300 transition-all font-bold flex items-center justify-center gap-2 hover:scale-105"><span>ğŸ—‘ï¸'),ip=v('<span class="text-xs text-slate-400 italic">Ù‡ÛŒÚ† Ù†Ù‚Ø´ÛŒ ØªØ¹Ø±ÛŒÙ Ù†Ø´Ø¯Ù‡'),ap=v('<span class="px-3 py-1 bg-linear-to-r from-indigo-50 to-indigo-100 border border-indigo-200 rounded-lg text-xs font-medium text-indigo-700 hover:from-indigo-100 hover:to-indigo-200 transition-all">'),op=v('<span class="text-xs text-slate-400 italic">Ù‡ÛŒÚ† Ú¯Ø±ÙˆÙ‡ÛŒ ØªØ¹Ø±ÛŒÙ Ù†Ø´Ø¯Ù‡'),cp=v('<span class="px-3 py-1 bg-linear-to-r from-purple-50 to-purple-100 border border-purple-200 rounded-lg text-xs font-medium text-purple-700 hover:from-purple-100 hover:to-purple-200 transition-all">'),dp=v('<label class="flex items-center gap-3 cursor-pointer p-3 rounded-lg hover:bg-sky-50 transition-colors border border-sky-100 hover:border-sky-300"><input type=checkbox class="w-4 h-4 rounded border-sky-300 cursor-pointer accent-sky-600"><span class="text-sm font-medium text-slate-700">'),up=v('<label class="flex items-center gap-3 cursor-pointer p-3 rounded-lg hover:bg-green-50 transition-colors border border-green-100 hover:border-green-300"><input type=checkbox class="w-4 h-4 rounded border-green-300 cursor-pointer accent-green-600"><span class="text-sm font-medium text-slate-700">'),hp=v('<p class="text-sm text-slate-500 italic text-center py-4">Ù‡ÛŒÚ† Ø¯Ø³ØªØ±Ø³ÛŒâ€ŒØ§ÛŒ Ø¨Ø±Ø§ÛŒ Ù†Ù‚Ø´â€ŒÙ‡Ø§ÛŒ Ø§Ù†ØªØ®Ø§Ø¨â€ŒØ´Ø¯Ù‡ ØªØ¹Ø±ÛŒÙ Ù†Ø´Ø¯Ù‡'),fp=v('<span class="px-3 py-2 bg-linear-to-r from-pink-100 to-pink-50 border border-pink-200 rounded-lg text-xs font-medium text-pink-700 hover:from-pink-200 hover:to-pink-100 transition-all">');const gp=()=>{const[r,e]=Q([]),[t,s]=Q([]),[l,n]=Q([]),[i,a]=Q(!1),[c,d]=Q(!1),[g,m]=Q(!1),[h,p]=Q({username:"",email:"",password:"",phone:""}),[y,$]=Q(null),[w,S]=Q(""),[E,A]=Q([]),[O,F]=Q([]),U=T=>T.id||T.ID||0,M=T=>T.name||T.Name||"",L=async()=>{a(!0);try{const[T,I,D]=await Promise.all([Nt.getAll(),Ho.getAll(),Jl.getAll()]);e(Array.isArray(T.data)?T.data:[]),s(Array.isArray(I.data)?I.data:[]),n(Array.isArray(D.data)?D.data:[])}catch(T){console.error(T)}finally{a(!1)}};Zt(L);const z=()=>{const T=w().toLowerCase();return r().filter(I=>I.username?.toLowerCase().includes(T)||I.email?.toLowerCase().includes(T))},ie=async()=>{try{await Nt.create(h()),p({username:"",email:"",password:"",phone:""}),d(!1),L()}catch(T){console.error(T)}},b=T=>{$(T),A((T.Roles||T.roles||[]).map(I=>I.id||I.ID)||[]),F((T.Groups||T.groups||[]).map(I=>I.id||I.ID)||[]),m(!0)},C=async()=>{if(y())try{await Nt.update(U(y()),{username:y().username,email:y().email,phone:y().phone});const T=(y().Roles||y().roles||[]).map(D=>U(D));for(const D of E())T.includes(D)||await Nt.addRole(U(y()),D);for(const D of T)E().includes(D)||await Nt.removeRole(U(y()),D);const I=(y().Groups||y().groups||[]).map(D=>U(D));for(const D of O())I.includes(D)||await Jl.addUser(D,U(y()));for(const D of I)O().includes(D)||await Jl.removeUser(D,U(y()));m(!1),$(null),L()}catch(T){console.error(T)}},x=async T=>{if(confirm("Ø­Ø°Ù Ú©Ø§Ø±Ø¨Ø±ØŸ"))try{await Nt.delete(T),L()}catch(I){console.error(I)}},R=async T=>{const I=T.target.files?.[0];if(!I||!y())return;const D=new FormData;D.append("avatar",I);try{await Nt.uploadAvatar(U(y()),D),L()}catch(P){console.error(P)}};return(()=>{var T=sp(),I=T.firstChild,D=I.firstChild,P=D.firstChild,B=P.firstChild,q=B.nextSibling,Z=D.nextSibling,W=Z.firstChild,k=W.firstChild,K=k.nextSibling,j=W.nextSibling,ee=j.firstChild;return q.$$click=()=>d(!0),K.$$input=te=>S(te.currentTarget.value),u(j,()=>z().length,ee),u(I,_(ne,{get when(){return!i()},get fallback(){return lp()},get children(){return[(()=>{var te=Qg();return u(te,_(ke,{get each(){return z()},children:J=>(()=>{var ge=np(),oe=ge.firstChild,X=oe.firstChild,le=X.firstChild,se=le.firstChild,me=le.nextSibling,ve=me.firstChild,Pe=ve.nextSibling,De=oe.nextSibling,Y=De.firstChild,H=Y.firstChild,ae=H.nextSibling,fe=Y.nextSibling,he=De.nextSibling,Ie=he.firstChild,pe=Ie.firstChild,de=pe.nextSibling,we=Ie.nextSibling,Re=he.nextSibling,Ge=Re.firstChild,Ke=Ge.nextSibling;return u(ve,()=>J.username),u(Pe,()=>J.email),u(ae,()=>J.Roles?.length||0),u(fe,_(ne,{get when(){return Ne(()=>!!J.Roles)()&&J.Roles.length>0},get fallback(){return ip()},get children(){return _(ke,{get each(){return J.Roles||[]},children:Be=>(()=>{var Ze=ap();return u(Ze,()=>Be.name),Ze})()})}})),u(de,()=>J.Groups?.length||0),u(we,_(ne,{get when(){return Ne(()=>!!J.Groups)()&&J.Groups.length>0},get fallback(){return op()},get children(){return _(ke,{get each(){return J.Groups||[]},children:Be=>(()=>{var Ze=cp();return u(Ze,()=>Be.name),Ze})()})}})),Ge.$$click=()=>b(J),Ke.$$click=()=>x(J.id),G(Be=>{var Ze=J.avatar||"/avatar-placeholder.png",dt=J.username;return Ze!==Be.e&&Le(se,"src",Be.e=Ze),dt!==Be.t&&Le(se,"alt",Be.t=dt),Be},{e:void 0,t:void 0}),ge})()})),te})(),_(ne,{get when(){return z().length===0},get children(){return Jg()}})]}}),null),u(T,_(ne,{get when(){return c()},get children(){var te=ep(),J=te.firstChild,ge=J.firstChild,oe=ge.nextSibling,X=oe.firstChild,le=X.firstChild,se=le.nextSibling,me=se.firstChild,ve=me.nextSibling,Pe=ve.nextSibling,De=Pe.nextSibling,Y=oe.nextSibling,H=Y.firstChild,ae=H.nextSibling;return me.$$input=fe=>p({...h(),username:fe.currentTarget.value}),ve.$$input=fe=>p({...h(),email:fe.currentTarget.value}),Pe.$$input=fe=>p({...h(),password:fe.currentTarget.value}),De.$$input=fe=>p({...h(),phone:fe.currentTarget.value}),H.$$click=ie,ae.$$click=()=>d(!1),G(()=>me.value=h().username),G(()=>ve.value=h().email),G(()=>Pe.value=h().password),G(()=>De.value=h().phone),te}}),null),u(T,_(ne,{get when(){return Ne(()=>!!g())()&&y()},get children(){var te=rp(),J=te.firstChild,ge=J.firstChild,oe=ge.firstChild,X=oe.firstChild;X.nextSibling;var le=ge.nextSibling,se=le.firstChild,me=se.firstChild,ve=me.nextSibling,Pe=ve.firstChild,De=Pe.firstChild,Y=De.nextSibling,H=Pe.nextSibling,ae=H.firstChild,fe=ae.nextSibling,he=H.nextSibling,Ie=he.firstChild,pe=Ie.nextSibling,de=se.nextSibling,we=de.firstChild,Re=we.nextSibling,Ge=Re.firstChild,Ke=Ge.nextSibling,Be=Ke.firstChild,Ze=Be.nextSibling,dt=de.nextSibling,ft=dt.firstChild,ce=ft.firstChild,Ee=ce.nextSibling,Oe=Ee.nextSibling,be=ft.nextSibling,Se=dt.nextSibling,ue=Se.firstChild,ye=ue.firstChild,Me=ye.nextSibling,pt=Me.nextSibling,bt=ue.nextSibling,ze=Se.nextSibling;ze.firstChild;var Ve=le.nextSibling,vt=Ve.firstChild,It=vt.nextSibling;return u(oe,()=>y()?.username,null),Y.$$input=Ue=>$({...y(),username:Ue.currentTarget.value}),fe.$$input=Ue=>$({...y(),email:Ue.currentTarget.value}),pe.$$input=Ue=>$({...y(),phone:Ue.currentTarget.value}),Ze.addEventListener("change",R),u(Oe,()=>E().length),u(be,_(ke,{get each(){return t()},children:Ue=>(()=>{var at=dp(),Je=at.firstChild,br=Je.nextSibling;return Je.addEventListener("change",Cr=>{Cr.currentTarget.checked?A([...E(),U(Ue)]):A(E().filter(mr=>mr!==U(Ue)))}),u(br,()=>M(Ue)),G(()=>Je.checked=E().includes(U(Ue))),at})()})),u(pt,()=>O().length),u(bt,_(ke,{get each(){return l()},children:Ue=>(()=>{var at=up(),Je=at.firstChild,br=Je.nextSibling;return Je.addEventListener("change",Cr=>{Cr.currentTarget.checked?F([...O(),U(Ue)]):F(O().filter(mr=>mr!==U(Ue)))}),u(br,()=>M(Ue)),G(()=>Je.checked=O().includes(U(Ue))),at})()})),u(ze,_(ne,{get when(){return Array.from(new Set((y()?.Roles||[]).flatMap(Ue=>(Ue.Permissions||[]).map(at=>at.name??at.Name)))).length>0},get fallback(){return hp()},get children(){var Ue=tp();return u(Ue,_(ke,{get each(){return Array.from(new Set((y()?.Roles||[]).flatMap(at=>(at.Permissions||[]).map(Je=>Je.name??Je.Name))))},children:at=>(()=>{var Je=fp();return u(Je,at),Je})()})),Ue}}),null),vt.$$click=C,It.$$click=()=>{m(!1),$(null)},G(Ue=>{var at=y()?.avatar||"/avatar-placeholder.png",Je=y()?.username;return at!==Ue.e&&Le(Ge,"src",Ue.e=at),Je!==Ue.t&&Le(Ge,"alt",Ue.t=Je),Ue},{e:void 0,t:void 0}),G(()=>Y.value=y()?.username||""),G(()=>fe.value=y()?.email||""),G(()=>pe.value=y()?.phone||""),te}}),null),G(()=>K.value=w()),T})()};gt(["click","input"]);var pp=v('<div class="grid grid-cols-1 lg:grid-cols-2 gap-6">'),bp=v('<div class="fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4"><div class="bg-white rounded-2xl shadow-2xl max-w-md w-full"dir=rtl><div class="bg-linear-to-r from-blue-600 via-blue-700 to-blue-800 text-white p-6 rounded-t-2xl border-b-4 border-blue-900 flex items-center justify-between"><h3 class="text-2xl font-bold flex items-center gap-2"><span class=text-2xl>ğŸ‘¥</span></h3><button class="text-white hover:bg-white/20 p-1 rounded transition-colors font-bold text-xl">âœ•</button></div><div class="p-6 space-y-4"><div><label class="flex text-xs font-bold text-slate-700 mb-2 items-center gap-2"><span>ğŸ·ï¸</span>Ù†Ø§Ù… Ú¯Ø±ÙˆÙ‡ *</label><input type=text placeholder="Ù…Ø«Ø§Ù„: VIP, Ø¯Ø§Ù†Ø´Ø¬ÙˆÛŒØ§Ù†, Ø¹Ù…Ø¯Ù‡â€ŒÙØ±ÙˆØ´Ø§Ù†"class="w-full px-4 py-3 border-2 border-slate-200 rounded-lg focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all"></div><div><label class="flex text-xs font-bold text-slate-700 mb-2 items-center gap-2"><span>ğŸ“</span>ØªÙˆØ¶ÛŒØ­Ø§Øª</label><textarea placeholder="ØªÙˆØ¶ÛŒØ­Ø§Øª Ø§ÛŒÙ† Ú¯Ø±ÙˆÙ‡..."rows=3 class="w-full px-4 py-3 border-2 border-slate-200 rounded-lg focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all resize-none"></textarea></div></div><div class="sticky bottom-0 bg-linear-to-r from-slate-900 to-slate-800 border-t-4 border-blue-600 p-4 flex gap-3 rounded-b-2xl"><button class="flex-1 px-6 py-3 bg-linear-to-r from-blue-500 to-blue-600 text-white rounded-lg hover:shadow-lg transition-all hover:scale-105 font-bold flex items-center justify-center gap-2"><span>âœ…</span><span></span></button><button class="flex-1 px-6 py-3 bg-slate-700 text-white rounded-lg hover:bg-slate-600 transition-all font-bold flex items-center justify-center gap-2"><span>âŒ</span><span>Ø§Ù†ØµØ±Ø§Ù'),mp=v('<div dir=rtl class="min-h-screen bg-linear-to-br from-slate-50 via-blue-50 to-sky-50"><div class="max-w-7xl mx-auto px-4 py-8"><div class="sticky top-0 z-10 bg-linear-to-r from-blue-600 via-blue-700 to-blue-800 text-white p-8 rounded-2xl border-b-4 border-blue-900 mb-8 shadow-lg"><div class="flex items-center justify-between"><div><h1 class="text-4xl font-bold flex items-center gap-3"><span class=text-3xl>ğŸ‘¥</span>Ù…Ø¯ÛŒØ±ÛŒØª Ú¯Ø±ÙˆÙ‡â€ŒÙ‡Ø§ÛŒ Ú©Ø§Ø±Ø¨Ø±ÛŒ</h1><p class="text-blue-100 mt-2">Ø§ÛŒØ¬Ø§Ø¯ Ùˆ Ù…Ø¯ÛŒØ±ÛŒØª Ú¯Ø±ÙˆÙ‡â€ŒÙ‡Ø§ØŒ Ù…Ø­ØµÙˆÙ„Ø§Øª Ùˆ Ú©Ø§Ø±Ø¨Ø±Ø§Ù†</p></div><button class="px-8 py-4 bg-linear-to-r from-green-500 to-green-600 text-white rounded-xl hover:shadow-2xl hover:scale-105 transition-all font-bold text-lg flex items-center gap-2"><span>â•</span><span>Ø§ÙØ²ÙˆØ¯Ù† Ú¯Ø±ÙˆÙ‡ Ø¬Ø¯ÛŒØ¯</span></button></div></div><div class="mb-8 flex items-center gap-4"><div class="relative flex-1 max-w-md"><span class="absolute left-4 top-3 text-2xl">ğŸ”</span><input type=text placeholder="Ø¬Ø³ØªØ¬Ùˆ Ø¨Ø±Ø§ÛŒ Ù†Ø§Ù… ÛŒØ§ ØªÙˆØ¶ÛŒØ­ Ú¯Ø±ÙˆÙ‡..."class="w-full pl-12 pr-4 py-3 rounded-xl border-2 border-slate-200 focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all bg-white shadow-sm"></div><span class="text-sm font-medium text-slate-600 bg-white px-4 py-3 rounded-xl border border-slate-200 shadow-sm"> Ú¯Ø±ÙˆÙ‡'),xp=v('<div class="flex items-center justify-center py-12"><div class=text-center><div class="text-5xl mb-4 animate-spin">â³</div><div class="text-lg text-slate-600">Ø¯Ø± Ø­Ø§Ù„ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ú¯Ø±ÙˆÙ‡â€ŒÙ‡Ø§...'),vp=v('<div class="bg-white rounded-2xl shadow-sm border-2 border-slate-200 p-12 text-center"><div class="text-6xl mb-4">ğŸ‘¥</div><h3 class="text-2xl font-bold text-slate-800 mb-2">Ú¯Ø±ÙˆÙ‡ÛŒ ÛŒØ§ÙØª Ù†Ø´Ø¯</h3><p class="text-slate-600 mb-6">Ù‡Ù†ÙˆØ² Ú¯Ø±ÙˆÙ‡ÛŒ Ø§ÛŒØ¬Ø§Ø¯ Ù†Ø´Ø¯Ù‡ Ø§Ø³Øª. Ø¨Ø±Ø§ÛŒ Ø´Ø±ÙˆØ¹ØŒ ÛŒÚ© Ú¯Ø±ÙˆÙ‡ Ø¬Ø¯ÛŒØ¯ Ø§ÛŒØ¬Ø§Ø¯ Ú©Ù†ÛŒØ¯.</p><button class="px-6 py-3 bg-linear-to-r from-blue-500 to-blue-600 text-white rounded-lg hover:shadow-lg transition-all font-bold">Ø§ÛŒØ¬Ø§Ø¯ Ø§ÙˆÙ„ÛŒÙ† Ú¯Ø±ÙˆÙ‡'),ga=v('<div class="max-h-40 overflow-y-auto space-y-2 bg-slate-50 p-3 rounded-lg border border-slate-200">'),yp=v('<div class="bg-white rounded-2xl border-2 border-slate-200 hover:border-blue-300 shadow-sm hover:shadow-lg transition-all overflow-hidden group"><div class="bg-linear-to-r from-blue-50 to-blue-100 border-b-2 border-blue-200 p-5"><div class="flex items-start justify-between gap-4"><div class=flex-1><h3 class="text-xl font-bold text-slate-900 flex items-center gap-2"><span class=text-2xl>ğŸ·ï¸</span></h3></div><div class="flex gap-2"><button class="px-3 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 hover:shadow-lg transition-all font-bold flex items-center gap-1"title=ÙˆÛŒØ±Ø§ÛŒØ´><span>âœï¸</span></button><button type=button class="px-3 py-2 bg-red-50 border border-red-200 text-red-600 rounded-lg hover:bg-red-100 hover:border-red-300 transition-all font-bold hover:scale-105"title=Ø­Ø°Ù><span>ğŸ—‘ï¸</span></button></div></div></div><div class="grid grid-cols-2 gap-3 p-4 border-b border-slate-200"><div class="text-center p-3 bg-linear-to-br from-blue-50 to-blue-100 rounded-lg border border-blue-200"><div class="text-3xl font-bold text-blue-600"></div><div class="text-xs text-slate-600 font-bold uppercase mt-1">Ù…Ø­ØµÙˆÙ„</div></div><div class="text-center p-3 bg-linear-to-br from-green-50 to-green-100 rounded-lg border border-green-200"><div class="text-3xl font-bold text-green-600"></div><div class="text-xs text-slate-600 font-bold uppercase mt-1">Ú©Ø§Ø±Ø¨Ø±</div></div></div><div class="p-5 space-y-5"><div><div class="flex items-center gap-2 mb-3"><span class=text-lg>ğŸ“¦</span><h4 class="font-bold text-slate-900 uppercase tracking-wide text-sm">Ù…Ø­ØµÙˆÙ„Ø§Øª</h4><span class="ml-auto px-2 py-1 bg-blue-100 text-blue-700 rounded-full text-xs font-bold"></span></div><div class=space-y-2></div><div class="flex gap-2 mt-3"><select class="flex-1 px-3 py-2 text-sm border-2 border-slate-200 rounded-lg focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all bg-white font-medium"><option value>Ø§Ù†ØªØ®Ø§Ø¨ Ù…Ø­ØµÙˆÙ„...</option></select><button class="px-4 py-2 bg-linear-to-r from-blue-500 to-blue-600 text-white rounded-lg hover:shadow-lg transition-all font-bold hover:scale-105">â•</button></div></div><div class="border-t border-slate-200 pt-5"><div class="flex items-center gap-2 mb-3"><span class=text-lg>ğŸ‘¤</span><h4 class="font-bold text-slate-900 uppercase tracking-wide text-sm">Ú©Ø§Ø±Ø¨Ø±Ø§Ù†</h4><span class="ml-auto px-2 py-1 bg-green-100 text-green-700 rounded-full text-xs font-bold"></span></div><div class=space-y-2></div><div class="flex gap-2 mt-3"><select class="flex-1 px-3 py-2 text-sm border-2 border-slate-200 rounded-lg focus:outline-none focus:border-green-500 focus:ring-2 focus:ring-green-200 transition-all bg-white font-medium"><option value>Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ø§Ø±Ø¨Ø±...</option></select><button class="px-4 py-2 bg-linear-to-r from-green-500 to-green-600 text-white rounded-lg hover:shadow-lg transition-all font-bold hover:scale-105">â•'),$p=v('<p class="text-sm text-slate-600 mt-2">'),wp=v('<div class="text-sm text-slate-400 text-center py-4 bg-slate-50 rounded-lg border border-dashed border-slate-200">Ù‡ÛŒÚ† Ù…Ø­ØµÙˆÙ„ÛŒ Ø§Ø®ØªØµØ§Øµ Ø¯Ø§Ø¯Ù‡ Ù†Ø´Ø¯Ù‡'),_p=v('<div class="flex items-center justify-between bg-white rounded-lg px-3 py-2 text-sm group hover:bg-blue-50 transition-colors border border-slate-200 hover:border-blue-300"><span class="text-slate-700 font-medium"></span><button class="text-red-500 hover:text-red-700 hover:bg-red-50 rounded px-2 py-1 font-bold transition-colors">âœ•'),pa=v("<option>"),Sp=v('<div class="text-sm text-slate-400 text-center py-4 bg-slate-50 rounded-lg border border-dashed border-slate-200">Ù‡ÛŒÚ† Ú©Ø§Ø±Ø¨Ø±ÛŒ Ø§Ø®ØªØµØ§Øµ Ø¯Ø§Ø¯Ù‡ Ù†Ø´Ø¯Ù‡'),Cp=v('<div class="flex items-center justify-between bg-white rounded-lg px-3 py-2 text-sm group hover:bg-green-50 transition-colors border border-slate-200 hover:border-green-300"><div class="flex items-center gap-2"><span class=text-lg>ğŸ‘¤</span><span class="text-slate-700 font-medium"></span></div><button class="text-red-500 hover:text-red-700 hover:bg-red-50 rounded px-2 py-1 font-bold transition-colors">âœ•');const Ap=()=>{const[r,e]=Q([]),[t,s]=Q([]),[l,n]=Q([]),[i,a]=Q(!1),[c,d]=Q(!1),[g,m]=Q(null),[h,p]=Q(""),[y,$]=Q(""),[w,S]=Q(""),E=He(()=>{const P=w().toLowerCase();return r().filter(B=>{const q=(B.Name??B.name??"").toLowerCase(),Z=(B.Description??B.description??"").toLowerCase();return q.includes(P)||Z.includes(P)})}),A=async()=>{a(!0);try{const[P,B,q]=await Promise.all([ht.groups.getAll(),Dt.getAll(),Nt.getAll()]),Z=(Array.isArray(P.data)?P.data:P.data?.items??[]).map(W=>({...W,Products:W.Products||W.products||[],Users:W.Users||W.users||[]}));e(Z),s(Array.isArray(B.data)?B.data:B.data?.items??[]),n(Array.isArray(q.data)?q.data:q.data?.items??[])}catch(P){console.error(P),alert("Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§")}finally{a(!1)}},O=()=>{m(null),p(""),$("")},F=P=>{m(P.ID??P.id),p(P.Name??P.name??""),$(P.Description??P.description??""),d(!0)},U=async()=>{const P=h().trim();if(!P)return alert("Ù†Ø§Ù… Ú¯Ø±ÙˆÙ‡ Ø§Ù„Ø²Ø§Ù…ÛŒ Ø§Ø³Øª");try{if(g()){const B=ht.groups;typeof B.update=="function"?await B.update(g(),{name:P,description:y().trim()||void 0}):(await B.delete(g()),await B.create({name:P,description:y().trim()||void 0})),alert("Ú¯Ø±ÙˆÙ‡ Ø¨Ù‡â€ŒØ±ÙˆØ² Ø´Ø¯")}else await ht.groups.create({name:P,description:y().trim()||void 0}),alert("Ú¯Ø±ÙˆÙ‡ Ø§ÛŒØ¬Ø§Ø¯ Ø´Ø¯");O(),d(!1),await A()}catch(B){console.error(B);const q=B?.message||"Ø®Ø·Ø§ Ø¯Ø± Ø¹Ù…Ù„ÛŒØ§Øª Ú¯Ø±ÙˆÙ‡";alert(`Ø®Ø·Ø§ Ø¯Ø± Ø¹Ù…Ù„ÛŒØ§Øª Ú¯Ø±ÙˆÙ‡: ${q}`)}},M=async P=>{if(confirm("Ø¢ÛŒØ§ Ø§Ø² Ø­Ø°Ù Ø§ÛŒÙ† Ú¯Ø±ÙˆÙ‡ Ø§Ø·Ù…ÛŒÙ†Ø§Ù† Ø¯Ø§Ø±ÛŒØ¯ØŸ"))try{await ht.groups.delete(P),await A(),alert("Ú¯Ø±ÙˆÙ‡ Ø­Ø°Ù Ø´Ø¯")}catch(B){console.error(B);const q=B?.message||"Ø®Ø·Ø§ Ø¯Ø± Ø­Ø°Ù Ú¯Ø±ÙˆÙ‡",Z=B?.status;alert(`Ø®Ø·Ø§: ${q}${Z?` (HTTP ${Z})`:""}`)}},L=async P=>{const B=document.getElementById(`add-prod-${P}`);if(!B)return;const q=B.value;if(!q)return alert("Ù…Ø­ØµÙˆÙ„ Ø±Ø§ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯");try{await ht.groups.addProductToGroup(P,parseInt(q,10)),alert("Ù…Ø­ØµÙˆÙ„ Ø¨Ù‡ Ú¯Ø±ÙˆÙ‡ Ø§ÙØ²ÙˆØ¯Ù‡ Ø´Ø¯"),await A(),B.value=""}catch(Z){console.error(Z);const W=Z?.status;let k=Z.message||"Ø®Ø·Ø§ Ø¯Ø± Ø§ÙØ²ÙˆØ¯Ù† Ù…Ø­ØµÙˆÙ„ Ø¨Ù‡ Ú¯Ø±ÙˆÙ‡";W===409&&(k="Ø§ÛŒÙ† Ù…Ø­ØµÙˆÙ„ Ù‚Ø¨Ù„Ø§Ù‹ Ø¯Ø± Ú¯Ø±ÙˆÙ‡ Ù…ÙˆØ¬ÙˆØ¯ Ø§Ø³Øª"),alert(`Ø®Ø·Ø§: ${k}`)}},z=async(P,B)=>{if(confirm("Ø¢ÛŒØ§ Ø­Ø°Ù Ù…Ø­ØµÙˆÙ„ Ø§Ø² Ú¯Ø±ÙˆÙ‡ Ø±Ø§ ØªØ§ÛŒÛŒØ¯ Ù…ÛŒâ€ŒÚ©Ù†ÛŒØ¯ØŸ"))try{await ht.groups.removeProductFromGroup(P,B),alert("Ù…Ø­ØµÙˆÙ„ Ø§Ø² Ú¯Ø±ÙˆÙ‡ Ø­Ø°Ù Ø´Ø¯"),await A()}catch(q){console.error(q);const Z=q?.message||"Ø®Ø·Ø§ Ø¯Ø± Ø­Ø°Ù Ù…Ø­ØµÙˆÙ„ Ø§Ø² Ú¯Ø±ÙˆÙ‡",W=q?.status;alert(`Ø®Ø·Ø§: ${Z}${W?` (HTTP ${W})`:""}`)}},ie=async P=>{const B=document.getElementById(`add-user-${P}`);if(!B)return;const q=B.value;if(!q)return alert("Ú©Ø§Ø±Ø¨Ø± Ø±Ø§ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯");try{await ht.groups.addUser(P,parseInt(q,10)),alert("Ú©Ø§Ø±Ø¨Ø± Ø¨Ù‡ Ú¯Ø±ÙˆÙ‡ Ø§ÙØ²ÙˆØ¯Ù‡ Ø´Ø¯"),await A(),B.value=""}catch(Z){console.error(Z);const W=Z?.status;let k=Z.message||"Ø®Ø·Ø§ Ø¯Ø± Ø§ÙØ²ÙˆØ¯Ù† Ú©Ø§Ø±Ø¨Ø± Ø¨Ù‡ Ú¯Ø±ÙˆÙ‡";W===409&&(k="Ø§ÛŒÙ† Ú©Ø§Ø±Ø¨Ø± Ù‚Ø¨Ù„Ø§Ù‹ Ø¯Ø± Ú¯Ø±ÙˆÙ‡ Ù…ÙˆØ¬ÙˆØ¯ Ø§Ø³Øª"),alert(`Ø®Ø·Ø§: ${k}`)}},b=async(P,B)=>{if(confirm("Ø¢ÛŒØ§ Ø­Ø°Ù Ú©Ø§Ø±Ø¨Ø± Ø§Ø² Ú¯Ø±ÙˆÙ‡ Ø±Ø§ ØªØ§ÛŒÛŒØ¯ Ù…ÛŒâ€ŒÚ©Ù†ÛŒØ¯ØŸ"))try{await ht.groups.removeUser(P,B),alert("Ú©Ø§Ø±Ø¨Ø± Ø§Ø² Ú¯Ø±ÙˆÙ‡ Ø­Ø°Ù Ø´Ø¯"),await A()}catch(q){console.error(q);const Z=q?.message||"Ø®Ø·Ø§ Ø¯Ø± Ø­Ø°Ù Ú©Ø§Ø±Ø¨Ø± Ø§Ø² Ú¯Ø±ÙˆÙ‡",W=q?.status;alert(`Ø®Ø·Ø§: ${Z}${W?` (HTTP ${W})`:""}`)}},C=P=>P.Products||P.products||[],x=P=>P.Users||P.users||[],R=P=>P.ID||P.id,T=P=>P.Name||P.name,I=P=>P.ID||P.id,D=P=>P.Username||P.username;return Zt(A),(()=>{var P=mp(),B=P.firstChild,q=B.firstChild,Z=q.firstChild,W=Z.firstChild,k=W.nextSibling,K=q.nextSibling,j=K.firstChild,ee=j.firstChild,te=ee.nextSibling,J=j.nextSibling,ge=J.firstChild;return k.$$click=()=>{O(),d(!0)},te.$$input=oe=>S(oe.currentTarget.value),u(J,()=>E().length,ge),u(B,_(ne,{get when(){return!i()},get fallback(){return xp()},get children(){return _(ne,{get when(){return E().length>0},get fallback(){return(()=>{var oe=vp(),X=oe.firstChild,le=X.nextSibling,se=le.nextSibling,me=se.nextSibling;return me.$$click=()=>{O(),d(!0)},oe})()},get children(){var oe=pp();return u(oe,_(ke,{get each(){return E()},children:X=>(()=>{var le=yp(),se=le.firstChild,me=se.firstChild,ve=me.firstChild,Pe=ve.firstChild;Pe.firstChild;var De=ve.nextSibling,Y=De.firstChild,H=Y.nextSibling,ae=se.nextSibling,fe=ae.firstChild,he=fe.firstChild,Ie=fe.nextSibling,pe=Ie.firstChild,de=ae.nextSibling,we=de.firstChild,Re=we.firstChild,Ge=Re.firstChild,Ke=Ge.nextSibling,Be=Ke.nextSibling,Ze=Re.nextSibling,dt=Ze.nextSibling,ft=dt.firstChild;ft.firstChild;var ce=ft.nextSibling,Ee=we.nextSibling,Oe=Ee.firstChild,be=Oe.firstChild,Se=be.nextSibling,ue=Se.nextSibling,ye=Oe.nextSibling,Me=ye.nextSibling,pt=Me.firstChild;pt.firstChild;var bt=pt.nextSibling;return u(Pe,()=>X.Name??X.name,null),u(ve,(()=>{var ze=Ne(()=>!!X.Description);return()=>ze()?(()=>{var Ve=$p();return u(Ve,()=>X.Description??X.description),Ve})():null})(),null),Y.$$click=()=>F(X),H.$$click=()=>M(Number(X.ID??X.id)),u(he,()=>C(X).length),u(pe,()=>x(X).length),u(Be,()=>C(X).length),u(Ze,_(ne,{get when(){return C(X).length>0},get fallback(){return wp()},get children(){var ze=ga();return u(ze,_(ke,{get each(){return C(X)},children:Ve=>(()=>{var vt=_p(),It=vt.firstChild,Ue=It.nextSibling;return u(It,()=>T(Ve)),Ue.$$click=()=>z(X.ID??X.id,R(Ve)),vt})()})),ze}})),u(ft,()=>t().filter(ze=>!C(X).some(Ve=>R(Ve)===R(ze))).map(ze=>(()=>{var Ve=pa();return u(Ve,()=>T(ze)),G(()=>Ve.value=R(ze)),Ve})()),null),ce.$$click=()=>L(X.ID??X.id),u(ue,()=>x(X).length),u(ye,_(ne,{get when(){return x(X).length>0},get fallback(){return Sp()},get children(){var ze=ga();return u(ze,_(ke,{get each(){return x(X)},children:Ve=>(()=>{var vt=Cp(),It=vt.firstChild,Ue=It.firstChild,at=Ue.nextSibling,Je=It.nextSibling;return u(at,()=>D(Ve)),Je.$$click=()=>b(X.ID??X.id,I(Ve)),vt})()})),ze}})),u(pt,()=>l().filter(ze=>!x(X).some(Ve=>I(Ve)===I(ze))).map(ze=>(()=>{var Ve=pa();return u(Ve,()=>D(ze)),G(()=>Ve.value=I(ze)),Ve})()),null),bt.$$click=()=>ie(X.ID??X.id),G(ze=>{var Ve=`add-prod-${X.ID??X.id}`,vt=`add-user-${X.ID??X.id}`;return Ve!==ze.e&&Le(ft,"id",ze.e=Ve),vt!==ze.t&&Le(pt,"id",ze.t=vt),ze},{e:void 0,t:void 0}),le})()})),oe}})}}),null),u(B,_(ne,{get when(){return c()},get children(){var oe=bp(),X=oe.firstChild,le=X.firstChild,se=le.firstChild;se.firstChild;var me=se.nextSibling,ve=le.nextSibling,Pe=ve.firstChild,De=Pe.firstChild,Y=De.nextSibling,H=Pe.nextSibling,ae=H.firstChild,fe=ae.nextSibling,he=ve.nextSibling,Ie=he.firstChild,pe=Ie.firstChild,de=pe.nextSibling,we=Ie.nextSibling;return oe.$$click=()=>{d(!1),O()},X.$$click=Re=>Re.stopPropagation(),u(se,()=>g()?"ÙˆÛŒØ±Ø§ÛŒØ´ Ú¯Ø±ÙˆÙ‡":"Ø§ÛŒØ¬Ø§Ø¯ Ú¯Ø±ÙˆÙ‡ Ø¬Ø¯ÛŒØ¯",null),me.$$click=()=>{d(!1),O()},Y.$$input=Re=>p(Re.currentTarget.value),fe.$$input=Re=>$(Re.currentTarget.value),Ie.$$click=U,u(de,()=>g()?"Ø°Ø®ÛŒØ±Ù‡":"Ø§ÛŒØ¬Ø§Ø¯"),we.$$click=()=>{d(!1),O()},G(()=>Y.value=h()),G(()=>fe.value=y()),oe}}),null),G(()=>te.value=w()),P})()};gt(["click","input"]);var kp=v("<div class=space-y-4>"),Ep=v('<div class="fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4"><div class="bg-white rounded-2xl shadow-2xl max-w-md w-full"dir=rtl><div class="bg-linear-to-r from-purple-600 via-purple-700 to-purple-800 text-white p-6 rounded-t-2xl border-b-4 border-purple-900"><h3 class="text-2xl font-bold flex items-center gap-2"><span>â•</span><span>Ø§ÛŒØ¬Ø§Ø¯ Ù†Ù‚Ø´ Ø¬Ø¯ÛŒØ¯</span></h3><p class="text-purple-100 text-sm mt-1">ÙØ±Ù… Ø§ÛŒØ¬Ø§Ø¯ Ù†Ù‚Ø´ Ú©Ø§Ø±Ø¨Ø±ÛŒ Ø¬Ø¯ÛŒØ¯</p></div><div class="p-6 space-y-4"><div><label class="flex text-xs font-bold text-slate-700 mb-2 items-center gap-2"><span>ğŸ“</span>Ù†Ø§Ù… Ù†Ù‚Ø´ *</label><input type=text placeholder="Ù…Ø«Ø§Ù„: Ù…Ø¯ÛŒØ±"class="w-full px-4 py-3 border-2 border-slate-200 rounded-lg focus:outline-none focus:border-purple-500 focus:ring-2 focus:ring-purple-200 transition-all"></div><div><label class="flex text-xs font-bold text-slate-700 mb-2 items-center gap-2"><span>ğŸ“‹</span>ØªÙˆØ¶ÛŒØ­Ø§Øª</label><textarea placeholder="ØªÙˆØ¶ÛŒØ­Ø§Øª Ù†Ù‚Ø´..."rows=3 class="w-full px-4 py-3 border-2 border-slate-200 rounded-lg focus:outline-none focus:border-purple-500 focus:ring-2 focus:ring-purple-200 transition-all resize-none"></textarea></div></div><div class="sticky bottom-0 bg-linear-to-r from-slate-900 to-slate-800 border-t-4 border-purple-600 p-4 flex gap-3 rounded-b-2xl"><button class="flex-1 px-6 py-3 bg-linear-to-r from-purple-500 to-purple-600 text-white rounded-lg hover:shadow-lg transition-all hover:scale-105 font-bold flex items-center justify-center gap-2"><span>âœ…</span><span>Ø§ÛŒØ¬Ø§Ø¯</span></button><button class="flex-1 px-6 py-3 bg-slate-700 text-white rounded-lg hover:bg-slate-600 transition-all font-bold flex items-center justify-center gap-2"><span>âŒ</span><span>Ø§Ù†ØµØ±Ø§Ù'),Np=v('<div dir=rtl class="min-h-screen bg-linear-to-br from-slate-50 via-purple-50 to-indigo-50"><div class="max-w-7xl mx-auto px-4 py-8"><div class="sticky top-0 z-10 bg-linear-to-r from-purple-600 via-purple-700 to-purple-800 text-white p-8 rounded-2xl border-b-4 border-purple-900 mb-8 shadow-lg"><div class="flex items-center justify-between"><div><h1 class="text-4xl font-bold flex items-center gap-3"><span class=text-3xl>ğŸ­</span>Ù…Ø¯ÛŒØ±ÛŒØª Ù†Ù‚Ø´â€ŒÙ‡Ø§</h1><p class="text-purple-100 mt-2">Ø§ÛŒØ¬Ø§Ø¯ Ùˆ Ù…Ø¯ÛŒØ±ÛŒØª Ù†Ù‚Ø´â€ŒÙ‡Ø§ÛŒ Ú©Ø§Ø±Ø¨Ø±ÛŒ Ùˆ Ø¯Ø³ØªØ±Ø³ÛŒâ€ŒÙ‡Ø§ÛŒ Ø³ÛŒØ³ØªÙ…</p></div><button class="px-8 py-4 bg-linear-to-r from-green-500 to-green-600 text-white rounded-xl hover:shadow-2xl hover:scale-105 transition-all font-bold text-lg flex items-center gap-2"><span>â•</span><span>Ø§ÙØ²ÙˆØ¯Ù† Ù†Ù‚Ø´'),Tp=v('<div class="flex items-center justify-center py-12"><div class=text-center><div class="text-5xl mb-4 animate-spin">â³</div><div class="text-lg text-slate-600">Ø¯Ø± Ø­Ø§Ù„ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ù†Ù‚Ø´â€ŒÙ‡Ø§...'),Ip=v('<div class="bg-white rounded-2xl shadow-sm border-2 border-slate-200 p-12 text-center"><div class="text-6xl mb-4">ğŸ­</div><h3 class="text-2xl font-bold text-slate-800 mb-2">Ù‡ÛŒÚ† Ù†Ù‚Ø´ÛŒ ÛŒØ§ÙØª Ù†Ø´Ø¯</h3><p class="text-slate-600 mb-6">Ø§ÙˆÙ„ÛŒÙ† Ù†Ù‚Ø´ Ø®ÙˆØ¯ Ø±Ø§ Ø§ÛŒØ¬Ø§Ø¯ Ú©Ù†ÛŒØ¯</p><button class="px-6 py-3 bg-linear-to-r from-purple-500 to-purple-600 text-white rounded-lg hover:shadow-lg transition-all font-bold">Ø§ÛŒØ¬Ø§Ø¯ Ø§ÙˆÙ„ÛŒÙ† Ù†Ù‚Ø´'),Lp=v('<div class="bg-white rounded-2xl border-2 border-slate-200 hover:border-purple-300 shadow-sm hover:shadow-lg transition-all p-6 group"><div class="flex items-start justify-between mb-4 pb-4 border-b border-slate-200"><div class=flex-1><h3 class="text-xl font-bold text-slate-900 flex items-center gap-2"><span class=text-2xl>ğŸ­</span></h3></div><button class="px-4 py-2 bg-red-50 border border-red-200 text-red-600 rounded-lg hover:bg-red-100 hover:border-red-300 transition-all font-bold flex items-center gap-2 hover:scale-105"><span>ğŸ—‘ï¸</span><span class=text-sm>Ø­Ø°Ù</span></button></div><div class=mb-4><div class="flex items-center gap-2 mb-3"><span class="text-sm font-bold text-indigo-600 uppercase tracking-wide">ğŸ” Ø¯Ø³ØªØ±Ø³ÛŒâ€ŒÙ‡Ø§</span><span class="px-2 py-1 bg-indigo-100 text-indigo-700 rounded-full text-xs font-bold"></span></div><div class="flex flex-wrap gap-2"></div></div><div class="bg-linear-to-br from-slate-50 to-slate-100 rounded-xl p-4 border border-slate-200"><div class="flex items-center gap-3 flex-wrap"><select class="flex-1 min-w-[200px] px-4 py-2 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-purple-500 focus:ring-2 focus:ring-purple-200 transition-all font-medium"><option value>Ø§ÙØ²ÙˆØ¯Ù† Ø¯Ø³ØªØ±Ø³ÛŒ...</option></select><button class="px-6 py-2 bg-linear-to-r from-purple-500 to-purple-600 text-white rounded-lg hover:shadow-lg transition-all hover:scale-105 font-bold">Ø§ÙØ²ÙˆØ¯Ù†'),Op=v('<p class="text-sm text-slate-600 mt-1">'),qp=v('<span class="text-sm text-slate-400 italic">Ù‡ÛŒÚ† Ø¯Ø³ØªØ±Ø³ÛŒâ€ŒØ§ÛŒ ØªØ¹Ø±ÛŒÙ Ù†Ø´Ø¯Ù‡'),Rp=v('<span class="inline-flex items-center gap-2 px-3 py-2 bg-linear-to-r from-indigo-50 to-indigo-100 border border-indigo-200 text-indigo-700 rounded-lg text-sm font-medium hover:from-indigo-100 hover:to-indigo-200 transition-all"><button class="text-indigo-500 hover:text-red-600 font-bold transition-colors ml-1">âœ•'),Pp=v("<option>");const jp=()=>{const[r,e]=Q([]),[t,s]=Q([]),[l,n]=Q(!1),[i,a]=Q(!1),[c,d]=Q(""),[g,m]=Q(""),h=async()=>{n(!0);try{const[S,E]=await Promise.all([ht.roles.getAll(),ht.permissions.getAll()]),A=S&&S.data||[],O=E&&E.data||[],F=Array.isArray(A)?A:A.items||A.items?.data||[],U=Array.isArray(O)?O:O.items||O.items?.data||[],M=(F||[]).map(z=>({...z,Permissions:z.Permissions||z.permissions||[],ID:z.ID||z.id,Name:z.Name||z.name,Description:z.Description||z.description})),L=(U||[]).map(z=>({...z,ID:z.ID||z.id,Name:z.Name||z.name,Description:z.Description||z.description}));e(M),s(L)}catch(S){console.error(S);const E=S,A=E?.response?.data?.message||E?.message||"Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§";alert(A)}finally{n(!1)}},p=async()=>{const S=c().trim();if(!S)return alert("Ù†Ø§Ù… Ù†Ù‚Ø´ Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯");try{await ht.roles.create({name:S,description:g().trim()}),d(""),m(""),a(!1),await h(),alert("Ù†Ù‚Ø´ Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø§ÛŒØ¬Ø§Ø¯ Ø´Ø¯")}catch(E){console.error(E);const A=E,O=A?.response?.data?.message||A?.message||"Ø®Ø·Ø§ Ø¯Ø± Ø§ÛŒØ¬Ø§Ø¯ Ù†Ù‚Ø´";alert(O)}},y=async S=>{if(confirm("Ø¢ÛŒØ§ Ù…Ø·Ù…Ø¦Ù† Ù‡Ø³ØªÛŒØ¯ Ú©Ù‡ Ù…ÛŒâ€ŒØ®ÙˆØ§Ù‡ÛŒØ¯ Ø§ÛŒÙ† Ù†Ù‚Ø´ Ø±Ø§ Ø­Ø°Ù Ú©Ù†ÛŒØ¯ØŸ"))try{await ht.roles.delete(S),await h(),alert("Ù†Ù‚Ø´ Ø­Ø°Ù Ø´Ø¯")}catch(E){console.error(E);const A=E,O=A?.response?.data?.message||A?.message||"Ø®Ø·Ø§ Ø¯Ø± Ø­Ø°Ù Ù†Ù‚Ø´";alert(O)}},$=async(S,E)=>{try{await ht.roles.addPermissionToRole(S,E),await h(),alert("Ø¯Ø³ØªØ±Ø³ÛŒ Ø¨Ù‡ Ù†Ù‚Ø´ Ø§ÙØ²ÙˆØ¯Ù‡ Ø´Ø¯")}catch(A){console.error(A);const O=A,F=O?.response?.data?.message||O?.message||"Ø®Ø·Ø§ Ø¯Ø± Ø§ÙØ²ÙˆØ¯Ù† Ø¯Ø³ØªØ±Ø³ÛŒ Ø¨Ù‡ Ù†Ù‚Ø´";alert(F)}},w=async(S,E)=>{if(confirm("Ø­Ø°Ù Ø¯Ø³ØªØ±Ø³ÛŒ Ø§Ø² Ù†Ù‚Ø´ØŸ"))try{await ht.roles.removePermissionFromRole(S,E),await h(),alert("Ø¯Ø³ØªØ±Ø³ÛŒ Ø§Ø² Ù†Ù‚Ø´ Ø­Ø°Ù Ø´Ø¯")}catch(A){console.error(A);const O=A,F=O?.response?.data?.message||O?.message||"Ø®Ø·Ø§ Ø¯Ø± Ø­Ø°Ù Ø¯Ø³ØªØ±Ø³ÛŒ Ø§Ø² Ù†Ù‚Ø´";alert(F)}};return Zt(h),(()=>{var S=Np(),E=S.firstChild,A=E.firstChild,O=A.firstChild,F=O.firstChild,U=F.nextSibling;return U.$$click=()=>a(!0),u(E,_(ne,{get when(){return!l()},get fallback(){return Tp()},get children(){return _(ne,{get when(){return r().length>0},get fallback(){return(()=>{var M=Ip(),L=M.firstChild,z=L.nextSibling,ie=z.nextSibling,b=ie.nextSibling;return b.$$click=()=>a(!0),M})()},get children(){var M=kp();return u(M,_(ke,{get each(){return r()},children:L=>(()=>{var z=Lp(),ie=z.firstChild,b=ie.firstChild,C=b.firstChild;C.firstChild;var x=b.nextSibling,R=ie.nextSibling,T=R.firstChild,I=T.firstChild,D=I.nextSibling,P=T.nextSibling,B=R.nextSibling,q=B.firstChild,Z=q.firstChild;Z.firstChild;var W=Z.nextSibling;return u(C,()=>L.Name??L.name,null),u(b,(()=>{var k=Ne(()=>!!(L.Description??L.description));return()=>k()?(()=>{var K=Op();return u(K,()=>L.Description??L.description),K})():null})(),null),x.$$click=()=>y(L.ID??L.id),u(D,()=>L.Permissions?.length||0),u(P,_(ne,{get when(){return(L.Permissions||[]).length>0},get fallback(){return qp()},get children(){return _(ke,{get each(){return L.Permissions||[]},children:k=>(()=>{var K=Rp(),j=K.firstChild;return u(K,()=>k.Name??k.name,j),j.$$click=()=>w(L.ID??L.id,k.ID??k.id),K})()})}})),u(Z,()=>t().filter(k=>!(L.Permissions||[]).some(K=>(K.ID??K.id)===(k.ID??k.id))).map(k=>(()=>{var K=Pp();return u(K,()=>k.Name??k.name),G(()=>K.value=k.ID??k.id),K})()),null),W.$$click=()=>{const k=document.getElementById(`add-perm-${L.ID??L.id}`);if(!k)return;const K=k.value;if(!K)return alert("Ø¯Ø³ØªØ±Ø³ÛŒ Ø±Ø§ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯");$(L.ID??L.id,parseInt(K,10))},G(()=>Le(Z,"id",`add-perm-${L.ID??L.id}`)),z})()})),M}})}}),null),u(S,_(ne,{get when(){return i()},get children(){var M=Ep(),L=M.firstChild,z=L.firstChild,ie=z.nextSibling,b=ie.firstChild,C=b.firstChild,x=C.nextSibling,R=b.nextSibling,T=R.firstChild,I=T.nextSibling,D=ie.nextSibling,P=D.firstChild,B=P.nextSibling;return M.$$click=()=>a(!1),L.$$click=q=>q.stopPropagation(),x.$$input=q=>d(q.currentTarget.value),I.$$input=q=>m(q.currentTarget.value),P.$$click=p,B.$$click=()=>a(!1),G(()=>x.value=c()),G(()=>I.value=g()),M}}),null),S})()};gt(["click","input"]);var Dp=v('<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-5">'),Bp=v('<div class="fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4"><div class="bg-white rounded-2xl shadow-2xl max-w-md w-full"dir=rtl><div class="bg-linear-to-r from-cyan-600 via-cyan-700 to-cyan-800 text-white p-6 rounded-t-2xl border-b-4 border-cyan-900"><h3 class="text-2xl font-bold flex items-center gap-2"><span>â•</span><span>Ø§ÛŒØ¬Ø§Ø¯ Ø¯Ø³ØªØ±Ø³ÛŒ Ø¬Ø¯ÛŒØ¯</span></h3><p class="text-cyan-100 text-sm mt-1">ÙØ±Ù… Ø§ÛŒØ¬Ø§Ø¯ Ø¯Ø³ØªØ±Ø³ÛŒ Ø¬Ø¯ÛŒØ¯</p></div><div class="p-6 space-y-4"><div><label class="flex text-xs font-bold text-slate-700 mb-2 items-center gap-2"><span>ğŸ“</span>Ù†Ø§Ù… Ø¯Ø³ØªØ±Ø³ÛŒ *</label><input type=text placeholder="Ù…Ø«Ø§Ù„: manage_users"class="w-full px-4 py-3 border-2 border-slate-200 rounded-lg focus:outline-none focus:border-cyan-500 focus:ring-2 focus:ring-cyan-200 transition-all"></div><div><label class="flex text-xs font-bold text-slate-700 mb-2 items-center gap-2"><span>ğŸ“‹</span>ØªÙˆØ¶ÛŒØ­Ø§Øª</label><textarea placeholder="ØªÙˆØ¶ÛŒØ­Ø§Øª Ø¯Ø³ØªØ±Ø³ÛŒ..."rows=3 class="w-full px-4 py-3 border-2 border-slate-200 rounded-lg focus:outline-none focus:border-cyan-500 focus:ring-2 focus:ring-cyan-200 transition-all resize-none"></textarea></div></div><div class="sticky bottom-0 bg-linear-to-r from-slate-900 to-slate-800 border-t-4 border-cyan-600 p-4 flex gap-3 rounded-b-2xl"><button class="flex-1 px-6 py-3 bg-linear-to-r from-cyan-500 to-cyan-600 text-white rounded-lg hover:shadow-lg transition-all hover:scale-105 font-bold flex items-center justify-center gap-2"><span>âœ…</span><span>Ø§ÛŒØ¬Ø§Ø¯</span></button><button class="flex-1 px-6 py-3 bg-slate-700 text-white rounded-lg hover:bg-slate-600 transition-all font-bold flex items-center justify-center gap-2"><span>âŒ</span><span>Ø§Ù†ØµØ±Ø§Ù'),Mp=v('<div dir=rtl class="min-h-screen bg-linear-to-br from-slate-50 via-blue-50 to-cyan-50"><div class="max-w-7xl mx-auto px-4 py-8"><div class="sticky top-0 z-10 bg-linear-to-r from-cyan-600 via-cyan-700 to-cyan-800 text-white p-8 rounded-2xl border-b-4 border-cyan-900 mb-8 shadow-lg"><div class="flex items-center justify-between"><div><h1 class="text-4xl font-bold flex items-center gap-3"><span class=text-3xl>ğŸ”</span>Ù…Ø¯ÛŒØ±ÛŒØª Ø¯Ø³ØªØ±Ø³ÛŒâ€ŒÙ‡Ø§</h1><p class="text-cyan-100 mt-2">Ø§ÛŒØ¬Ø§Ø¯ Ùˆ Ù…Ø¯ÛŒØ±ÛŒØª Ø¯Ø³ØªØ±Ø³ÛŒâ€ŒÙ‡Ø§ÛŒ Ø³ÛŒØ³ØªÙ…</p></div><button class="px-8 py-4 bg-linear-to-r from-green-500 to-green-600 text-white rounded-xl hover:shadow-2xl hover:scale-105 transition-all font-bold text-lg flex items-center gap-2"><span>â•</span><span>Ø§ÙØ²ÙˆØ¯Ù† Ø¯Ø³ØªØ±Ø³ÛŒ'),Up=v('<div class="flex items-center justify-center py-12"><div class=text-center><div class="text-5xl mb-4 animate-spin">â³</div><div class="text-lg text-slate-600">Ø¯Ø± Ø­Ø§Ù„ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ø¯Ø³ØªØ±Ø³ÛŒâ€ŒÙ‡Ø§...'),Fp=v('<div class="bg-white rounded-2xl shadow-sm border-2 border-slate-200 p-12 text-center"><div class="text-6xl mb-4">ğŸ”‘</div><h3 class="text-2xl font-bold text-slate-800 mb-2">Ø¯Ø³ØªØ±Ø³ÛŒâ€ŒØ§ÛŒ ÛŒØ§ÙØª Ù†Ø´Ø¯</h3><p class="text-slate-600 mb-6">Ù‡Ù†ÙˆØ² Ù‡ÛŒÚ† Ø¯Ø³ØªØ±Ø³ÛŒâ€ŒØ§ÛŒ Ø§ÛŒØ¬Ø§Ø¯ Ù†Ø´Ø¯Ù‡ Ø§Ø³Øª</p><button class="px-6 py-3 bg-linear-to-r from-cyan-500 to-cyan-600 text-white rounded-lg hover:shadow-lg transition-all font-bold">Ø§ÛŒØ¬Ø§Ø¯ Ø§ÙˆÙ„ÛŒÙ† Ø¯Ø³ØªØ±Ø³ÛŒ'),zp=v('<div class="bg-white rounded-2xl border-2 border-slate-200 hover:border-cyan-300 shadow-sm hover:shadow-lg transition-all p-6 group"><div class="flex items-start justify-between mb-4 pb-4 border-b border-slate-200"><div class=flex-1><div class="flex items-center gap-2 mb-2"><span class=text-2xl>ğŸ”</span><h3 class="text-lg font-bold text-slate-900"></h3></div></div></div><button class="w-full px-4 py-3 bg-red-50 border border-red-200 text-red-600 rounded-lg hover:bg-red-100 hover:border-red-300 transition-all text-sm font-bold flex items-center justify-center gap-2 hover:scale-105"><span>ğŸ—‘ï¸</span><span>Ø­Ø°Ù Ø¯Ø³ØªØ±Ø³ÛŒ'),Hp=v('<p class="text-sm text-slate-600 line-clamp-2">');const Gp=()=>{const[r,e]=Q([]),[t,s]=Q(!1),[l,n]=Q(!1),[i,a]=Q(""),[c,d]=Q(""),g=async()=>{s(!0);try{const p=await ht.permissions.getAll(),y=p&&p.data||[],$=Array.isArray(y)?y:y.items||y.items?.data||[];e($||[])}catch(p){console.error(p);const y=p,$=y?.response?.data?.message||y?.message||"Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ø¯Ø³ØªØ±Ø³ÛŒâ€ŒÙ‡Ø§";alert($)}finally{s(!1)}},m=async()=>{const p=i().trim();if(!p)return alert("Ù†Ø§Ù… Ø¯Ø³ØªØ±Ø³ÛŒ Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯");try{await ht.permissions.create({name:p,description:c().trim()}),a(""),d(""),n(!1),await g(),alert("Ø¯Ø³ØªØ±Ø³ÛŒ Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø§ÛŒØ¬Ø§Ø¯ Ø´Ø¯")}catch(y){console.error(y);const $=y,w=$?.response?.data?.message||$?.message||"Ø®Ø·Ø§ Ø¯Ø± Ø§ÛŒØ¬Ø§Ø¯ Ø¯Ø³ØªØ±Ø³ÛŒ";alert(w)}},h=async p=>{if(confirm("Ø¢ÛŒØ§ Ù…Ø·Ù…Ø¦Ù† Ù‡Ø³ØªÛŒØ¯ Ú©Ù‡ Ù…ÛŒâ€ŒØ®ÙˆØ§Ù‡ÛŒØ¯ Ø§ÛŒÙ† Ø¯Ø³ØªØ±Ø³ÛŒ Ø±Ø§ Ø­Ø°Ù Ú©Ù†ÛŒØ¯ØŸ"))try{await ht.permissions.delete(p),await g(),alert("Ø¯Ø³ØªØ±Ø³ÛŒ Ø­Ø°Ù Ø´Ø¯")}catch(y){console.error(y);const $=y,w=$?.response?.data?.message||$?.message||"Ø®Ø·Ø§ Ø¯Ø± Ø­Ø°Ù Ø¯Ø³ØªØ±Ø³ÛŒ";alert(w)}};return Zt(g),(()=>{var p=Mp(),y=p.firstChild,$=y.firstChild,w=$.firstChild,S=w.firstChild,E=S.nextSibling;return E.$$click=()=>n(!0),u(y,_(ne,{get when(){return!t()},get fallback(){return Up()},get children(){return _(ne,{get when(){return r().length>0},get fallback(){return(()=>{var A=Fp(),O=A.firstChild,F=O.nextSibling,U=F.nextSibling,M=U.nextSibling;return M.$$click=()=>n(!0),A})()},get children(){var A=Dp();return u(A,_(ke,{get each(){return r()},children:O=>(()=>{var F=zp(),U=F.firstChild,M=U.firstChild,L=M.firstChild,z=L.firstChild,ie=z.nextSibling,b=U.nextSibling;return u(ie,()=>O.Name??O.name),u(M,(()=>{var C=Ne(()=>!!(O.Description??O.description));return()=>C()?(()=>{var x=Hp();return u(x,()=>O.Description??O.description),x})():null})(),null),b.$$click=()=>h(O.ID??O.id),F})()})),A}})}}),null),u(p,_(ne,{get when(){return l()},get children(){var A=Bp(),O=A.firstChild,F=O.firstChild,U=F.nextSibling,M=U.firstChild,L=M.firstChild,z=L.nextSibling,ie=M.nextSibling,b=ie.firstChild,C=b.nextSibling,x=U.nextSibling,R=x.firstChild,T=R.nextSibling;return A.$$click=()=>n(!1),O.$$click=I=>I.stopPropagation(),z.$$input=I=>a(I.currentTarget.value),C.$$input=I=>d(I.currentTarget.value),R.$$click=m,T.$$click=()=>n(!1),G(()=>z.value=i()),G(()=>C.value=c()),A}}),null),p})()};gt(["click","input"]);var Zo=typeof global=="object"&&global&&global.Object===Object&&global,Kp=typeof self=="object"&&self&&self.Object===Object&&self,_r=Zo||Kp||Function("return this")(),Zr=_r.Symbol,Xo=Object.prototype,Vp=Xo.hasOwnProperty,Wp=Xo.toString,gl=Zr?Zr.toStringTag:void 0;function Zp(r){var e=Vp.call(r,gl),t=r[gl];try{r[gl]=void 0;var s=!0}catch{}var l=Wp.call(r);return s&&(e?r[gl]=t:delete r[gl]),l}var Xp=Object.prototype,Yp=Xp.toString;function Qp(r){return Yp.call(r)}var Jp="[object Null]",e0="[object Undefined]",ba=Zr?Zr.toStringTag:void 0;function Ws(r){return r==null?r===void 0?e0:Jp:ba&&ba in Object(r)?Zp(r):Qp(r)}function qr(r){return r!=null&&typeof r=="object"}var hs=Array.isArray;function Xr(r){var e=typeof r;return r!=null&&(e=="object"||e=="function")}function Yo(r){return r}var t0="[object AsyncFunction]",r0="[object Function]",s0="[object GeneratorFunction]",l0="[object Proxy]";function Li(r){if(!Xr(r))return!1;var e=Ws(r);return e==r0||e==s0||e==t0||e==l0}var Rn=_r["__core-js_shared__"],ma=(function(){var r=/[^.]+$/.exec(Rn&&Rn.keys&&Rn.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""})();function n0(r){return!!ma&&ma in r}var i0=Function.prototype,a0=i0.toString;function ms(r){if(r!=null){try{return a0.call(r)}catch{}try{return r+""}catch{}}return""}var o0=/[\\^$.*+?()[\]{}|]/g,c0=/^\[object .+?Constructor\]$/,d0=Function.prototype,u0=Object.prototype,h0=d0.toString,f0=u0.hasOwnProperty,g0=RegExp("^"+h0.call(f0).replace(o0,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function p0(r){if(!Xr(r)||n0(r))return!1;var e=Li(r)?g0:c0;return e.test(ms(r))}function b0(r,e){return r?.[e]}function xs(r,e){var t=b0(r,e);return p0(t)?t:void 0}var li=xs(_r,"WeakMap"),xa=Object.create,m0=(function(){function r(){}return function(e){if(!Xr(e))return{};if(xa)return xa(e);r.prototype=e;var t=new r;return r.prototype=void 0,t}})();function x0(r,e,t){switch(t.length){case 0:return r.call(e);case 1:return r.call(e,t[0]);case 2:return r.call(e,t[0],t[1]);case 3:return r.call(e,t[0],t[1],t[2])}return r.apply(e,t)}function v0(r,e){var t=-1,s=r.length;for(e||(e=Array(s));++t<s;)e[t]=r[t];return e}var y0=800,$0=16,w0=Date.now;function _0(r){var e=0,t=0;return function(){var s=w0(),l=$0-(s-t);if(t=s,l>0){if(++e>=y0)return arguments[0]}else e=0;return r.apply(void 0,arguments)}}function S0(r){return function(){return r}}var an=(function(){try{var r=xs(Object,"defineProperty");return r({},"",{}),r}catch{}})(),C0=an?function(r,e){return an(r,"toString",{configurable:!0,enumerable:!1,value:S0(e),writable:!0})}:Yo,A0=_0(C0);function k0(r,e){for(var t=-1,s=r==null?0:r.length;++t<s&&e(r[t],t,r)!==!1;);return r}var E0=9007199254740991,N0=/^(?:0|[1-9]\d*)$/;function Qo(r,e){var t=typeof r;return e=e??E0,!!e&&(t=="number"||t!="symbol"&&N0.test(r))&&r>-1&&r%1==0&&r<e}function Oi(r,e,t){e=="__proto__"&&an?an(r,e,{configurable:!0,enumerable:!0,value:t,writable:!0}):r[e]=t}function Ol(r,e){return r===e||r!==r&&e!==e}var T0=Object.prototype,I0=T0.hasOwnProperty;function Jo(r,e,t){var s=r[e];(!(I0.call(r,e)&&Ol(s,t))||t===void 0&&!(e in r))&&Oi(r,e,t)}function L0(r,e,t,s){var l=!t;t||(t={});for(var n=-1,i=e.length;++n<i;){var a=e[n],c=void 0;c===void 0&&(c=r[a]),l?Oi(t,a,c):Jo(t,a,c)}return t}var va=Math.max;function O0(r,e,t){return e=va(e===void 0?r.length-1:e,0),function(){for(var s=arguments,l=-1,n=va(s.length-e,0),i=Array(n);++l<n;)i[l]=s[e+l];l=-1;for(var a=Array(e+1);++l<e;)a[l]=s[l];return a[e]=t(i),x0(r,this,a)}}function q0(r,e){return A0(O0(r,e,Yo),r+"")}var R0=9007199254740991;function ec(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=R0}function xn(r){return r!=null&&ec(r.length)&&!Li(r)}function P0(r,e,t){if(!Xr(t))return!1;var s=typeof e;return(s=="number"?xn(t)&&Qo(e,t.length):s=="string"&&e in t)?Ol(t[e],r):!1}function j0(r){return q0(function(e,t){var s=-1,l=t.length,n=l>1?t[l-1]:void 0,i=l>2?t[2]:void 0;for(n=r.length>3&&typeof n=="function"?(l--,n):void 0,i&&P0(t[0],t[1],i)&&(n=l<3?void 0:n,l=1),e=Object(e);++s<l;){var a=t[s];a&&r(e,a,s,n)}return e})}var D0=Object.prototype;function qi(r){var e=r&&r.constructor,t=typeof e=="function"&&e.prototype||D0;return r===t}function B0(r,e){for(var t=-1,s=Array(r);++t<r;)s[t]=e(t);return s}var M0="[object Arguments]";function ya(r){return qr(r)&&Ws(r)==M0}var tc=Object.prototype,U0=tc.hasOwnProperty,F0=tc.propertyIsEnumerable,ni=ya((function(){return arguments})())?ya:function(r){return qr(r)&&U0.call(r,"callee")&&!F0.call(r,"callee")};function z0(){return!1}var rc=typeof Kt=="object"&&Kt&&!Kt.nodeType&&Kt,$a=rc&&typeof Vt=="object"&&Vt&&!Vt.nodeType&&Vt,H0=$a&&$a.exports===rc,wa=H0?_r.Buffer:void 0,G0=wa?wa.isBuffer:void 0,Al=G0||z0,K0="[object Arguments]",V0="[object Array]",W0="[object Boolean]",Z0="[object Date]",X0="[object Error]",Y0="[object Function]",Q0="[object Map]",J0="[object Number]",eb="[object Object]",tb="[object RegExp]",rb="[object Set]",sb="[object String]",lb="[object WeakMap]",nb="[object ArrayBuffer]",ib="[object DataView]",ab="[object Float32Array]",ob="[object Float64Array]",cb="[object Int8Array]",db="[object Int16Array]",ub="[object Int32Array]",hb="[object Uint8Array]",fb="[object Uint8ClampedArray]",gb="[object Uint16Array]",pb="[object Uint32Array]",it={};it[ab]=it[ob]=it[cb]=it[db]=it[ub]=it[hb]=it[fb]=it[gb]=it[pb]=!0;it[K0]=it[V0]=it[nb]=it[W0]=it[ib]=it[Z0]=it[X0]=it[Y0]=it[Q0]=it[J0]=it[eb]=it[tb]=it[rb]=it[sb]=it[lb]=!1;function bb(r){return qr(r)&&ec(r.length)&&!!it[Ws(r)]}function Ri(r){return function(e){return r(e)}}var sc=typeof Kt=="object"&&Kt&&!Kt.nodeType&&Kt,$l=sc&&typeof Vt=="object"&&Vt&&!Vt.nodeType&&Vt,mb=$l&&$l.exports===sc,Pn=mb&&Zo.process,zs=(function(){try{var r=$l&&$l.require&&$l.require("util").types;return r||Pn&&Pn.binding&&Pn.binding("util")}catch{}})(),_a=zs&&zs.isTypedArray,Pi=_a?Ri(_a):bb,xb=Object.prototype,vb=xb.hasOwnProperty;function lc(r,e){var t=hs(r),s=!t&&ni(r),l=!t&&!s&&Al(r),n=!t&&!s&&!l&&Pi(r),i=t||s||l||n,a=i?B0(r.length,String):[],c=a.length;for(var d in r)(e||vb.call(r,d))&&!(i&&(d=="length"||l&&(d=="offset"||d=="parent")||n&&(d=="buffer"||d=="byteLength"||d=="byteOffset")||Qo(d,c)))&&a.push(d);return a}function nc(r,e){return function(t){return r(e(t))}}var yb=nc(Object.keys,Object),$b=Object.prototype,wb=$b.hasOwnProperty;function _b(r){if(!qi(r))return yb(r);var e=[];for(var t in Object(r))wb.call(r,t)&&t!="constructor"&&e.push(t);return e}function Sb(r){return xn(r)?lc(r):_b(r)}function Cb(r){var e=[];if(r!=null)for(var t in Object(r))e.push(t);return e}var Ab=Object.prototype,kb=Ab.hasOwnProperty;function Eb(r){if(!Xr(r))return Cb(r);var e=qi(r),t=[];for(var s in r)s=="constructor"&&(e||!kb.call(r,s))||t.push(s);return t}function ic(r){return xn(r)?lc(r,!0):Eb(r)}var kl=xs(Object,"create");function Nb(){this.__data__=kl?kl(null):{},this.size=0}function Tb(r){var e=this.has(r)&&delete this.__data__[r];return this.size-=e?1:0,e}var Ib="__lodash_hash_undefined__",Lb=Object.prototype,Ob=Lb.hasOwnProperty;function qb(r){var e=this.__data__;if(kl){var t=e[r];return t===Ib?void 0:t}return Ob.call(e,r)?e[r]:void 0}var Rb=Object.prototype,Pb=Rb.hasOwnProperty;function jb(r){var e=this.__data__;return kl?e[r]!==void 0:Pb.call(e,r)}var Db="__lodash_hash_undefined__";function Bb(r,e){var t=this.__data__;return this.size+=this.has(r)?0:1,t[r]=kl&&e===void 0?Db:e,this}function fs(r){var e=-1,t=r==null?0:r.length;for(this.clear();++e<t;){var s=r[e];this.set(s[0],s[1])}}fs.prototype.clear=Nb;fs.prototype.delete=Tb;fs.prototype.get=qb;fs.prototype.has=jb;fs.prototype.set=Bb;function Mb(){this.__data__=[],this.size=0}function vn(r,e){for(var t=r.length;t--;)if(Ol(r[t][0],e))return t;return-1}var Ub=Array.prototype,Fb=Ub.splice;function zb(r){var e=this.__data__,t=vn(e,r);if(t<0)return!1;var s=e.length-1;return t==s?e.pop():Fb.call(e,t,1),--this.size,!0}function Hb(r){var e=this.__data__,t=vn(e,r);return t<0?void 0:e[t][1]}function Gb(r){return vn(this.__data__,r)>-1}function Kb(r,e){var t=this.__data__,s=vn(t,r);return s<0?(++this.size,t.push([r,e])):t[s][1]=e,this}function Dr(r){var e=-1,t=r==null?0:r.length;for(this.clear();++e<t;){var s=r[e];this.set(s[0],s[1])}}Dr.prototype.clear=Mb;Dr.prototype.delete=zb;Dr.prototype.get=Hb;Dr.prototype.has=Gb;Dr.prototype.set=Kb;var El=xs(_r,"Map");function Vb(){this.size=0,this.__data__={hash:new fs,map:new(El||Dr),string:new fs}}function Wb(r){var e=typeof r;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?r!=="__proto__":r===null}function yn(r,e){var t=r.__data__;return Wb(e)?t[typeof e=="string"?"string":"hash"]:t.map}function Zb(r){var e=yn(this,r).delete(r);return this.size-=e?1:0,e}function Xb(r){return yn(this,r).get(r)}function Yb(r){return yn(this,r).has(r)}function Qb(r,e){var t=yn(this,r),s=t.size;return t.set(r,e),this.size+=t.size==s?0:1,this}function vs(r){var e=-1,t=r==null?0:r.length;for(this.clear();++e<t;){var s=r[e];this.set(s[0],s[1])}}vs.prototype.clear=Vb;vs.prototype.delete=Zb;vs.prototype.get=Xb;vs.prototype.has=Yb;vs.prototype.set=Qb;function Jb(r,e){for(var t=-1,s=e.length,l=r.length;++t<s;)r[l+t]=e[t];return r}var ac=nc(Object.getPrototypeOf,Object),em="[object Object]",tm=Function.prototype,rm=Object.prototype,oc=tm.toString,sm=rm.hasOwnProperty,lm=oc.call(Object);function nm(r){if(!qr(r)||Ws(r)!=em)return!1;var e=ac(r);if(e===null)return!0;var t=sm.call(e,"constructor")&&e.constructor;return typeof t=="function"&&t instanceof t&&oc.call(t)==lm}function im(){this.__data__=new Dr,this.size=0}function am(r){var e=this.__data__,t=e.delete(r);return this.size=e.size,t}function om(r){return this.__data__.get(r)}function cm(r){return this.__data__.has(r)}var dm=200;function um(r,e){var t=this.__data__;if(t instanceof Dr){var s=t.__data__;if(!El||s.length<dm-1)return s.push([r,e]),this.size=++t.size,this;t=this.__data__=new vs(s)}return t.set(r,e),this.size=t.size,this}function yr(r){var e=this.__data__=new Dr(r);this.size=e.size}yr.prototype.clear=im;yr.prototype.delete=am;yr.prototype.get=om;yr.prototype.has=cm;yr.prototype.set=um;var cc=typeof Kt=="object"&&Kt&&!Kt.nodeType&&Kt,Sa=cc&&typeof Vt=="object"&&Vt&&!Vt.nodeType&&Vt,hm=Sa&&Sa.exports===cc,Ca=hm?_r.Buffer:void 0,Aa=Ca?Ca.allocUnsafe:void 0;function dc(r,e){if(e)return r.slice();var t=r.length,s=Aa?Aa(t):new r.constructor(t);return r.copy(s),s}function fm(r,e){for(var t=-1,s=r==null?0:r.length,l=0,n=[];++t<s;){var i=r[t];e(i,t,r)&&(n[l++]=i)}return n}function gm(){return[]}var pm=Object.prototype,bm=pm.propertyIsEnumerable,ka=Object.getOwnPropertySymbols,mm=ka?function(r){return r==null?[]:(r=Object(r),fm(ka(r),function(e){return bm.call(r,e)}))}:gm;function xm(r,e,t){var s=e(r);return hs(r)?s:Jb(s,t(r))}function ii(r){return xm(r,Sb,mm)}var ai=xs(_r,"DataView"),oi=xs(_r,"Promise"),ci=xs(_r,"Set"),Ea="[object Map]",vm="[object Object]",Na="[object Promise]",Ta="[object Set]",Ia="[object WeakMap]",La="[object DataView]",ym=ms(ai),$m=ms(El),wm=ms(oi),_m=ms(ci),Sm=ms(li),or=Ws;(ai&&or(new ai(new ArrayBuffer(1)))!=La||El&&or(new El)!=Ea||oi&&or(oi.resolve())!=Na||ci&&or(new ci)!=Ta||li&&or(new li)!=Ia)&&(or=function(r){var e=Ws(r),t=e==vm?r.constructor:void 0,s=t?ms(t):"";if(s)switch(s){case ym:return La;case $m:return Ea;case wm:return Na;case _m:return Ta;case Sm:return Ia}return e});var Cm=Object.prototype,Am=Cm.hasOwnProperty;function km(r){var e=r.length,t=new r.constructor(e);return e&&typeof r[0]=="string"&&Am.call(r,"index")&&(t.index=r.index,t.input=r.input),t}var on=_r.Uint8Array;function ji(r){var e=new r.constructor(r.byteLength);return new on(e).set(new on(r)),e}function Em(r,e){var t=ji(r.buffer);return new r.constructor(t,r.byteOffset,r.byteLength)}var Nm=/\w*$/;function Tm(r){var e=new r.constructor(r.source,Nm.exec(r));return e.lastIndex=r.lastIndex,e}var Oa=Zr?Zr.prototype:void 0,qa=Oa?Oa.valueOf:void 0;function Im(r){return qa?Object(qa.call(r)):{}}function uc(r,e){var t=e?ji(r.buffer):r.buffer;return new r.constructor(t,r.byteOffset,r.length)}var Lm="[object Boolean]",Om="[object Date]",qm="[object Map]",Rm="[object Number]",Pm="[object RegExp]",jm="[object Set]",Dm="[object String]",Bm="[object Symbol]",Mm="[object ArrayBuffer]",Um="[object DataView]",Fm="[object Float32Array]",zm="[object Float64Array]",Hm="[object Int8Array]",Gm="[object Int16Array]",Km="[object Int32Array]",Vm="[object Uint8Array]",Wm="[object Uint8ClampedArray]",Zm="[object Uint16Array]",Xm="[object Uint32Array]";function Ym(r,e,t){var s=r.constructor;switch(e){case Mm:return ji(r);case Lm:case Om:return new s(+r);case Um:return Em(r);case Fm:case zm:case Hm:case Gm:case Km:case Vm:case Wm:case Zm:case Xm:return uc(r,t);case qm:return new s;case Rm:case Dm:return new s(r);case Pm:return Tm(r);case jm:return new s;case Bm:return Im(r)}}function hc(r){return typeof r.constructor=="function"&&!qi(r)?m0(ac(r)):{}}var Qm="[object Map]";function Jm(r){return qr(r)&&or(r)==Qm}var Ra=zs&&zs.isMap,ex=Ra?Ri(Ra):Jm,tx="[object Set]";function rx(r){return qr(r)&&or(r)==tx}var Pa=zs&&zs.isSet,sx=Pa?Ri(Pa):rx,lx=1,fc="[object Arguments]",nx="[object Array]",ix="[object Boolean]",ax="[object Date]",ox="[object Error]",gc="[object Function]",cx="[object GeneratorFunction]",dx="[object Map]",ux="[object Number]",pc="[object Object]",hx="[object RegExp]",fx="[object Set]",gx="[object String]",px="[object Symbol]",bx="[object WeakMap]",mx="[object ArrayBuffer]",xx="[object DataView]",vx="[object Float32Array]",yx="[object Float64Array]",$x="[object Int8Array]",wx="[object Int16Array]",_x="[object Int32Array]",Sx="[object Uint8Array]",Cx="[object Uint8ClampedArray]",Ax="[object Uint16Array]",kx="[object Uint32Array]",nt={};nt[fc]=nt[nx]=nt[mx]=nt[xx]=nt[ix]=nt[ax]=nt[vx]=nt[yx]=nt[$x]=nt[wx]=nt[_x]=nt[dx]=nt[ux]=nt[pc]=nt[hx]=nt[fx]=nt[gx]=nt[px]=nt[Sx]=nt[Cx]=nt[Ax]=nt[kx]=!0;nt[ox]=nt[gc]=nt[bx]=!1;function en(r,e,t,s,l,n){var i,a=e&lx;if(i!==void 0)return i;if(!Xr(r))return r;var c=hs(r);if(c)i=km(r);else{var d=or(r),g=d==gc||d==cx;if(Al(r))return dc(r,a);if(d==pc||d==fc||g&&!l)i=g?{}:hc(r);else{if(!nt[d])return l?r:{};i=Ym(r,d,a)}}n||(n=new yr);var m=n.get(r);if(m)return m;n.set(r,i),sx(r)?r.forEach(function(y){i.add(en(y,e,t,y,r,n))}):ex(r)&&r.forEach(function(y,$){i.set($,en(y,e,t,$,r,n))});var h=ii,p=c?void 0:h(r);return k0(p||r,function(y,$){p&&($=y,y=r[$]),Jo(i,$,en(y,e,t,$,r,n))}),i}var Ex=1,Nx=4;function Ms(r){return en(r,Ex|Nx)}var Tx="__lodash_hash_undefined__";function Ix(r){return this.__data__.set(r,Tx),this}function Lx(r){return this.__data__.has(r)}function cn(r){var e=-1,t=r==null?0:r.length;for(this.__data__=new vs;++e<t;)this.add(r[e])}cn.prototype.add=cn.prototype.push=Ix;cn.prototype.has=Lx;function Ox(r,e){for(var t=-1,s=r==null?0:r.length;++t<s;)if(e(r[t],t,r))return!0;return!1}function qx(r,e){return r.has(e)}var Rx=1,Px=2;function bc(r,e,t,s,l,n){var i=t&Rx,a=r.length,c=e.length;if(a!=c&&!(i&&c>a))return!1;var d=n.get(r),g=n.get(e);if(d&&g)return d==e&&g==r;var m=-1,h=!0,p=t&Px?new cn:void 0;for(n.set(r,e),n.set(e,r);++m<a;){var y=r[m],$=e[m];if(s)var w=i?s($,y,m,e,r,n):s(y,$,m,r,e,n);if(w!==void 0){if(w)continue;h=!1;break}if(p){if(!Ox(e,function(S,E){if(!qx(p,E)&&(y===S||l(y,S,t,s,n)))return p.push(E)})){h=!1;break}}else if(!(y===$||l(y,$,t,s,n))){h=!1;break}}return n.delete(r),n.delete(e),h}function jx(r){var e=-1,t=Array(r.size);return r.forEach(function(s,l){t[++e]=[l,s]}),t}function Dx(r){var e=-1,t=Array(r.size);return r.forEach(function(s){t[++e]=s}),t}var Bx=1,Mx=2,Ux="[object Boolean]",Fx="[object Date]",zx="[object Error]",Hx="[object Map]",Gx="[object Number]",Kx="[object RegExp]",Vx="[object Set]",Wx="[object String]",Zx="[object Symbol]",Xx="[object ArrayBuffer]",Yx="[object DataView]",ja=Zr?Zr.prototype:void 0,jn=ja?ja.valueOf:void 0;function Qx(r,e,t,s,l,n,i){switch(t){case Yx:if(r.byteLength!=e.byteLength||r.byteOffset!=e.byteOffset)return!1;r=r.buffer,e=e.buffer;case Xx:return!(r.byteLength!=e.byteLength||!n(new on(r),new on(e)));case Ux:case Fx:case Gx:return Ol(+r,+e);case zx:return r.name==e.name&&r.message==e.message;case Kx:case Wx:return r==e+"";case Hx:var a=jx;case Vx:var c=s&Bx;if(a||(a=Dx),r.size!=e.size&&!c)return!1;var d=i.get(r);if(d)return d==e;s|=Mx,i.set(r,e);var g=bc(a(r),a(e),s,l,n,i);return i.delete(r),g;case Zx:if(jn)return jn.call(r)==jn.call(e)}return!1}var Jx=1,ev=Object.prototype,tv=ev.hasOwnProperty;function rv(r,e,t,s,l,n){var i=t&Jx,a=ii(r),c=a.length,d=ii(e),g=d.length;if(c!=g&&!i)return!1;for(var m=c;m--;){var h=a[m];if(!(i?h in e:tv.call(e,h)))return!1}var p=n.get(r),y=n.get(e);if(p&&y)return p==e&&y==r;var $=!0;n.set(r,e),n.set(e,r);for(var w=i;++m<c;){h=a[m];var S=r[h],E=e[h];if(s)var A=i?s(E,S,h,e,r,n):s(S,E,h,r,e,n);if(!(A===void 0?S===E||l(S,E,t,s,n):A)){$=!1;break}w||(w=h=="constructor")}if($&&!w){var O=r.constructor,F=e.constructor;O!=F&&"constructor"in r&&"constructor"in e&&!(typeof O=="function"&&O instanceof O&&typeof F=="function"&&F instanceof F)&&($=!1)}return n.delete(r),n.delete(e),$}var sv=1,Da="[object Arguments]",Ba="[object Array]",Ul="[object Object]",lv=Object.prototype,Ma=lv.hasOwnProperty;function nv(r,e,t,s,l,n){var i=hs(r),a=hs(e),c=i?Ba:or(r),d=a?Ba:or(e);c=c==Da?Ul:c,d=d==Da?Ul:d;var g=c==Ul,m=d==Ul,h=c==d;if(h&&Al(r)){if(!Al(e))return!1;i=!0,g=!1}if(h&&!g)return n||(n=new yr),i||Pi(r)?bc(r,e,t,s,l,n):Qx(r,e,c,t,s,l,n);if(!(t&sv)){var p=g&&Ma.call(r,"__wrapped__"),y=m&&Ma.call(e,"__wrapped__");if(p||y){var $=p?r.value():r,w=y?e.value():e;return n||(n=new yr),l($,w,t,s,n)}}return h?(n||(n=new yr),rv(r,e,t,s,l,n)):!1}function mc(r,e,t,s,l){return r===e?!0:r==null||e==null||!qr(r)&&!qr(e)?r!==r&&e!==e:nv(r,e,t,s,mc,l)}function iv(r){return function(e,t,s){for(var l=-1,n=Object(e),i=s(e),a=i.length;a--;){var c=i[++l];if(t(n[c],c,n)===!1)break}return e}}var av=iv();function di(r,e,t){(t!==void 0&&!Ol(r[e],t)||t===void 0&&!(e in r))&&Oi(r,e,t)}function ov(r){return qr(r)&&xn(r)}function ui(r,e){if(!(e==="constructor"&&typeof r[e]=="function")&&e!="__proto__")return r[e]}function cv(r){return L0(r,ic(r))}function dv(r,e,t,s,l,n,i){var a=ui(r,t),c=ui(e,t),d=i.get(c);if(d){di(r,t,d);return}var g=n?n(a,c,t+"",r,e,i):void 0,m=g===void 0;if(m){var h=hs(c),p=!h&&Al(c),y=!h&&!p&&Pi(c);g=c,h||p||y?hs(a)?g=a:ov(a)?g=v0(a):p?(m=!1,g=dc(c,!0)):y?(m=!1,g=uc(c,!0)):g=[]:nm(c)||ni(c)?(g=a,ni(a)?g=cv(a):(!Xr(a)||Li(a))&&(g=hc(c))):m=!1}m&&(i.set(c,g),l(g,c,s,n,i),i.delete(c)),di(r,t,g)}function xc(r,e,t,s,l){r!==e&&av(e,function(n,i){if(l||(l=new yr),Xr(n))dv(r,e,i,t,xc,s,l);else{var a=s?s(ui(r,i),n,i+"",r,e,l):void 0;a===void 0&&(a=n),di(r,i,a)}},ic)}function Di(r,e){return mc(r,e)}var Vr=j0(function(r,e,t){xc(r,e,t)}),Ce=(r=>(r[r.TYPE=3]="TYPE",r[r.LEVEL=12]="LEVEL",r[r.ATTRIBUTE=13]="ATTRIBUTE",r[r.BLOT=14]="BLOT",r[r.INLINE=7]="INLINE",r[r.BLOCK=11]="BLOCK",r[r.BLOCK_BLOT=10]="BLOCK_BLOT",r[r.INLINE_BLOT=6]="INLINE_BLOT",r[r.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",r[r.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",r[r.ANY=15]="ANY",r))(Ce||{});class wr{constructor(e,t,s={}){this.attrName=e,this.keyName=t;const l=Ce.TYPE&Ce.ATTRIBUTE;this.scope=s.scope!=null?s.scope&Ce.LEVEL|l:Ce.ATTRIBUTE,s.whitelist!=null&&(this.whitelist=s.whitelist)}static keys(e){return Array.from(e.attributes).map(t=>t.name)}add(e,t){return this.canAdd(e,t)?(e.setAttribute(this.keyName,t),!0):!1}canAdd(e,t){return this.whitelist==null?!0:typeof t=="string"?this.whitelist.indexOf(t.replace(/["']/g,""))>-1:this.whitelist.indexOf(t)>-1}remove(e){e.removeAttribute(this.keyName)}value(e){const t=e.getAttribute(this.keyName);return this.canAdd(e,t)&&t?t:""}}class Us extends Error{constructor(e){e="[Parchment] "+e,super(e),this.message=e,this.name=this.constructor.name}}const vc=class hi{constructor(){this.attributes={},this.classes={},this.tags={},this.types={}}static find(e,t=!1){if(e==null)return null;if(this.blots.has(e))return this.blots.get(e)||null;if(t){let s=null;try{s=e.parentNode}catch{return null}return this.find(s,t)}return null}create(e,t,s){const l=this.query(t);if(l==null)throw new Us(`Unable to create ${t} blot`);const n=l,i=t instanceof Node||t.nodeType===Node.TEXT_NODE?t:n.create(s),a=new n(e,i,s);return hi.blots.set(a.domNode,a),a}find(e,t=!1){return hi.find(e,t)}query(e,t=Ce.ANY){let s;return typeof e=="string"?s=this.types[e]||this.attributes[e]:e instanceof Text||e.nodeType===Node.TEXT_NODE?s=this.types.text:typeof e=="number"?e&Ce.LEVEL&Ce.BLOCK?s=this.types.block:e&Ce.LEVEL&Ce.INLINE&&(s=this.types.inline):e instanceof Element&&((e.getAttribute("class")||"").split(/\s+/).some(l=>(s=this.classes[l],!!s)),s=s||this.tags[e.tagName]),s==null?null:"scope"in s&&t&Ce.LEVEL&s.scope&&t&Ce.TYPE&s.scope?s:null}register(...e){return e.map(t=>{const s="blotName"in t,l="attrName"in t;if(!s&&!l)throw new Us("Invalid definition");if(s&&t.blotName==="abstract")throw new Us("Cannot register abstract class");const n=s?t.blotName:l?t.attrName:void 0;return this.types[n]=t,l?typeof t.keyName=="string"&&(this.attributes[t.keyName]=t):s&&(t.className&&(this.classes[t.className]=t),t.tagName&&(Array.isArray(t.tagName)?t.tagName=t.tagName.map(i=>i.toUpperCase()):t.tagName=t.tagName.toUpperCase(),(Array.isArray(t.tagName)?t.tagName:[t.tagName]).forEach(i=>{(this.tags[i]==null||t.className==null)&&(this.tags[i]=t)}))),t})}};vc.blots=new WeakMap;let Hs=vc;function Ua(r,e){return(r.getAttribute("class")||"").split(/\s+/).filter(t=>t.indexOf(`${e}-`)===0)}class uv extends wr{static keys(e){return(e.getAttribute("class")||"").split(/\s+/).map(t=>t.split("-").slice(0,-1).join("-"))}add(e,t){return this.canAdd(e,t)?(this.remove(e),e.classList.add(`${this.keyName}-${t}`),!0):!1}remove(e){Ua(e,this.keyName).forEach(t=>{e.classList.remove(t)}),e.classList.length===0&&e.removeAttribute("class")}value(e){const t=(Ua(e,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(e,t)?t:""}}const gr=uv;function Dn(r){const e=r.split("-"),t=e.slice(1).map(s=>s[0].toUpperCase()+s.slice(1)).join("");return e[0]+t}class hv extends wr{static keys(e){return(e.getAttribute("style")||"").split(";").map(t=>t.split(":")[0].trim())}add(e,t){return this.canAdd(e,t)?(e.style[Dn(this.keyName)]=t,!0):!1}remove(e){e.style[Dn(this.keyName)]="",e.getAttribute("style")||e.removeAttribute("style")}value(e){const t=e.style[Dn(this.keyName)];return this.canAdd(e,t)?t:""}}const Yr=hv;class fv{constructor(e){this.attributes={},this.domNode=e,this.build()}attribute(e,t){t?e.add(this.domNode,t)&&(e.value(this.domNode)!=null?this.attributes[e.attrName]=e:delete this.attributes[e.attrName]):(e.remove(this.domNode),delete this.attributes[e.attrName])}build(){this.attributes={};const e=Hs.find(this.domNode);if(e==null)return;const t=wr.keys(this.domNode),s=gr.keys(this.domNode),l=Yr.keys(this.domNode);t.concat(s).concat(l).forEach(n=>{const i=e.scroll.query(n,Ce.ATTRIBUTE);i instanceof wr&&(this.attributes[i.attrName]=i)})}copy(e){Object.keys(this.attributes).forEach(t=>{const s=this.attributes[t].value(this.domNode);e.format(t,s)})}move(e){this.copy(e),Object.keys(this.attributes).forEach(t=>{this.attributes[t].remove(this.domNode)}),this.attributes={}}values(){return Object.keys(this.attributes).reduce((e,t)=>(e[t]=this.attributes[t].value(this.domNode),e),{})}}const $n=fv,yc=class{constructor(e,t){this.scroll=e,this.domNode=t,Hs.blots.set(t,this),this.prev=null,this.next=null}static create(e){if(this.tagName==null)throw new Us("Blot definition missing tagName");let t,s;return Array.isArray(this.tagName)?(typeof e=="string"?(s=e.toUpperCase(),parseInt(s,10).toString()===s&&(s=parseInt(s,10))):typeof e=="number"&&(s=e),typeof s=="number"?t=document.createElement(this.tagName[s-1]):s&&this.tagName.indexOf(s)>-1?t=document.createElement(s):t=document.createElement(this.tagName[0])):t=document.createElement(this.tagName),this.className&&t.classList.add(this.className),t}get statics(){return this.constructor}attach(){}clone(){const e=this.domNode.cloneNode(!1);return this.scroll.create(e)}detach(){this.parent!=null&&this.parent.removeChild(this),Hs.blots.delete(this.domNode)}deleteAt(e,t){this.isolate(e,t).remove()}formatAt(e,t,s,l){const n=this.isolate(e,t);if(this.scroll.query(s,Ce.BLOT)!=null&&l)n.wrap(s,l);else if(this.scroll.query(s,Ce.ATTRIBUTE)!=null){const i=this.scroll.create(this.statics.scope);n.wrap(i),i.format(s,l)}}insertAt(e,t,s){const l=s==null?this.scroll.create("text",t):this.scroll.create(t,s),n=this.split(e);this.parent.insertBefore(l,n||void 0)}isolate(e,t){const s=this.split(e);if(s==null)throw new Error("Attempt to isolate at end");return s.split(t),s}length(){return 1}offset(e=this.parent){return this.parent==null||this===e?0:this.parent.children.offset(this)+this.parent.offset(e)}optimize(e){this.statics.requiredContainer&&!(this.parent instanceof this.statics.requiredContainer)&&this.wrap(this.statics.requiredContainer.blotName)}remove(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()}replaceWith(e,t){const s=typeof e=="string"?this.scroll.create(e,t):e;return this.parent!=null&&(this.parent.insertBefore(s,this.next||void 0),this.remove()),s}split(e,t){return e===0?this:this.next}update(e,t){}wrap(e,t){const s=typeof e=="string"?this.scroll.create(e,t):e;if(this.parent!=null&&this.parent.insertBefore(s,this.next||void 0),typeof s.appendChild!="function")throw new Us(`Cannot wrap ${e}`);return s.appendChild(this),s}};yc.blotName="abstract";let $c=yc;const wc=class extends $c{static value(e){return!0}index(e,t){return this.domNode===e||this.domNode.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(t,1):-1}position(e,t){let s=Array.from(this.parent.domNode.childNodes).indexOf(this.domNode);return e>0&&(s+=1),[this.parent.domNode,s]}value(){return{[this.statics.blotName]:this.statics.value(this.domNode)||!0}}};wc.scope=Ce.INLINE_BLOT;let gv=wc;const qt=gv;class pv{constructor(){this.head=null,this.tail=null,this.length=0}append(...e){if(this.insertBefore(e[0],null),e.length>1){const t=e.slice(1);this.append(...t)}}at(e){const t=this.iterator();let s=t();for(;s&&e>0;)e-=1,s=t();return s}contains(e){const t=this.iterator();let s=t();for(;s;){if(s===e)return!0;s=t()}return!1}indexOf(e){const t=this.iterator();let s=t(),l=0;for(;s;){if(s===e)return l;l+=1,s=t()}return-1}insertBefore(e,t){e!=null&&(this.remove(e),e.next=t,t!=null?(e.prev=t.prev,t.prev!=null&&(t.prev.next=e),t.prev=e,t===this.head&&(this.head=e)):this.tail!=null?(this.tail.next=e,e.prev=this.tail,this.tail=e):(e.prev=null,this.head=this.tail=e),this.length+=1)}offset(e){let t=0,s=this.head;for(;s!=null;){if(s===e)return t;t+=s.length(),s=s.next}return-1}remove(e){this.contains(e)&&(e.prev!=null&&(e.prev.next=e.next),e.next!=null&&(e.next.prev=e.prev),e===this.head&&(this.head=e.next),e===this.tail&&(this.tail=e.prev),this.length-=1)}iterator(e=this.head){return()=>{const t=e;return e!=null&&(e=e.next),t}}find(e,t=!1){const s=this.iterator();let l=s();for(;l;){const n=l.length();if(e<n||t&&e===n&&(l.next==null||l.next.length()!==0))return[l,e];e-=n,l=s()}return[null,0]}forEach(e){const t=this.iterator();let s=t();for(;s;)e(s),s=t()}forEachAt(e,t,s){if(t<=0)return;const[l,n]=this.find(e);let i=e-n;const a=this.iterator(l);let c=a();for(;c&&i<e+t;){const d=c.length();e>i?s(c,e-i,Math.min(t,i+d-e)):s(c,0,Math.min(d,e+t-i)),i+=d,c=a()}}map(e){return this.reduce((t,s)=>(t.push(e(s)),t),[])}reduce(e,t){const s=this.iterator();let l=s();for(;l;)t=e(t,l),l=s();return t}}function Fa(r,e){const t=e.find(r);if(t)return t;try{return e.create(r)}catch{const s=e.create(Ce.INLINE);return Array.from(r.childNodes).forEach(l=>{s.domNode.appendChild(l)}),r.parentNode&&r.parentNode.replaceChild(s.domNode,r),s.attach(),s}}const _c=class Hr extends $c{constructor(e,t){super(e,t),this.uiNode=null,this.build()}appendChild(e){this.insertBefore(e)}attach(){super.attach(),this.children.forEach(e=>{e.attach()})}attachUI(e){this.uiNode!=null&&this.uiNode.remove(),this.uiNode=e,Hr.uiClass&&this.uiNode.classList.add(Hr.uiClass),this.uiNode.setAttribute("contenteditable","false"),this.domNode.insertBefore(this.uiNode,this.domNode.firstChild)}build(){this.children=new pv,Array.from(this.domNode.childNodes).filter(e=>e!==this.uiNode).reverse().forEach(e=>{try{const t=Fa(e,this.scroll);this.insertBefore(t,this.children.head||void 0)}catch(t){if(t instanceof Us)return;throw t}})}deleteAt(e,t){if(e===0&&t===this.length())return this.remove();this.children.forEachAt(e,t,(s,l,n)=>{s.deleteAt(l,n)})}descendant(e,t=0){const[s,l]=this.children.find(t);return e.blotName==null&&e(s)||e.blotName!=null&&s instanceof e?[s,l]:s instanceof Hr?s.descendant(e,l):[null,-1]}descendants(e,t=0,s=Number.MAX_VALUE){let l=[],n=s;return this.children.forEachAt(t,s,(i,a,c)=>{(e.blotName==null&&e(i)||e.blotName!=null&&i instanceof e)&&l.push(i),i instanceof Hr&&(l=l.concat(i.descendants(e,a,n))),n-=c}),l}detach(){this.children.forEach(e=>{e.detach()}),super.detach()}enforceAllowedChildren(){let e=!1;this.children.forEach(t=>{e||this.statics.allowedChildren.some(s=>t instanceof s)||(t.statics.scope===Ce.BLOCK_BLOT?(t.next!=null&&this.splitAfter(t),t.prev!=null&&this.splitAfter(t.prev),t.parent.unwrap(),e=!0):t instanceof Hr?t.unwrap():t.remove())})}formatAt(e,t,s,l){this.children.forEachAt(e,t,(n,i,a)=>{n.formatAt(i,a,s,l)})}insertAt(e,t,s){const[l,n]=this.children.find(e);if(l)l.insertAt(n,t,s);else{const i=s==null?this.scroll.create("text",t):this.scroll.create(t,s);this.appendChild(i)}}insertBefore(e,t){e.parent!=null&&e.parent.children.remove(e);let s=null;this.children.insertBefore(e,t||null),e.parent=this,t!=null&&(s=t.domNode),(this.domNode.parentNode!==e.domNode||this.domNode.nextSibling!==s)&&this.domNode.insertBefore(e.domNode,s),e.attach()}length(){return this.children.reduce((e,t)=>e+t.length(),0)}moveChildren(e,t){this.children.forEach(s=>{e.insertBefore(s,t)})}optimize(e){if(super.optimize(e),this.enforceAllowedChildren(),this.uiNode!=null&&this.uiNode!==this.domNode.firstChild&&this.domNode.insertBefore(this.uiNode,this.domNode.firstChild),this.children.length===0)if(this.statics.defaultChild!=null){const t=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(t)}else this.remove()}path(e,t=!1){const[s,l]=this.children.find(e,t),n=[[this,e]];return s instanceof Hr?n.concat(s.path(l,t)):(s!=null&&n.push([s,l]),n)}removeChild(e){this.children.remove(e)}replaceWith(e,t){const s=typeof e=="string"?this.scroll.create(e,t):e;return s instanceof Hr&&this.moveChildren(s),super.replaceWith(s)}split(e,t=!1){if(!t){if(e===0)return this;if(e===this.length())return this.next}const s=this.clone();return this.parent&&this.parent.insertBefore(s,this.next||void 0),this.children.forEachAt(e,this.length(),(l,n,i)=>{const a=l.split(n,t);a!=null&&s.appendChild(a)}),s}splitAfter(e){const t=this.clone();for(;e.next!=null;)t.appendChild(e.next);return this.parent&&this.parent.insertBefore(t,this.next||void 0),t}unwrap(){this.parent&&this.moveChildren(this.parent,this.next||void 0),this.remove()}update(e,t){const s=[],l=[];e.forEach(n=>{n.target===this.domNode&&n.type==="childList"&&(s.push(...n.addedNodes),l.push(...n.removedNodes))}),l.forEach(n=>{if(n.parentNode!=null&&n.tagName!=="IFRAME"&&document.body.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)return;const i=this.scroll.find(n);i!=null&&(i.domNode.parentNode==null||i.domNode.parentNode===this.domNode)&&i.detach()}),s.filter(n=>n.parentNode===this.domNode&&n!==this.uiNode).sort((n,i)=>n===i?0:n.compareDocumentPosition(i)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1).forEach(n=>{let i=null;n.nextSibling!=null&&(i=this.scroll.find(n.nextSibling));const a=Fa(n,this.scroll);(a.next!==i||a.next==null)&&(a.parent!=null&&a.parent.removeChild(this),this.insertBefore(a,i||void 0))}),this.enforceAllowedChildren()}};_c.uiClass="";let bv=_c;const hr=bv;function mv(r,e){if(Object.keys(r).length!==Object.keys(e).length)return!1;for(const t in r)if(r[t]!==e[t])return!1;return!0}const qs=class Rs extends hr{static create(e){return super.create(e)}static formats(e,t){const s=t.query(Rs.blotName);if(!(s!=null&&e.tagName===s.tagName)){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return e.tagName.toLowerCase()}}constructor(e,t){super(e,t),this.attributes=new $n(this.domNode)}format(e,t){if(e===this.statics.blotName&&!t)this.children.forEach(s=>{s instanceof Rs||(s=s.wrap(Rs.blotName,!0)),this.attributes.copy(s)}),this.unwrap();else{const s=this.scroll.query(e,Ce.INLINE);if(s==null)return;s instanceof wr?this.attributes.attribute(s,t):t&&(e!==this.statics.blotName||this.formats()[e]!==t)&&this.replaceWith(e,t)}}formats(){const e=this.attributes.values(),t=this.statics.formats(this.domNode,this.scroll);return t!=null&&(e[this.statics.blotName]=t),e}formatAt(e,t,s,l){this.formats()[s]!=null||this.scroll.query(s,Ce.ATTRIBUTE)?this.isolate(e,t).format(s,l):super.formatAt(e,t,s,l)}optimize(e){super.optimize(e);const t=this.formats();if(Object.keys(t).length===0)return this.unwrap();const s=this.next;s instanceof Rs&&s.prev===this&&mv(t,s.formats())&&(s.moveChildren(this),s.remove())}replaceWith(e,t){const s=super.replaceWith(e,t);return this.attributes.copy(s),s}update(e,t){super.update(e,t),e.some(s=>s.target===this.domNode&&s.type==="attributes")&&this.attributes.build()}wrap(e,t){const s=super.wrap(e,t);return s instanceof Rs&&this.attributes.move(s),s}};qs.allowedChildren=[qs,qt],qs.blotName="inline",qs.scope=Ce.INLINE_BLOT,qs.tagName="SPAN";let xv=qs;const Bi=xv,Ps=class fi extends hr{static create(e){return super.create(e)}static formats(e,t){const s=t.query(fi.blotName);if(!(s!=null&&e.tagName===s.tagName)){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return e.tagName.toLowerCase()}}constructor(e,t){super(e,t),this.attributes=new $n(this.domNode)}format(e,t){const s=this.scroll.query(e,Ce.BLOCK);s!=null&&(s instanceof wr?this.attributes.attribute(s,t):e===this.statics.blotName&&!t?this.replaceWith(fi.blotName):t&&(e!==this.statics.blotName||this.formats()[e]!==t)&&this.replaceWith(e,t))}formats(){const e=this.attributes.values(),t=this.statics.formats(this.domNode,this.scroll);return t!=null&&(e[this.statics.blotName]=t),e}formatAt(e,t,s,l){this.scroll.query(s,Ce.BLOCK)!=null?this.format(s,l):super.formatAt(e,t,s,l)}insertAt(e,t,s){if(s==null||this.scroll.query(t,Ce.INLINE)!=null)super.insertAt(e,t,s);else{const l=this.split(e);if(l!=null){const n=this.scroll.create(t,s);l.parent.insertBefore(n,l)}else throw new Error("Attempt to insertAt after block boundaries")}}replaceWith(e,t){const s=super.replaceWith(e,t);return this.attributes.copy(s),s}update(e,t){super.update(e,t),e.some(s=>s.target===this.domNode&&s.type==="attributes")&&this.attributes.build()}};Ps.blotName="block",Ps.scope=Ce.BLOCK_BLOT,Ps.tagName="P",Ps.allowedChildren=[Bi,Ps,qt];let vv=Ps;const Nl=vv,gi=class extends hr{checkMerge(){return this.next!==null&&this.next.statics.blotName===this.statics.blotName}deleteAt(e,t){super.deleteAt(e,t),this.enforceAllowedChildren()}formatAt(e,t,s,l){super.formatAt(e,t,s,l),this.enforceAllowedChildren()}insertAt(e,t,s){super.insertAt(e,t,s),this.enforceAllowedChildren()}optimize(e){super.optimize(e),this.children.length>0&&this.next!=null&&this.checkMerge()&&(this.next.moveChildren(this),this.next.remove())}};gi.blotName="container",gi.scope=Ce.BLOCK_BLOT;let yv=gi;const wn=yv;class $v extends qt{static formats(e,t){}format(e,t){super.formatAt(0,this.length(),e,t)}formatAt(e,t,s,l){e===0&&t===this.length()?this.format(s,l):super.formatAt(e,t,s,l)}formats(){return this.statics.formats(this.domNode,this.scroll)}}const Xt=$v,wv={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},_v=100,js=class extends hr{constructor(e,t){super(null,t),this.registry=e,this.scroll=this,this.build(),this.observer=new MutationObserver(s=>{this.update(s)}),this.observer.observe(this.domNode,wv),this.attach()}create(e,t){return this.registry.create(this,e,t)}find(e,t=!1){const s=this.registry.find(e,t);return s?s.scroll===this?s:t?this.find(s.scroll.domNode.parentNode,!0):null:null}query(e,t=Ce.ANY){return this.registry.query(e,t)}register(...e){return this.registry.register(...e)}build(){this.scroll!=null&&super.build()}detach(){super.detach(),this.observer.disconnect()}deleteAt(e,t){this.update(),e===0&&t===this.length()?this.children.forEach(s=>{s.remove()}):super.deleteAt(e,t)}formatAt(e,t,s,l){this.update(),super.formatAt(e,t,s,l)}insertAt(e,t,s){this.update(),super.insertAt(e,t,s)}optimize(e=[],t={}){super.optimize(t);const s=t.mutationsMap||new WeakMap;let l=Array.from(this.observer.takeRecords());for(;l.length>0;)e.push(l.pop());const n=(c,d=!0)=>{c==null||c===this||c.domNode.parentNode!=null&&(s.has(c.domNode)||s.set(c.domNode,[]),d&&n(c.parent))},i=c=>{s.has(c.domNode)&&(c instanceof hr&&c.children.forEach(i),s.delete(c.domNode),c.optimize(t))};let a=e;for(let c=0;a.length>0;c+=1){if(c>=_v)throw new Error("[Parchment] Maximum optimize iterations reached");for(a.forEach(d=>{const g=this.find(d.target,!0);g!=null&&(g.domNode===d.target&&(d.type==="childList"?(n(this.find(d.previousSibling,!1)),Array.from(d.addedNodes).forEach(m=>{const h=this.find(m,!1);n(h,!1),h instanceof hr&&h.children.forEach(p=>{n(p,!1)})})):d.type==="attributes"&&n(g.prev)),n(g))}),this.children.forEach(i),a=Array.from(this.observer.takeRecords()),l=a.slice();l.length>0;)e.push(l.pop())}}update(e,t={}){e=e||this.observer.takeRecords();const s=new WeakMap;e.map(l=>{const n=this.find(l.target,!0);return n==null?null:s.has(n.domNode)?(s.get(n.domNode).push(l),null):(s.set(n.domNode,[l]),n)}).forEach(l=>{l!=null&&l!==this&&s.has(l.domNode)&&l.update(s.get(l.domNode)||[],t)}),t.mutationsMap=s,s.has(this.domNode)&&super.update(s.get(this.domNode),t),this.optimize(e,t)}};js.blotName="scroll",js.defaultChild=Nl,js.allowedChildren=[Nl,wn],js.scope=Ce.BLOCK_BLOT,js.tagName="DIV";let Sv=js;const Mi=Sv,pi=class Sc extends qt{static create(e){return document.createTextNode(e)}static value(e){return e.data}constructor(e,t){super(e,t),this.text=this.statics.value(this.domNode)}deleteAt(e,t){this.domNode.data=this.text=this.text.slice(0,e)+this.text.slice(e+t)}index(e,t){return this.domNode===e?t:-1}insertAt(e,t,s){s==null?(this.text=this.text.slice(0,e)+t+this.text.slice(e),this.domNode.data=this.text):super.insertAt(e,t,s)}length(){return this.text.length}optimize(e){super.optimize(e),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof Sc&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())}position(e,t=!1){return[this.domNode,e]}split(e,t=!1){if(!t){if(e===0)return this;if(e===this.length())return this.next}const s=this.scroll.create(this.domNode.splitText(e));return this.parent.insertBefore(s,this.next||void 0),this.text=this.statics.value(this.domNode),s}update(e,t){e.some(s=>s.type==="characterData"&&s.target===this.domNode)&&(this.text=this.statics.value(this.domNode))}value(){return this.text}};pi.blotName="text",pi.scope=Ce.INLINE_BLOT;let Cv=pi;const dn=Cv,Av=Object.freeze(Object.defineProperty({__proto__:null,Attributor:wr,AttributorStore:$n,BlockBlot:Nl,ClassAttributor:gr,ContainerBlot:wn,EmbedBlot:Xt,InlineBlot:Bi,LeafBlot:qt,ParentBlot:hr,Registry:Hs,Scope:Ce,ScrollBlot:Mi,StyleAttributor:Yr,TextBlot:dn},Symbol.toStringTag,{value:"Module"}));var Gr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Cc(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Fl={exports:{}},Bn,za;function kv(){if(za)return Bn;za=1;var r=-1,e=1,t=0;function s(b,C,x,R,T){if(b===C)return b?[[t,b]]:[];if(x!=null){var I=z(b,C,x);if(I)return I}var D=a(b,C),P=b.substring(0,D);b=b.substring(D),C=C.substring(D),D=d(b,C);var B=b.substring(b.length-D);b=b.substring(0,b.length-D),C=C.substring(0,C.length-D);var q=l(b,C);return P&&q.unshift([t,P]),B&&q.push([t,B]),E(q,T),R&&m(q),q}function l(b,C){var x;if(!b)return[[e,C]];if(!C)return[[r,b]];var R=b.length>C.length?b:C,T=b.length>C.length?C:b,I=R.indexOf(T);if(I!==-1)return x=[[e,R.substring(0,I)],[t,T],[e,R.substring(I+T.length)]],b.length>C.length&&(x[0][0]=x[2][0]=r),x;if(T.length===1)return[[r,b],[e,C]];var D=g(b,C);if(D){var P=D[0],B=D[1],q=D[2],Z=D[3],W=D[4],k=s(P,q),K=s(B,Z);return k.concat([[t,W]],K)}return n(b,C)}function n(b,C){for(var x=b.length,R=C.length,T=Math.ceil((x+R)/2),I=T,D=2*T,P=new Array(D),B=new Array(D),q=0;q<D;q++)P[q]=-1,B[q]=-1;P[I+1]=0,B[I+1]=0;for(var Z=x-R,W=Z%2!==0,k=0,K=0,j=0,ee=0,te=0;te<T;te++){for(var J=-te+k;J<=te-K;J+=2){var ge=I+J,oe;J===-te||J!==te&&P[ge-1]<P[ge+1]?oe=P[ge+1]:oe=P[ge-1]+1;for(var X=oe-J;oe<x&&X<R&&b.charAt(oe)===C.charAt(X);)oe++,X++;if(P[ge]=oe,oe>x)K+=2;else if(X>R)k+=2;else if(W){var le=I+Z-J;if(le>=0&&le<D&&B[le]!==-1){var se=x-B[le];if(oe>=se)return i(b,C,oe,X)}}}for(var me=-te+j;me<=te-ee;me+=2){var le=I+me,se;me===-te||me!==te&&B[le-1]<B[le+1]?se=B[le+1]:se=B[le-1]+1;for(var ve=se-me;se<x&&ve<R&&b.charAt(x-se-1)===C.charAt(R-ve-1);)se++,ve++;if(B[le]=se,se>x)ee+=2;else if(ve>R)j+=2;else if(!W){var ge=I+Z-me;if(ge>=0&&ge<D&&P[ge]!==-1){var oe=P[ge],X=I+oe-ge;if(se=x-se,oe>=se)return i(b,C,oe,X)}}}}return[[r,b],[e,C]]}function i(b,C,x,R){var T=b.substring(0,x),I=C.substring(0,R),D=b.substring(x),P=C.substring(R),B=s(T,I),q=s(D,P);return B.concat(q)}function a(b,C){if(!b||!C||b.charAt(0)!==C.charAt(0))return 0;for(var x=0,R=Math.min(b.length,C.length),T=R,I=0;x<T;)b.substring(I,T)==C.substring(I,T)?(x=T,I=x):R=T,T=Math.floor((R-x)/2+x);return A(b.charCodeAt(T-1))&&T--,T}function c(b,C){var x=b.length,R=C.length;if(x==0||R==0)return 0;x>R?b=b.substring(x-R):x<R&&(C=C.substring(0,x));var T=Math.min(x,R);if(b==C)return T;for(var I=0,D=1;;){var P=b.substring(T-D),B=C.indexOf(P);if(B==-1)return I;D+=B,(B==0||b.substring(T-D)==C.substring(0,D))&&(I=D,D++)}}function d(b,C){if(!b||!C||b.slice(-1)!==C.slice(-1))return 0;for(var x=0,R=Math.min(b.length,C.length),T=R,I=0;x<T;)b.substring(b.length-T,b.length-I)==C.substring(C.length-T,C.length-I)?(x=T,I=x):R=T,T=Math.floor((R-x)/2+x);return O(b.charCodeAt(b.length-T))&&T--,T}function g(b,C){var x=b.length>C.length?b:C,R=b.length>C.length?C:b;if(x.length<4||R.length*2<x.length)return null;function T(K,j,ee){for(var te=K.substring(ee,ee+Math.floor(K.length/4)),J=-1,ge="",oe,X,le,se;(J=j.indexOf(te,J+1))!==-1;){var me=a(K.substring(ee),j.substring(J)),ve=d(K.substring(0,ee),j.substring(0,J));ge.length<ve+me&&(ge=j.substring(J-ve,J)+j.substring(J,J+me),oe=K.substring(0,ee-ve),X=K.substring(ee+me),le=j.substring(0,J-ve),se=j.substring(J+me))}return ge.length*2>=K.length?[oe,X,le,se,ge]:null}var I=T(x,R,Math.ceil(x.length/4)),D=T(x,R,Math.ceil(x.length/2)),P;if(!I&&!D)return null;D?I?P=I[4].length>D[4].length?I:D:P=D:P=I;var B,q,Z,W;b.length>C.length?(B=P[0],q=P[1],Z=P[2],W=P[3]):(Z=P[0],W=P[1],B=P[2],q=P[3]);var k=P[4];return[B,q,Z,W,k]}function m(b){for(var C=!1,x=[],R=0,T=null,I=0,D=0,P=0,B=0,q=0;I<b.length;)b[I][0]==t?(x[R++]=I,D=B,P=q,B=0,q=0,T=b[I][1]):(b[I][0]==e?B+=b[I][1].length:q+=b[I][1].length,T&&T.length<=Math.max(D,P)&&T.length<=Math.max(B,q)&&(b.splice(x[R-1],0,[r,T]),b[x[R-1]+1][0]=e,R--,R--,I=R>0?x[R-1]:-1,D=0,P=0,B=0,q=0,T=null,C=!0)),I++;for(C&&E(b),S(b),I=1;I<b.length;){if(b[I-1][0]==r&&b[I][0]==e){var Z=b[I-1][1],W=b[I][1],k=c(Z,W),K=c(W,Z);k>=K?(k>=Z.length/2||k>=W.length/2)&&(b.splice(I,0,[t,W.substring(0,k)]),b[I-1][1]=Z.substring(0,Z.length-k),b[I+1][1]=W.substring(k),I++):(K>=Z.length/2||K>=W.length/2)&&(b.splice(I,0,[t,Z.substring(0,K)]),b[I-1][0]=e,b[I-1][1]=W.substring(0,W.length-K),b[I+1][0]=r,b[I+1][1]=Z.substring(K),I++),I++}I++}}var h=/[^a-zA-Z0-9]/,p=/\s/,y=/[\r\n]/,$=/\n\r?\n$/,w=/^\r?\n\r?\n/;function S(b){function C(K,j){if(!K||!j)return 6;var ee=K.charAt(K.length-1),te=j.charAt(0),J=ee.match(h),ge=te.match(h),oe=J&&ee.match(p),X=ge&&te.match(p),le=oe&&ee.match(y),se=X&&te.match(y),me=le&&K.match($),ve=se&&j.match(w);return me||ve?5:le||se?4:J&&!oe&&X?3:oe||X?2:J||ge?1:0}for(var x=1;x<b.length-1;){if(b[x-1][0]==t&&b[x+1][0]==t){var R=b[x-1][1],T=b[x][1],I=b[x+1][1],D=d(R,T);if(D){var P=T.substring(T.length-D);R=R.substring(0,R.length-D),T=P+T.substring(0,T.length-D),I=P+I}for(var B=R,q=T,Z=I,W=C(R,T)+C(T,I);T.charAt(0)===I.charAt(0);){R+=T.charAt(0),T=T.substring(1)+I.charAt(0),I=I.substring(1);var k=C(R,T)+C(T,I);k>=W&&(W=k,B=R,q=T,Z=I)}b[x-1][1]!=B&&(B?b[x-1][1]=B:(b.splice(x-1,1),x--),b[x][1]=q,Z?b[x+1][1]=Z:(b.splice(x+1,1),x--))}x++}}function E(b,C){b.push([t,""]);for(var x=0,R=0,T=0,I="",D="",P;x<b.length;){if(x<b.length-1&&!b[x][1]){b.splice(x,1);continue}switch(b[x][0]){case e:T++,D+=b[x][1],x++;break;case r:R++,I+=b[x][1],x++;break;case t:var B=x-T-R-1;if(C){if(B>=0&&U(b[B][1])){var q=b[B][1].slice(-1);if(b[B][1]=b[B][1].slice(0,-1),I=q+I,D=q+D,!b[B][1]){b.splice(B,1),x--;var Z=B-1;b[Z]&&b[Z][0]===e&&(T++,D=b[Z][1]+D,Z--),b[Z]&&b[Z][0]===r&&(R++,I=b[Z][1]+I,Z--),B=Z}}if(F(b[x][1])){var q=b[x][1].charAt(0);b[x][1]=b[x][1].slice(1),I+=q,D+=q}}if(x<b.length-1&&!b[x][1]){b.splice(x,1);break}if(I.length>0||D.length>0){I.length>0&&D.length>0&&(P=a(D,I),P!==0&&(B>=0?b[B][1]+=D.substring(0,P):(b.splice(0,0,[t,D.substring(0,P)]),x++),D=D.substring(P),I=I.substring(P)),P=d(D,I),P!==0&&(b[x][1]=D.substring(D.length-P)+b[x][1],D=D.substring(0,D.length-P),I=I.substring(0,I.length-P)));var W=T+R;I.length===0&&D.length===0?(b.splice(x-W,W),x=x-W):I.length===0?(b.splice(x-W,W,[e,D]),x=x-W+1):D.length===0?(b.splice(x-W,W,[r,I]),x=x-W+1):(b.splice(x-W,W,[r,I],[e,D]),x=x-W+2)}x!==0&&b[x-1][0]===t?(b[x-1][1]+=b[x][1],b.splice(x,1)):x++,T=0,R=0,I="",D="";break}}b[b.length-1][1]===""&&b.pop();var k=!1;for(x=1;x<b.length-1;)b[x-1][0]===t&&b[x+1][0]===t&&(b[x][1].substring(b[x][1].length-b[x-1][1].length)===b[x-1][1]?(b[x][1]=b[x-1][1]+b[x][1].substring(0,b[x][1].length-b[x-1][1].length),b[x+1][1]=b[x-1][1]+b[x+1][1],b.splice(x-1,1),k=!0):b[x][1].substring(0,b[x+1][1].length)==b[x+1][1]&&(b[x-1][1]+=b[x+1][1],b[x][1]=b[x][1].substring(b[x+1][1].length)+b[x+1][1],b.splice(x+1,1),k=!0)),x++;k&&E(b,C)}function A(b){return b>=55296&&b<=56319}function O(b){return b>=56320&&b<=57343}function F(b){return O(b.charCodeAt(0))}function U(b){return A(b.charCodeAt(b.length-1))}function M(b){for(var C=[],x=0;x<b.length;x++)b[x][1].length>0&&C.push(b[x]);return C}function L(b,C,x,R){return U(b)||F(R)?null:M([[t,b],[r,C],[e,x],[t,R]])}function z(b,C,x){var R=typeof x=="number"?{index:x,length:0}:x.oldRange,T=typeof x=="number"?null:x.newRange,I=b.length,D=C.length;if(R.length===0&&(T===null||T.length===0)){var P=R.index,B=b.slice(0,P),q=b.slice(P),Z=T?T.index:null;e:{var W=P+D-I;if(Z!==null&&Z!==W||W<0||W>D)break e;var k=C.slice(0,W),K=C.slice(W);if(K!==q)break e;var j=Math.min(P,W),ee=B.slice(0,j),te=k.slice(0,j);if(ee!==te)break e;var J=B.slice(j),ge=k.slice(j);return L(ee,J,ge,q)}e:{if(Z!==null&&Z!==P)break e;var oe=P,k=C.slice(0,oe),K=C.slice(oe);if(k!==B)break e;var X=Math.min(I-oe,D-oe),le=q.slice(q.length-X),se=K.slice(K.length-X);if(le!==se)break e;var J=q.slice(0,q.length-X),ge=K.slice(0,K.length-X);return L(B,J,ge,le)}}if(R.length>0&&T&&T.length===0)e:{var ee=b.slice(0,R.index),le=b.slice(R.index+R.length),j=ee.length,X=le.length;if(D<j+X)break e;var te=C.slice(0,j),se=C.slice(D-X);if(ee!==te||le!==se)break e;var J=b.slice(j,I-X),ge=C.slice(j,D-X);return L(ee,J,ge,le)}return null}function ie(b,C,x,R){return s(b,C,x,R,!0)}return ie.INSERT=e,ie.DELETE=r,ie.EQUAL=t,Bn=ie,Bn}var ml={exports:{}};ml.exports;var Ha;function Ac(){return Ha||(Ha=1,(function(r,e){var t=200,s="__lodash_hash_undefined__",l=9007199254740991,n="[object Arguments]",i="[object Array]",a="[object Boolean]",c="[object Date]",d="[object Error]",g="[object Function]",m="[object GeneratorFunction]",h="[object Map]",p="[object Number]",y="[object Object]",$="[object Promise]",w="[object RegExp]",S="[object Set]",E="[object String]",A="[object Symbol]",O="[object WeakMap]",F="[object ArrayBuffer]",U="[object DataView]",M="[object Float32Array]",L="[object Float64Array]",z="[object Int8Array]",ie="[object Int16Array]",b="[object Int32Array]",C="[object Uint8Array]",x="[object Uint8ClampedArray]",R="[object Uint16Array]",T="[object Uint32Array]",I=/[\\^$.*+?()[\]{}|]/g,D=/\w*$/,P=/^\[object .+?Constructor\]$/,B=/^(?:0|[1-9]\d*)$/,q={};q[n]=q[i]=q[F]=q[U]=q[a]=q[c]=q[M]=q[L]=q[z]=q[ie]=q[b]=q[h]=q[p]=q[y]=q[w]=q[S]=q[E]=q[A]=q[C]=q[x]=q[R]=q[T]=!0,q[d]=q[g]=q[O]=!1;var Z=typeof Gr=="object"&&Gr&&Gr.Object===Object&&Gr,W=typeof self=="object"&&self&&self.Object===Object&&self,k=Z||W||Function("return this")(),K=e&&!e.nodeType&&e,j=K&&!0&&r&&!r.nodeType&&r,ee=j&&j.exports===K;function te(o,f){return o.set(f[0],f[1]),o}function J(o,f){return o.add(f),o}function ge(o,f){for(var N=-1,V=o?o.length:0;++N<V&&f(o[N],N,o)!==!1;);return o}function oe(o,f){for(var N=-1,V=f.length,je=o.length;++N<V;)o[je+N]=f[N];return o}function X(o,f,N,V){for(var je=-1,Ae=o?o.length:0;++je<Ae;)N=f(N,o[je],je,o);return N}function le(o,f){for(var N=-1,V=Array(o);++N<o;)V[N]=f(N);return V}function se(o,f){return o?.[f]}function me(o){var f=!1;if(o!=null&&typeof o.toString!="function")try{f=!!(o+"")}catch{}return f}function ve(o){var f=-1,N=Array(o.size);return o.forEach(function(V,je){N[++f]=[je,V]}),N}function Pe(o,f){return function(N){return o(f(N))}}function De(o){var f=-1,N=Array(o.size);return o.forEach(function(V){N[++f]=V}),N}var Y=Array.prototype,H=Function.prototype,ae=Object.prototype,fe=k["__core-js_shared__"],he=(function(){var o=/[^.]+$/.exec(fe&&fe.keys&&fe.keys.IE_PROTO||"");return o?"Symbol(src)_1."+o:""})(),Ie=H.toString,pe=ae.hasOwnProperty,de=ae.toString,we=RegExp("^"+Ie.call(pe).replace(I,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Re=ee?k.Buffer:void 0,Ge=k.Symbol,Ke=k.Uint8Array,Be=Pe(Object.getPrototypeOf,Object),Ze=Object.create,dt=ae.propertyIsEnumerable,ft=Y.splice,ce=Object.getOwnPropertySymbols,Ee=Re?Re.isBuffer:void 0,Oe=Pe(Object.keys,Object),be=Ht(k,"DataView"),Se=Ht(k,"Map"),ue=Ht(k,"Promise"),ye=Ht(k,"Set"),Me=Ht(k,"WeakMap"),pt=Ht(Object,"create"),bt=Fe(be),ze=Fe(Se),Ve=Fe(ue),vt=Fe(ye),It=Fe(Me),Ue=Ge?Ge.prototype:void 0,at=Ue?Ue.valueOf:void 0;function Je(o){var f=-1,N=o?o.length:0;for(this.clear();++f<N;){var V=o[f];this.set(V[0],V[1])}}function br(){this.__data__=pt?pt(null):{}}function Cr(o){return this.has(o)&&delete this.__data__[o]}function mr(o){var f=this.__data__;if(pt){var N=f[o];return N===s?void 0:N}return pe.call(f,o)?f[o]:void 0}function Qr(o){var f=this.__data__;return pt?f[o]!==void 0:pe.call(f,o)}function Jr(o,f){var N=this.__data__;return N[o]=pt&&f===void 0?s:f,this}Je.prototype.clear=br,Je.prototype.delete=Cr,Je.prototype.get=mr,Je.prototype.has=Qr,Je.prototype.set=Jr;function mt(o){var f=-1,N=o?o.length:0;for(this.clear();++f<N;){var V=o[f];this.set(V[0],V[1])}}function _s(){this.__data__=[]}function Xs(o){var f=this.__data__,N=Ur(f,o);if(N<0)return!1;var V=f.length-1;return N==V?f.pop():ft.call(f,N,1),!0}function Ss(o){var f=this.__data__,N=Ur(f,o);return N<0?void 0:f[N][1]}function Cs(o){return Ur(this.__data__,o)>-1}function Ys(o,f){var N=this.__data__,V=Ur(N,o);return V<0?N.push([o,f]):N[V][1]=f,this}mt.prototype.clear=_s,mt.prototype.delete=Xs,mt.prototype.get=Ss,mt.prototype.has=Cs,mt.prototype.set=Ys;function yt(o){var f=-1,N=o?o.length:0;for(this.clear();++f<N;){var V=o[f];this.set(V[0],V[1])}}function As(){this.__data__={hash:new Je,map:new(Se||mt),string:new Je}}function Qs(o){return xr(this,o).delete(o)}function ks(o){return xr(this,o).get(o)}function Es(o){return xr(this,o).has(o)}function Js(o,f){return xr(this,o).set(o,f),this}yt.prototype.clear=As,yt.prototype.delete=Qs,yt.prototype.get=ks,yt.prototype.has=Es,yt.prototype.set=Js;function kt(o){this.__data__=new mt(o)}function el(){this.__data__=new mt}function tl(o){return this.__data__.delete(o)}function Ns(o){return this.__data__.get(o)}function rl(o){return this.__data__.has(o)}function es(o,f){var N=this.__data__;if(N instanceof mt){var V=N.__data__;if(!Se||V.length<t-1)return V.push([o,f]),this;N=this.__data__=new yt(V)}return N.set(o,f),this}kt.prototype.clear=el,kt.prototype.delete=tl,kt.prototype.get=Ns,kt.prototype.has=rl,kt.prototype.set=es;function Ar(o,f){var N=At(o)||Ct(o)?le(o.length,String):[],V=N.length,je=!!V;for(var Ae in o)pe.call(o,Ae)&&!(je&&(Ae=="length"||Fr(Ae,V)))&&N.push(Ae);return N}function Mr(o,f,N){var V=o[f];(!(pe.call(o,f)&&ct(V,N))||N===void 0&&!(f in o))&&(o[f]=N)}function Ur(o,f){for(var N=o.length;N--;)if(ct(o[N][0],f))return N;return-1}function zt(o,f){return o&&ns(f,rt(f),o)}function ts(o,f,N,V,je,Ae,Qe){var Xe;if(V&&(Xe=Ae?V(o,je,Ae,Qe):V(o)),Xe!==void 0)return Xe;if(!ut(o))return o;var xt=At(o);if(xt){if(Xe=ul(o),!f)return ol(o,Xe)}else{var et=nr(o),Lt=et==g||et==m;if(jt(o))return kr(o,f);if(et==y||et==n||Lt&&!Ae){if(me(o))return Ae?o:{};if(Xe=Qt(Lt?{}:o),!f)return cl(o,zt(Xe,o))}else{if(!q[et])return Ae?o:{};Xe=hl(o,et,ts,f)}}Qe||(Qe=new kt);var Ft=Qe.get(o);if(Ft)return Ft;if(Qe.set(o,Xe),!xt)var _t=N?dl(o):rt(o);return ge(_t||o,function(Ot,Et){_t&&(Et=Ot,Ot=o[Et]),Mr(Xe,Et,ts(Ot,f,N,V,Et,o,Qe))}),Xe}function sl(o){return ut(o)?Ze(o):{}}function ll(o,f,N){var V=f(o);return At(o)?V:oe(V,N(o))}function nl(o){return de.call(o)}function rs(o){if(!ut(o)||xe(o))return!1;var f=wt(o)||me(o)?we:P;return f.test(Fe(o))}function il(o){if(!qe(o))return Oe(o);var f=[];for(var N in Object(o))pe.call(o,N)&&N!="constructor"&&f.push(N);return f}function kr(o,f){if(f)return o.slice();var N=new o.constructor(o.length);return o.copy(N),N}function ss(o){var f=new o.constructor(o.byteLength);return new Ke(f).set(new Ke(o)),f}function Er(o,f){var N=f?ss(o.buffer):o.buffer;return new o.constructor(N,o.byteOffset,o.byteLength)}function Ts(o,f,N){var V=f?N(ve(o),!0):ve(o);return X(V,te,new o.constructor)}function Is(o){var f=new o.constructor(o.source,D.exec(o));return f.lastIndex=o.lastIndex,f}function ls(o,f,N){var V=f?N(De(o),!0):De(o);return X(V,J,new o.constructor)}function al(o){return at?Object(at.call(o)):{}}function Ls(o,f){var N=f?ss(o.buffer):o.buffer;return new o.constructor(N,o.byteOffset,o.length)}function ol(o,f){var N=-1,V=o.length;for(f||(f=Array(V));++N<V;)f[N]=o[N];return f}function ns(o,f,N,V){N||(N={});for(var je=-1,Ae=f.length;++je<Ae;){var Qe=f[je],Xe=void 0;Mr(N,Qe,Xe===void 0?o[Qe]:Xe)}return N}function cl(o,f){return ns(o,Yt(o),f)}function dl(o){return ll(o,rt,Yt)}function xr(o,f){var N=o.__data__;return fl(f)?N[typeof f=="string"?"string":"hash"]:N.map}function Ht(o,f){var N=se(o,f);return rs(N)?N:void 0}var Yt=ce?Pe(ce,Object):lt,nr=nl;(be&&nr(new be(new ArrayBuffer(1)))!=U||Se&&nr(new Se)!=h||ue&&nr(ue.resolve())!=$||ye&&nr(new ye)!=S||Me&&nr(new Me)!=O)&&(nr=function(o){var f=de.call(o),N=f==y?o.constructor:void 0,V=N?Fe(N):void 0;if(V)switch(V){case bt:return U;case ze:return h;case Ve:return $;case vt:return S;case It:return O}return f});function ul(o){var f=o.length,N=o.constructor(f);return f&&typeof o[0]=="string"&&pe.call(o,"index")&&(N.index=o.index,N.input=o.input),N}function Qt(o){return typeof o.constructor=="function"&&!qe(o)?sl(Be(o)):{}}function hl(o,f,N,V){var je=o.constructor;switch(f){case F:return ss(o);case a:case c:return new je(+o);case U:return Er(o,V);case M:case L:case z:case ie:case b:case C:case x:case R:case T:return Ls(o,V);case h:return Ts(o,V,N);case p:case E:return new je(o);case w:return Is(o);case S:return ls(o,V,N);case A:return al(o)}}function Fr(o,f){return f=f??l,!!f&&(typeof o=="number"||B.test(o))&&o>-1&&o%1==0&&o<f}function fl(o){var f=typeof o;return f=="string"||f=="number"||f=="symbol"||f=="boolean"?o!=="__proto__":o===null}function xe(o){return!!he&&he in o}function qe(o){var f=o&&o.constructor,N=typeof f=="function"&&f.prototype||ae;return o===N}function Fe(o){if(o!=null){try{return Ie.call(o)}catch{}try{return o+""}catch{}}return""}function ot(o){return ts(o,!0,!0)}function ct(o,f){return o===f||o!==o&&f!==f}function Ct(o){return Gt(o)&&pe.call(o,"callee")&&(!dt.call(o,"callee")||de.call(o)==n)}var At=Array.isArray;function $t(o){return o!=null&&Ut(o.length)&&!wt(o)}function Gt(o){return Jt(o)&&$t(o)}var jt=Ee||Nr;function wt(o){var f=ut(o)?de.call(o):"";return f==g||f==m}function Ut(o){return typeof o=="number"&&o>-1&&o%1==0&&o<=l}function ut(o){var f=typeof o;return!!o&&(f=="object"||f=="function")}function Jt(o){return!!o&&typeof o=="object"}function rt(o){return $t(o)?Ar(o):il(o)}function lt(){return[]}function Nr(){return!1}r.exports=ot})(ml,ml.exports)),ml.exports}var xl={exports:{}};xl.exports;var Ga;function kc(){return Ga||(Ga=1,(function(r,e){var t=200,s="__lodash_hash_undefined__",l=1,n=2,i=9007199254740991,a="[object Arguments]",c="[object Array]",d="[object AsyncFunction]",g="[object Boolean]",m="[object Date]",h="[object Error]",p="[object Function]",y="[object GeneratorFunction]",$="[object Map]",w="[object Number]",S="[object Null]",E="[object Object]",A="[object Promise]",O="[object Proxy]",F="[object RegExp]",U="[object Set]",M="[object String]",L="[object Symbol]",z="[object Undefined]",ie="[object WeakMap]",b="[object ArrayBuffer]",C="[object DataView]",x="[object Float32Array]",R="[object Float64Array]",T="[object Int8Array]",I="[object Int16Array]",D="[object Int32Array]",P="[object Uint8Array]",B="[object Uint8ClampedArray]",q="[object Uint16Array]",Z="[object Uint32Array]",W=/[\\^$.*+?()[\]{}|]/g,k=/^\[object .+?Constructor\]$/,K=/^(?:0|[1-9]\d*)$/,j={};j[x]=j[R]=j[T]=j[I]=j[D]=j[P]=j[B]=j[q]=j[Z]=!0,j[a]=j[c]=j[b]=j[g]=j[C]=j[m]=j[h]=j[p]=j[$]=j[w]=j[E]=j[F]=j[U]=j[M]=j[ie]=!1;var ee=typeof Gr=="object"&&Gr&&Gr.Object===Object&&Gr,te=typeof self=="object"&&self&&self.Object===Object&&self,J=ee||te||Function("return this")(),ge=e&&!e.nodeType&&e,oe=ge&&!0&&r&&!r.nodeType&&r,X=oe&&oe.exports===ge,le=X&&ee.process,se=(function(){try{return le&&le.binding&&le.binding("util")}catch{}})(),me=se&&se.isTypedArray;function ve(o,f){for(var N=-1,V=o==null?0:o.length,je=0,Ae=[];++N<V;){var Qe=o[N];f(Qe,N,o)&&(Ae[je++]=Qe)}return Ae}function Pe(o,f){for(var N=-1,V=f.length,je=o.length;++N<V;)o[je+N]=f[N];return o}function De(o,f){for(var N=-1,V=o==null?0:o.length;++N<V;)if(f(o[N],N,o))return!0;return!1}function Y(o,f){for(var N=-1,V=Array(o);++N<o;)V[N]=f(N);return V}function H(o){return function(f){return o(f)}}function ae(o,f){return o.has(f)}function fe(o,f){return o?.[f]}function he(o){var f=-1,N=Array(o.size);return o.forEach(function(V,je){N[++f]=[je,V]}),N}function Ie(o,f){return function(N){return o(f(N))}}function pe(o){var f=-1,N=Array(o.size);return o.forEach(function(V){N[++f]=V}),N}var de=Array.prototype,we=Function.prototype,Re=Object.prototype,Ge=J["__core-js_shared__"],Ke=we.toString,Be=Re.hasOwnProperty,Ze=(function(){var o=/[^.]+$/.exec(Ge&&Ge.keys&&Ge.keys.IE_PROTO||"");return o?"Symbol(src)_1."+o:""})(),dt=Re.toString,ft=RegExp("^"+Ke.call(Be).replace(W,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ce=X?J.Buffer:void 0,Ee=J.Symbol,Oe=J.Uint8Array,be=Re.propertyIsEnumerable,Se=de.splice,ue=Ee?Ee.toStringTag:void 0,ye=Object.getOwnPropertySymbols,Me=ce?ce.isBuffer:void 0,pt=Ie(Object.keys,Object),bt=Yt(J,"DataView"),ze=Yt(J,"Map"),Ve=Yt(J,"Promise"),vt=Yt(J,"Set"),It=Yt(J,"WeakMap"),Ue=Yt(Object,"create"),at=Fe(bt),Je=Fe(ze),br=Fe(Ve),Cr=Fe(vt),mr=Fe(It),Qr=Ee?Ee.prototype:void 0,Jr=Qr?Qr.valueOf:void 0;function mt(o){var f=-1,N=o==null?0:o.length;for(this.clear();++f<N;){var V=o[f];this.set(V[0],V[1])}}function _s(){this.__data__=Ue?Ue(null):{},this.size=0}function Xs(o){var f=this.has(o)&&delete this.__data__[o];return this.size-=f?1:0,f}function Ss(o){var f=this.__data__;if(Ue){var N=f[o];return N===s?void 0:N}return Be.call(f,o)?f[o]:void 0}function Cs(o){var f=this.__data__;return Ue?f[o]!==void 0:Be.call(f,o)}function Ys(o,f){var N=this.__data__;return this.size+=this.has(o)?0:1,N[o]=Ue&&f===void 0?s:f,this}mt.prototype.clear=_s,mt.prototype.delete=Xs,mt.prototype.get=Ss,mt.prototype.has=Cs,mt.prototype.set=Ys;function yt(o){var f=-1,N=o==null?0:o.length;for(this.clear();++f<N;){var V=o[f];this.set(V[0],V[1])}}function As(){this.__data__=[],this.size=0}function Qs(o){var f=this.__data__,N=kr(f,o);if(N<0)return!1;var V=f.length-1;return N==V?f.pop():Se.call(f,N,1),--this.size,!0}function ks(o){var f=this.__data__,N=kr(f,o);return N<0?void 0:f[N][1]}function Es(o){return kr(this.__data__,o)>-1}function Js(o,f){var N=this.__data__,V=kr(N,o);return V<0?(++this.size,N.push([o,f])):N[V][1]=f,this}yt.prototype.clear=As,yt.prototype.delete=Qs,yt.prototype.get=ks,yt.prototype.has=Es,yt.prototype.set=Js;function kt(o){var f=-1,N=o==null?0:o.length;for(this.clear();++f<N;){var V=o[f];this.set(V[0],V[1])}}function el(){this.size=0,this.__data__={hash:new mt,map:new(ze||yt),string:new mt}}function tl(o){var f=Ht(this,o).delete(o);return this.size-=f?1:0,f}function Ns(o){return Ht(this,o).get(o)}function rl(o){return Ht(this,o).has(o)}function es(o,f){var N=Ht(this,o),V=N.size;return N.set(o,f),this.size+=N.size==V?0:1,this}kt.prototype.clear=el,kt.prototype.delete=tl,kt.prototype.get=Ns,kt.prototype.has=rl,kt.prototype.set=es;function Ar(o){var f=-1,N=o==null?0:o.length;for(this.__data__=new kt;++f<N;)this.add(o[f])}function Mr(o){return this.__data__.set(o,s),this}function Ur(o){return this.__data__.has(o)}Ar.prototype.add=Ar.prototype.push=Mr,Ar.prototype.has=Ur;function zt(o){var f=this.__data__=new yt(o);this.size=f.size}function ts(){this.__data__=new yt,this.size=0}function sl(o){var f=this.__data__,N=f.delete(o);return this.size=f.size,N}function ll(o){return this.__data__.get(o)}function nl(o){return this.__data__.has(o)}function rs(o,f){var N=this.__data__;if(N instanceof yt){var V=N.__data__;if(!ze||V.length<t-1)return V.push([o,f]),this.size=++N.size,this;N=this.__data__=new kt(V)}return N.set(o,f),this.size=N.size,this}zt.prototype.clear=ts,zt.prototype.delete=sl,zt.prototype.get=ll,zt.prototype.has=nl,zt.prototype.set=rs;function il(o,f){var N=Ct(o),V=!N&&ct(o),je=!N&&!V&&$t(o),Ae=!N&&!V&&!je&&Jt(o),Qe=N||V||je||Ae,Xe=Qe?Y(o.length,String):[],xt=Xe.length;for(var et in o)Be.call(o,et)&&!(Qe&&(et=="length"||je&&(et=="offset"||et=="parent")||Ae&&(et=="buffer"||et=="byteLength"||et=="byteOffset")||hl(et,xt)))&&Xe.push(et);return Xe}function kr(o,f){for(var N=o.length;N--;)if(ot(o[N][0],f))return N;return-1}function ss(o,f,N){var V=f(o);return Ct(o)?V:Pe(V,N(o))}function Er(o){return o==null?o===void 0?z:S:ue&&ue in Object(o)?nr(o):qe(o)}function Ts(o){return ut(o)&&Er(o)==a}function Is(o,f,N,V,je){return o===f?!0:o==null||f==null||!ut(o)&&!ut(f)?o!==o&&f!==f:ls(o,f,N,V,Is,je)}function ls(o,f,N,V,je,Ae){var Qe=Ct(o),Xe=Ct(f),xt=Qe?c:Qt(o),et=Xe?c:Qt(f);xt=xt==a?E:xt,et=et==a?E:et;var Lt=xt==E,Ft=et==E,_t=xt==et;if(_t&&$t(o)){if(!$t(f))return!1;Qe=!0,Lt=!1}if(_t&&!Lt)return Ae||(Ae=new zt),Qe||Jt(o)?ns(o,f,N,V,je,Ae):cl(o,f,xt,N,V,je,Ae);if(!(N&l)){var Ot=Lt&&Be.call(o,"__wrapped__"),Et=Ft&&Be.call(f,"__wrapped__");if(Ot||Et){var zr=Ot?o.value():o,Tr=Et?f.value():f;return Ae||(Ae=new zt),je(zr,Tr,N,V,Ae)}}return _t?(Ae||(Ae=new zt),dl(o,f,N,V,je,Ae)):!1}function al(o){if(!Ut(o)||fl(o))return!1;var f=jt(o)?ft:k;return f.test(Fe(o))}function Ls(o){return ut(o)&&wt(o.length)&&!!j[Er(o)]}function ol(o){if(!xe(o))return pt(o);var f=[];for(var N in Object(o))Be.call(o,N)&&N!="constructor"&&f.push(N);return f}function ns(o,f,N,V,je,Ae){var Qe=N&l,Xe=o.length,xt=f.length;if(Xe!=xt&&!(Qe&&xt>Xe))return!1;var et=Ae.get(o);if(et&&Ae.get(f))return et==f;var Lt=-1,Ft=!0,_t=N&n?new Ar:void 0;for(Ae.set(o,f),Ae.set(f,o);++Lt<Xe;){var Ot=o[Lt],Et=f[Lt];if(V)var zr=Qe?V(Et,Ot,Lt,f,o,Ae):V(Ot,Et,Lt,o,f,Ae);if(zr!==void 0){if(zr)continue;Ft=!1;break}if(_t){if(!De(f,function(Tr,is){if(!ae(_t,is)&&(Ot===Tr||je(Ot,Tr,N,V,Ae)))return _t.push(is)})){Ft=!1;break}}else if(!(Ot===Et||je(Ot,Et,N,V,Ae))){Ft=!1;break}}return Ae.delete(o),Ae.delete(f),Ft}function cl(o,f,N,V,je,Ae,Qe){switch(N){case C:if(o.byteLength!=f.byteLength||o.byteOffset!=f.byteOffset)return!1;o=o.buffer,f=f.buffer;case b:return!(o.byteLength!=f.byteLength||!Ae(new Oe(o),new Oe(f)));case g:case m:case w:return ot(+o,+f);case h:return o.name==f.name&&o.message==f.message;case F:case M:return o==f+"";case $:var Xe=he;case U:var xt=V&l;if(Xe||(Xe=pe),o.size!=f.size&&!xt)return!1;var et=Qe.get(o);if(et)return et==f;V|=n,Qe.set(o,f);var Lt=ns(Xe(o),Xe(f),V,je,Ae,Qe);return Qe.delete(o),Lt;case L:if(Jr)return Jr.call(o)==Jr.call(f)}return!1}function dl(o,f,N,V,je,Ae){var Qe=N&l,Xe=xr(o),xt=Xe.length,et=xr(f),Lt=et.length;if(xt!=Lt&&!Qe)return!1;for(var Ft=xt;Ft--;){var _t=Xe[Ft];if(!(Qe?_t in f:Be.call(f,_t)))return!1}var Ot=Ae.get(o);if(Ot&&Ae.get(f))return Ot==f;var Et=!0;Ae.set(o,f),Ae.set(f,o);for(var zr=Qe;++Ft<xt;){_t=Xe[Ft];var Tr=o[_t],is=f[_t];if(V)var Qi=Qe?V(is,Tr,_t,f,o,Ae):V(Tr,is,_t,o,f,Ae);if(!(Qi===void 0?Tr===is||je(Tr,is,N,V,Ae):Qi)){Et=!1;break}zr||(zr=_t=="constructor")}if(Et&&!zr){var Dl=o.constructor,Bl=f.constructor;Dl!=Bl&&"constructor"in o&&"constructor"in f&&!(typeof Dl=="function"&&Dl instanceof Dl&&typeof Bl=="function"&&Bl instanceof Bl)&&(Et=!1)}return Ae.delete(o),Ae.delete(f),Et}function xr(o){return ss(o,rt,ul)}function Ht(o,f){var N=o.__data__;return Fr(f)?N[typeof f=="string"?"string":"hash"]:N.map}function Yt(o,f){var N=fe(o,f);return al(N)?N:void 0}function nr(o){var f=Be.call(o,ue),N=o[ue];try{o[ue]=void 0;var V=!0}catch{}var je=dt.call(o);return V&&(f?o[ue]=N:delete o[ue]),je}var ul=ye?function(o){return o==null?[]:(o=Object(o),ve(ye(o),function(f){return be.call(o,f)}))}:lt,Qt=Er;(bt&&Qt(new bt(new ArrayBuffer(1)))!=C||ze&&Qt(new ze)!=$||Ve&&Qt(Ve.resolve())!=A||vt&&Qt(new vt)!=U||It&&Qt(new It)!=ie)&&(Qt=function(o){var f=Er(o),N=f==E?o.constructor:void 0,V=N?Fe(N):"";if(V)switch(V){case at:return C;case Je:return $;case br:return A;case Cr:return U;case mr:return ie}return f});function hl(o,f){return f=f??i,!!f&&(typeof o=="number"||K.test(o))&&o>-1&&o%1==0&&o<f}function Fr(o){var f=typeof o;return f=="string"||f=="number"||f=="symbol"||f=="boolean"?o!=="__proto__":o===null}function fl(o){return!!Ze&&Ze in o}function xe(o){var f=o&&o.constructor,N=typeof f=="function"&&f.prototype||Re;return o===N}function qe(o){return dt.call(o)}function Fe(o){if(o!=null){try{return Ke.call(o)}catch{}try{return o+""}catch{}}return""}function ot(o,f){return o===f||o!==o&&f!==f}var ct=Ts((function(){return arguments})())?Ts:function(o){return ut(o)&&Be.call(o,"callee")&&!be.call(o,"callee")},Ct=Array.isArray;function At(o){return o!=null&&wt(o.length)&&!jt(o)}var $t=Me||Nr;function Gt(o,f){return Is(o,f)}function jt(o){if(!Ut(o))return!1;var f=Er(o);return f==p||f==y||f==d||f==O}function wt(o){return typeof o=="number"&&o>-1&&o%1==0&&o<=i}function Ut(o){var f=typeof o;return o!=null&&(f=="object"||f=="function")}function ut(o){return o!=null&&typeof o=="object"}var Jt=me?H(me):Ls;function rt(o){return At(o)?il(o):ol(o)}function lt(){return[]}function Nr(){return!1}r.exports=Gt})(xl,xl.exports)),xl.exports}var zl={},Ka;function Ev(){if(Ka)return zl;Ka=1,Object.defineProperty(zl,"__esModule",{value:!0});const r=Ac(),e=kc();var t;return(function(s){function l(c={},d={},g=!1){typeof c!="object"&&(c={}),typeof d!="object"&&(d={});let m=r(d);g||(m=Object.keys(m).reduce((h,p)=>(m[p]!=null&&(h[p]=m[p]),h),{}));for(const h in c)c[h]!==void 0&&d[h]===void 0&&(m[h]=c[h]);return Object.keys(m).length>0?m:void 0}s.compose=l;function n(c={},d={}){typeof c!="object"&&(c={}),typeof d!="object"&&(d={});const g=Object.keys(c).concat(Object.keys(d)).reduce((m,h)=>(e(c[h],d[h])||(m[h]=d[h]===void 0?null:d[h]),m),{});return Object.keys(g).length>0?g:void 0}s.diff=n;function i(c={},d={}){c=c||{};const g=Object.keys(d).reduce((m,h)=>(d[h]!==c[h]&&c[h]!==void 0&&(m[h]=d[h]),m),{});return Object.keys(c).reduce((m,h)=>(c[h]!==d[h]&&d[h]===void 0&&(m[h]=null),m),g)}s.invert=i;function a(c,d,g=!1){if(typeof c!="object")return d;if(typeof d!="object")return;if(!g)return d;const m=Object.keys(d).reduce((h,p)=>(c[p]===void 0&&(h[p]=d[p]),h),{});return Object.keys(m).length>0?m:void 0}s.transform=a})(t||(t={})),zl.default=t,zl}var Hl={},Va;function Ec(){if(Va)return Hl;Va=1,Object.defineProperty(Hl,"__esModule",{value:!0});var r;return(function(e){function t(s){return typeof s.delete=="number"?s.delete:typeof s.retain=="number"?s.retain:typeof s.retain=="object"&&s.retain!==null?1:typeof s.insert=="string"?s.insert.length:1}e.length=t})(r||(r={})),Hl.default=r,Hl}var Gl={},Wa;function Nv(){if(Wa)return Gl;Wa=1,Object.defineProperty(Gl,"__esModule",{value:!0});const r=Ec();class e{constructor(s){this.ops=s,this.index=0,this.offset=0}hasNext(){return this.peekLength()<1/0}next(s){s||(s=1/0);const l=this.ops[this.index];if(l){const n=this.offset,i=r.default.length(l);if(s>=i-n?(s=i-n,this.index+=1,this.offset=0):this.offset+=s,typeof l.delete=="number")return{delete:s};{const a={};return l.attributes&&(a.attributes=l.attributes),typeof l.retain=="number"?a.retain=s:typeof l.retain=="object"&&l.retain!==null?a.retain=l.retain:typeof l.insert=="string"?a.insert=l.insert.substr(n,s):a.insert=l.insert,a}}else return{retain:1/0}}peek(){return this.ops[this.index]}peekLength(){return this.ops[this.index]?r.default.length(this.ops[this.index])-this.offset:1/0}peekType(){const s=this.ops[this.index];return s?typeof s.delete=="number"?"delete":typeof s.retain=="number"||typeof s.retain=="object"&&s.retain!==null?"retain":"insert":"retain"}rest(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);{const s=this.offset,l=this.index,n=this.next(),i=this.ops.slice(this.index);return this.offset=s,this.index=l,[n].concat(i)}}else return[]}}return Gl.default=e,Gl}var Za;function Tv(){return Za||(Za=1,(function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.AttributeMap=e.OpIterator=e.Op=void 0;const t=kv(),s=Ac(),l=kc(),n=Ev();e.AttributeMap=n.default;const i=Ec();e.Op=i.default;const a=Nv();e.OpIterator=a.default;const c="\0",d=(m,h)=>{if(typeof m!="object"||m===null)throw new Error(`cannot retain a ${typeof m}`);if(typeof h!="object"||h===null)throw new Error(`cannot retain a ${typeof h}`);const p=Object.keys(m)[0];if(!p||p!==Object.keys(h)[0])throw new Error(`embed types not matched: ${p} != ${Object.keys(h)[0]}`);return[p,m[p],h[p]]};class g{constructor(h){Array.isArray(h)?this.ops=h:h!=null&&Array.isArray(h.ops)?this.ops=h.ops:this.ops=[]}static registerEmbed(h,p){this.handlers[h]=p}static unregisterEmbed(h){delete this.handlers[h]}static getHandler(h){const p=this.handlers[h];if(!p)throw new Error(`no handlers for embed type "${h}"`);return p}insert(h,p){const y={};return typeof h=="string"&&h.length===0?this:(y.insert=h,p!=null&&typeof p=="object"&&Object.keys(p).length>0&&(y.attributes=p),this.push(y))}delete(h){return h<=0?this:this.push({delete:h})}retain(h,p){if(typeof h=="number"&&h<=0)return this;const y={retain:h};return p!=null&&typeof p=="object"&&Object.keys(p).length>0&&(y.attributes=p),this.push(y)}push(h){let p=this.ops.length,y=this.ops[p-1];if(h=s(h),typeof y=="object"){if(typeof h.delete=="number"&&typeof y.delete=="number")return this.ops[p-1]={delete:y.delete+h.delete},this;if(typeof y.delete=="number"&&h.insert!=null&&(p-=1,y=this.ops[p-1],typeof y!="object"))return this.ops.unshift(h),this;if(l(h.attributes,y.attributes)){if(typeof h.insert=="string"&&typeof y.insert=="string")return this.ops[p-1]={insert:y.insert+h.insert},typeof h.attributes=="object"&&(this.ops[p-1].attributes=h.attributes),this;if(typeof h.retain=="number"&&typeof y.retain=="number")return this.ops[p-1]={retain:y.retain+h.retain},typeof h.attributes=="object"&&(this.ops[p-1].attributes=h.attributes),this}}return p===this.ops.length?this.ops.push(h):this.ops.splice(p,0,h),this}chop(){const h=this.ops[this.ops.length-1];return h&&typeof h.retain=="number"&&!h.attributes&&this.ops.pop(),this}filter(h){return this.ops.filter(h)}forEach(h){this.ops.forEach(h)}map(h){return this.ops.map(h)}partition(h){const p=[],y=[];return this.forEach($=>{(h($)?p:y).push($)}),[p,y]}reduce(h,p){return this.ops.reduce(h,p)}changeLength(){return this.reduce((h,p)=>p.insert?h+i.default.length(p):p.delete?h-p.delete:h,0)}length(){return this.reduce((h,p)=>h+i.default.length(p),0)}slice(h=0,p=1/0){const y=[],$=new a.default(this.ops);let w=0;for(;w<p&&$.hasNext();){let S;w<h?S=$.next(h-w):(S=$.next(p-w),y.push(S)),w+=i.default.length(S)}return new g(y)}compose(h){const p=new a.default(this.ops),y=new a.default(h.ops),$=[],w=y.peek();if(w!=null&&typeof w.retain=="number"&&w.attributes==null){let E=w.retain;for(;p.peekType()==="insert"&&p.peekLength()<=E;)E-=p.peekLength(),$.push(p.next());w.retain-E>0&&y.next(w.retain-E)}const S=new g($);for(;p.hasNext()||y.hasNext();)if(y.peekType()==="insert")S.push(y.next());else if(p.peekType()==="delete")S.push(p.next());else{const E=Math.min(p.peekLength(),y.peekLength()),A=p.next(E),O=y.next(E);if(O.retain){const F={};if(typeof A.retain=="number")F.retain=typeof O.retain=="number"?E:O.retain;else if(typeof O.retain=="number")A.retain==null?F.insert=A.insert:F.retain=A.retain;else{const M=A.retain==null?"insert":"retain",[L,z,ie]=d(A[M],O.retain),b=g.getHandler(L);F[M]={[L]:b.compose(z,ie,M==="retain")}}const U=n.default.compose(A.attributes,O.attributes,typeof A.retain=="number");if(U&&(F.attributes=U),S.push(F),!y.hasNext()&&l(S.ops[S.ops.length-1],F)){const M=new g(p.rest());return S.concat(M).chop()}}else typeof O.delete=="number"&&(typeof A.retain=="number"||typeof A.retain=="object"&&A.retain!==null)&&S.push(O)}return S.chop()}concat(h){const p=new g(this.ops.slice());return h.ops.length>0&&(p.push(h.ops[0]),p.ops=p.ops.concat(h.ops.slice(1))),p}diff(h,p){if(this.ops===h.ops)return new g;const y=[this,h].map(A=>A.map(O=>{if(O.insert!=null)return typeof O.insert=="string"?O.insert:c;const F=A===h?"on":"with";throw new Error("diff() called "+F+" non-document")}).join("")),$=new g,w=t(y[0],y[1],p,!0),S=new a.default(this.ops),E=new a.default(h.ops);return w.forEach(A=>{let O=A[1].length;for(;O>0;){let F=0;switch(A[0]){case t.INSERT:F=Math.min(E.peekLength(),O),$.push(E.next(F));break;case t.DELETE:F=Math.min(O,S.peekLength()),S.next(F),$.delete(F);break;case t.EQUAL:F=Math.min(S.peekLength(),E.peekLength(),O);const U=S.next(F),M=E.next(F);l(U.insert,M.insert)?$.retain(F,n.default.diff(U.attributes,M.attributes)):$.push(M).delete(F);break}O-=F}}),$.chop()}eachLine(h,p=`
`){const y=new a.default(this.ops);let $=new g,w=0;for(;y.hasNext();){if(y.peekType()!=="insert")return;const S=y.peek(),E=i.default.length(S)-y.peekLength(),A=typeof S.insert=="string"?S.insert.indexOf(p,E)-E:-1;if(A<0)$.push(y.next());else if(A>0)$.push(y.next(A));else{if(h($,y.next(1).attributes||{},w)===!1)return;w+=1,$=new g}}$.length()>0&&h($,{},w)}invert(h){const p=new g;return this.reduce((y,$)=>{if($.insert)p.delete(i.default.length($));else{if(typeof $.retain=="number"&&$.attributes==null)return p.retain($.retain),y+$.retain;if($.delete||typeof $.retain=="number"){const w=$.delete||$.retain;return h.slice(y,y+w).forEach(E=>{$.delete?p.push(E):$.retain&&$.attributes&&p.retain(i.default.length(E),n.default.invert($.attributes,E.attributes))}),y+w}else if(typeof $.retain=="object"&&$.retain!==null){const w=h.slice(y,y+1),S=new a.default(w.ops).next(),[E,A,O]=d($.retain,S.insert),F=g.getHandler(E);return p.retain({[E]:F.invert(A,O)},n.default.invert($.attributes,S.attributes)),y+1}}return y},0),p.chop()}transform(h,p=!1){if(p=!!p,typeof h=="number")return this.transformPosition(h,p);const y=h,$=new a.default(this.ops),w=new a.default(y.ops),S=new g;for(;$.hasNext()||w.hasNext();)if($.peekType()==="insert"&&(p||w.peekType()!=="insert"))S.retain(i.default.length($.next()));else if(w.peekType()==="insert")S.push(w.next());else{const E=Math.min($.peekLength(),w.peekLength()),A=$.next(E),O=w.next(E);if(A.delete)continue;if(O.delete)S.push(O);else{const F=A.retain,U=O.retain;let M=typeof U=="object"&&U!==null?U:E;if(typeof F=="object"&&F!==null&&typeof U=="object"&&U!==null){const L=Object.keys(F)[0];if(L===Object.keys(U)[0]){const z=g.getHandler(L);z&&(M={[L]:z.transform(F[L],U[L],p)})}}S.retain(M,n.default.transform(A.attributes,O.attributes,p))}}return S.chop()}transformPosition(h,p=!1){p=!!p;const y=new a.default(this.ops);let $=0;for(;y.hasNext()&&$<=h;){const w=y.peekLength(),S=y.peekType();if(y.next(),S==="delete"){h-=Math.min(w,h-$);continue}else S==="insert"&&($<h||!p)&&(h+=w);$+=w}return h}}g.Op=i.default,g.OpIterator=a.default,g.AttributeMap=n.default,g.handlers={},e.default=g,r.exports=g,r.exports.default=g})(Fl,Fl.exports)),Fl.exports}var sr=Tv();const _e=Cc(sr);class pr extends Xt{static value(){}optimize(){(this.prev||this.next)&&this.remove()}length(){return 0}value(){return""}}pr.blotName="break";pr.tagName="BR";let fr=class extends dn{};const Iv={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function _n(r){return r.replace(/[&<>"']/g,e=>Iv[e])}class Bt extends Bi{static allowedChildren=[Bt,pr,Xt,fr];static order=["cursor","inline","link","underline","strike","italic","bold","script","code"];static compare(e,t){const s=Bt.order.indexOf(e),l=Bt.order.indexOf(t);return s>=0||l>=0?s-l:e===t?0:e<t?-1:1}formatAt(e,t,s,l){if(Bt.compare(this.statics.blotName,s)<0&&this.scroll.query(s,Ce.BLOT)){const n=this.isolate(e,t);l&&n.wrap(s,l)}else super.formatAt(e,t,s,l)}optimize(e){if(super.optimize(e),this.parent instanceof Bt&&Bt.compare(this.statics.blotName,this.parent.statics.blotName)>0){const t=this.parent.isolate(this.offset(),this.length());this.moveChildren(t),t.wrap(this)}}}const Xa=1;class Tt extends Nl{cache={};delta(){return this.cache.delta==null&&(this.cache.delta=Nc(this)),this.cache.delta}deleteAt(e,t){super.deleteAt(e,t),this.cache={}}formatAt(e,t,s,l){t<=0||(this.scroll.query(s,Ce.BLOCK)?e+t===this.length()&&this.format(s,l):super.formatAt(e,Math.min(t,this.length()-e-1),s,l),this.cache={})}insertAt(e,t,s){if(s!=null){super.insertAt(e,t,s),this.cache={};return}if(t.length===0)return;const l=t.split(`
`),n=l.shift();n.length>0&&(e<this.length()-1||this.children.tail==null?super.insertAt(Math.min(e,this.length()-1),n):this.children.tail.insertAt(this.children.tail.length(),n),this.cache={});let i=this;l.reduce((a,c)=>(i=i.split(a,!0),i.insertAt(0,c),c.length),e+n.length)}insertBefore(e,t){const{head:s}=this.children;super.insertBefore(e,t),s instanceof pr&&s.remove(),this.cache={}}length(){return this.cache.length==null&&(this.cache.length=super.length()+Xa),this.cache.length}moveChildren(e,t){super.moveChildren(e,t),this.cache={}}optimize(e){super.optimize(e),this.cache={}}path(e){return super.path(e,!0)}removeChild(e){super.removeChild(e),this.cache={}}split(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(t&&(e===0||e>=this.length()-Xa)){const l=this.clone();return e===0?(this.parent.insertBefore(l,this),this):(this.parent.insertBefore(l,this.next),l)}const s=super.split(e,t);return this.cache={},s}}Tt.blotName="block";Tt.tagName="P";Tt.defaultChild=pr;Tt.allowedChildren=[pr,Bt,Xt,fr];class rr extends Xt{attach(){super.attach(),this.attributes=new $n(this.domNode)}delta(){return new _e().insert(this.value(),{...this.formats(),...this.attributes.values()})}format(e,t){const s=this.scroll.query(e,Ce.BLOCK_ATTRIBUTE);s!=null&&this.attributes.attribute(s,t)}formatAt(e,t,s,l){this.format(s,l)}insertAt(e,t,s){if(s!=null){super.insertAt(e,t,s);return}const l=t.split(`
`),n=l.pop(),i=l.map(c=>{const d=this.scroll.create(Tt.blotName);return d.insertAt(0,c),d}),a=this.split(e);i.forEach(c=>{this.parent.insertBefore(c,a)}),n&&this.parent.insertBefore(this.scroll.create("text",n),a)}}rr.scope=Ce.BLOCK_BLOT;function Nc(r){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return r.descendants(qt).reduce((t,s)=>s.length()===0?t:t.insert(s.value(),er(s,{},e)),new _e).insert(`
`,er(r))}function er(r){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;return r==null||("formats"in r&&typeof r.formats=="function"&&(e={...e,...r.formats()},t&&delete e["code-token"]),r.parent==null||r.parent.statics.blotName==="scroll"||r.parent.statics.scope!==r.statics.scope)?e:er(r.parent,e,t)}class cr extends Xt{static blotName="cursor";static className="ql-cursor";static tagName="span";static CONTENTS="\uFEFF";static value(){}constructor(e,t,s){super(e,t),this.selection=s,this.textNode=document.createTextNode(cr.CONTENTS),this.domNode.appendChild(this.textNode),this.savedLength=0}detach(){this.parent!=null&&this.parent.removeChild(this)}format(e,t){if(this.savedLength!==0){super.format(e,t);return}let s=this,l=0;for(;s!=null&&s.statics.scope!==Ce.BLOCK_BLOT;)l+=s.offset(s.parent),s=s.parent;s!=null&&(this.savedLength=cr.CONTENTS.length,s.optimize(),s.formatAt(l,cr.CONTENTS.length,e,t),this.savedLength=0)}index(e,t){return e===this.textNode?0:super.index(e,t)}length(){return this.savedLength}position(){return[this.textNode,this.textNode.data.length]}remove(){super.remove(),this.parent=null}restore(){if(this.selection.composing||this.parent==null)return null;const e=this.selection.getNativeRange();for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);const t=this.prev instanceof fr?this.prev:null,s=t?t.length():0,l=this.next instanceof fr?this.next:null,n=l?l.text:"",{textNode:i}=this,a=i.data.split(cr.CONTENTS).join("");i.data=cr.CONTENTS;let c;if(t)c=t,(a||l)&&(t.insertAt(t.length(),a+n),l&&l.remove());else if(l)c=l,l.insertAt(0,a);else{const d=document.createTextNode(a);c=this.scroll.create(d),this.parent.insertBefore(c,this)}if(this.remove(),e){const d=(h,p)=>t&&h===t.domNode?p:h===i?s+p-1:l&&h===l.domNode?s+a.length+p:null,g=d(e.start.node,e.start.offset),m=d(e.end.node,e.end.offset);if(g!==null&&m!==null)return{startNode:c.domNode,startOffset:g,endNode:c.domNode,endOffset:m}}return null}update(e,t){if(e.some(s=>s.type==="characterData"&&s.target===this.textNode)){const s=this.restore();s&&(t.range=s)}}optimize(e){super.optimize(e);let{parent:t}=this;for(;t;){if(t.domNode.tagName==="A"){this.savedLength=cr.CONTENTS.length,t.isolate(this.offset(t),this.length()).unwrap(),this.savedLength=0;break}t=t.parent}}value(){return""}}var Mn={exports:{}},Ya;function Lv(){return Ya||(Ya=1,(function(r){var e=Object.prototype.hasOwnProperty,t="~";function s(){}Object.create&&(s.prototype=Object.create(null),new s().__proto__||(t=!1));function l(c,d,g){this.fn=c,this.context=d,this.once=g||!1}function n(c,d,g,m,h){if(typeof g!="function")throw new TypeError("The listener must be a function");var p=new l(g,m||c,h),y=t?t+d:d;return c._events[y]?c._events[y].fn?c._events[y]=[c._events[y],p]:c._events[y].push(p):(c._events[y]=p,c._eventsCount++),c}function i(c,d){--c._eventsCount===0?c._events=new s:delete c._events[d]}function a(){this._events=new s,this._eventsCount=0}a.prototype.eventNames=function(){var d=[],g,m;if(this._eventsCount===0)return d;for(m in g=this._events)e.call(g,m)&&d.push(t?m.slice(1):m);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(g)):d},a.prototype.listeners=function(d){var g=t?t+d:d,m=this._events[g];if(!m)return[];if(m.fn)return[m.fn];for(var h=0,p=m.length,y=new Array(p);h<p;h++)y[h]=m[h].fn;return y},a.prototype.listenerCount=function(d){var g=t?t+d:d,m=this._events[g];return m?m.fn?1:m.length:0},a.prototype.emit=function(d,g,m,h,p,y){var $=t?t+d:d;if(!this._events[$])return!1;var w=this._events[$],S=arguments.length,E,A;if(w.fn){switch(w.once&&this.removeListener(d,w.fn,void 0,!0),S){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,g),!0;case 3:return w.fn.call(w.context,g,m),!0;case 4:return w.fn.call(w.context,g,m,h),!0;case 5:return w.fn.call(w.context,g,m,h,p),!0;case 6:return w.fn.call(w.context,g,m,h,p,y),!0}for(A=1,E=new Array(S-1);A<S;A++)E[A-1]=arguments[A];w.fn.apply(w.context,E)}else{var O=w.length,F;for(A=0;A<O;A++)switch(w[A].once&&this.removeListener(d,w[A].fn,void 0,!0),S){case 1:w[A].fn.call(w[A].context);break;case 2:w[A].fn.call(w[A].context,g);break;case 3:w[A].fn.call(w[A].context,g,m);break;case 4:w[A].fn.call(w[A].context,g,m,h);break;default:if(!E)for(F=1,E=new Array(S-1);F<S;F++)E[F-1]=arguments[F];w[A].fn.apply(w[A].context,E)}}return!0},a.prototype.on=function(d,g,m){return n(this,d,g,m,!1)},a.prototype.once=function(d,g,m){return n(this,d,g,m,!0)},a.prototype.removeListener=function(d,g,m,h){var p=t?t+d:d;if(!this._events[p])return this;if(!g)return i(this,p),this;var y=this._events[p];if(y.fn)y.fn===g&&(!h||y.once)&&(!m||y.context===m)&&i(this,p);else{for(var $=0,w=[],S=y.length;$<S;$++)(y[$].fn!==g||h&&!y[$].once||m&&y[$].context!==m)&&w.push(y[$]);w.length?this._events[p]=w.length===1?w[0]:w:i(this,p)}return this},a.prototype.removeAllListeners=function(d){var g;return d?(g=t?t+d:d,this._events[g]&&i(this,g)):(this._events=new s,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=t,a.EventEmitter=a,r.exports=a})(Mn)),Mn.exports}var Ov=Lv();const qv=Cc(Ov),bi=new WeakMap,mi=["error","warn","log","info"];let xi="warn";function Tc(r){if(xi&&mi.indexOf(r)<=mi.indexOf(xi)){for(var e=arguments.length,t=new Array(e>1?e-1:0),s=1;s<e;s++)t[s-1]=arguments[s];console[r](...t)}}function Br(r){return mi.reduce((e,t)=>(e[t]=Tc.bind(console,t,r),e),{})}Br.level=r=>{xi=r};Tc.level=Br.level;const Un=Br("quill:events"),Rv=["selectionchange","mousedown","mouseup","click"];Rv.forEach(r=>{document.addEventListener(r,function(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];Array.from(document.querySelectorAll(".ql-container")).forEach(l=>{const n=bi.get(l);n&&n.emitter&&n.emitter.handleDOM(...t)})})});class $e extends qv{static events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_BLOT_MOUNT:"scroll-blot-mount",SCROLL_BLOT_UNMOUNT:"scroll-blot-unmount",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SCROLL_EMBED_UPDATE:"scroll-embed-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change",COMPOSITION_BEFORE_START:"composition-before-start",COMPOSITION_START:"composition-start",COMPOSITION_BEFORE_END:"composition-before-end",COMPOSITION_END:"composition-end"};static sources={API:"api",SILENT:"silent",USER:"user"};constructor(){super(),this.domListeners={},this.on("error",Un.error)}emit(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return Un.log.call(Un,...t),super.emit(...t)}handleDOM(e){for(var t=arguments.length,s=new Array(t>1?t-1:0),l=1;l<t;l++)s[l-1]=arguments[l];(this.domListeners[e.type]||[]).forEach(n=>{let{node:i,handler:a}=n;(e.target===i||i.contains(e.target))&&a(e,...s)})}listenDOM(e,t,s){this.domListeners[e]||(this.domListeners[e]=[]),this.domListeners[e].push({node:t,handler:s})}}const Fn=Br("quill:selection");class gs{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;this.index=e,this.length=t}}class Pv{constructor(e,t){this.emitter=t,this.scroll=e,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=this.scroll.create("cursor",this),this.savedRange=new gs(0,0),this.lastRange=this.savedRange,this.lastNative=null,this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,()=>{!this.mouseDown&&!this.composing&&setTimeout(this.update.bind(this,$e.sources.USER),1)}),this.emitter.on($e.events.SCROLL_BEFORE_UPDATE,()=>{if(!this.hasFocus())return;const s=this.getNativeRange();s!=null&&s.start.node!==this.cursor.textNode&&this.emitter.once($e.events.SCROLL_UPDATE,(l,n)=>{try{this.root.contains(s.start.node)&&this.root.contains(s.end.node)&&this.setNativeRange(s.start.node,s.start.offset,s.end.node,s.end.offset);const i=n.some(a=>a.type==="characterData"||a.type==="childList"||a.type==="attributes"&&a.target===this.root);this.update(i?$e.sources.SILENT:l)}catch{}})}),this.emitter.on($e.events.SCROLL_OPTIMIZE,(s,l)=>{if(l.range){const{startNode:n,startOffset:i,endNode:a,endOffset:c}=l.range;this.setNativeRange(n,i,a,c),this.update($e.sources.SILENT)}}),this.update($e.sources.SILENT)}handleComposition(){this.emitter.on($e.events.COMPOSITION_BEFORE_START,()=>{this.composing=!0}),this.emitter.on($e.events.COMPOSITION_END,()=>{if(this.composing=!1,this.cursor.parent){const e=this.cursor.restore();if(!e)return;setTimeout(()=>{this.setNativeRange(e.startNode,e.startOffset,e.endNode,e.endOffset)},1)}})}handleDragging(){this.emitter.listenDOM("mousedown",document.body,()=>{this.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,()=>{this.mouseDown=!1,this.update($e.sources.USER)})}focus(){this.hasFocus()||(this.root.focus({preventScroll:!0}),this.setRange(this.savedRange))}format(e,t){this.scroll.update();const s=this.getNativeRange();if(!(s==null||!s.native.collapsed||this.scroll.query(e,Ce.BLOCK))){if(s.start.node!==this.cursor.textNode){const l=this.scroll.find(s.start.node,!1);if(l==null)return;if(l instanceof qt){const n=l.split(s.start.offset);l.parent.insertBefore(this.cursor,n)}else l.insertBefore(this.cursor,s.start.node);this.cursor.attach()}this.cursor.format(e,t),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}getBounds(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const s=this.scroll.length();e=Math.min(e,s-1),t=Math.min(e+t,s-1)-e;let l,[n,i]=this.scroll.leaf(e);if(n==null)return null;if(t>0&&i===n.length()){const[g]=this.scroll.leaf(e+1);if(g){const[m]=this.scroll.line(e),[h]=this.scroll.line(e+1);m===h&&(n=g,i=0)}}[l,i]=n.position(i,!0);const a=document.createRange();if(t>0)return a.setStart(l,i),[n,i]=this.scroll.leaf(e+t),n==null?null:([l,i]=n.position(i,!0),a.setEnd(l,i),a.getBoundingClientRect());let c="left",d;if(l instanceof Text){if(!l.data.length)return null;i<l.data.length?(a.setStart(l,i),a.setEnd(l,i+1)):(a.setStart(l,i-1),a.setEnd(l,i),c="right"),d=a.getBoundingClientRect()}else{if(!(n.domNode instanceof Element))return null;d=n.domNode.getBoundingClientRect(),i>0&&(c="right")}return{bottom:d.top+d.height,height:d.height,left:d[c],right:d[c],top:d.top,width:0}}getNativeRange(){const e=document.getSelection();if(e==null||e.rangeCount<=0)return null;const t=e.getRangeAt(0);if(t==null)return null;const s=this.normalizeNative(t);return Fn.info("getNativeRange",s),s}getRange(){const e=this.scroll.domNode;if("isConnected"in e&&!e.isConnected)return[null,null];const t=this.getNativeRange();return t==null?[null,null]:[this.normalizedToRange(t),t]}hasFocus(){return document.activeElement===this.root||document.activeElement!=null&&zn(this.root,document.activeElement)}normalizedToRange(e){const t=[[e.start.node,e.start.offset]];e.native.collapsed||t.push([e.end.node,e.end.offset]);const s=t.map(i=>{const[a,c]=i,d=this.scroll.find(a,!0),g=d.offset(this.scroll);return c===0?g:d instanceof qt?g+d.index(a,c):g+d.length()}),l=Math.min(Math.max(...s),this.scroll.length()-1),n=Math.min(l,...s);return new gs(n,l-n)}normalizeNative(e){if(!zn(this.root,e.startContainer)||!e.collapsed&&!zn(this.root,e.endContainer))return null;const t={start:{node:e.startContainer,offset:e.startOffset},end:{node:e.endContainer,offset:e.endOffset},native:e};return[t.start,t.end].forEach(s=>{let{node:l,offset:n}=s;for(;!(l instanceof Text)&&l.childNodes.length>0;)if(l.childNodes.length>n)l=l.childNodes[n],n=0;else if(l.childNodes.length===n)l=l.lastChild,l instanceof Text?n=l.data.length:l.childNodes.length>0?n=l.childNodes.length:n=l.childNodes.length+1;else break;s.node=l,s.offset=n}),t}rangeToNative(e){const t=this.scroll.length(),s=(l,n)=>{l=Math.min(t-1,l);const[i,a]=this.scroll.leaf(l);return i?i.position(a,n):[null,-1]};return[...s(e.index,!1),...s(e.index+e.length,!0)]}setNativeRange(e,t){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e,l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:t,n=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(Fn.info("setNativeRange",e,t,s,l),e!=null&&(this.root.parentNode==null||e.parentNode==null||s.parentNode==null))return;const i=document.getSelection();if(i!=null)if(e!=null){this.hasFocus()||this.root.focus({preventScroll:!0});const{native:a}=this.getNativeRange()||{};if(a==null||n||e!==a.startContainer||t!==a.startOffset||s!==a.endContainer||l!==a.endOffset){e instanceof Element&&e.tagName==="BR"&&(t=Array.from(e.parentNode.childNodes).indexOf(e),e=e.parentNode),s instanceof Element&&s.tagName==="BR"&&(l=Array.from(s.parentNode.childNodes).indexOf(s),s=s.parentNode);const c=document.createRange();c.setStart(e,t),c.setEnd(s,l),i.removeAllRanges(),i.addRange(c)}}else i.removeAllRanges(),this.root.blur()}setRange(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:$e.sources.API;if(typeof t=="string"&&(s=t,t=!1),Fn.info("setRange",e),e!=null){const l=this.rangeToNative(e);this.setNativeRange(...l,t)}else this.setNativeRange(null);this.update(s)}update(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:$e.sources.USER;const t=this.lastRange,[s,l]=this.getRange();if(this.lastRange=s,this.lastNative=l,this.lastRange!=null&&(this.savedRange=this.lastRange),!Di(t,this.lastRange)){if(!this.composing&&l!=null&&l.native.collapsed&&l.start.node!==this.cursor.textNode){const i=this.cursor.restore();i&&this.setNativeRange(i.startNode,i.startOffset,i.endNode,i.endOffset)}const n=[$e.events.SELECTION_CHANGE,Ms(this.lastRange),Ms(t),e];this.emitter.emit($e.events.EDITOR_CHANGE,...n),e!==$e.sources.SILENT&&this.emitter.emit(...n)}}}function zn(r,e){try{e.parentNode}catch{return!1}return r.contains(e)}const jv=/^[ -~]*$/;class Dv{constructor(e){this.scroll=e,this.delta=this.getDelta()}applyDelta(e){this.scroll.update();let t=this.scroll.length();this.scroll.batchStart();const s=Qa(e),l=new _e;return Mv(s.ops.slice()).reduce((i,a)=>{const c=sr.Op.length(a);let d=a.attributes||{},g=!1,m=!1;if(a.insert!=null){if(l.retain(c),typeof a.insert=="string"){const y=a.insert;m=!y.endsWith(`
`)&&(t<=i||!!this.scroll.descendant(rr,i)[0]),this.scroll.insertAt(i,y);const[$,w]=this.scroll.line(i);let S=Vr({},er($));if($ instanceof Tt){const[E]=$.descendant(qt,w);E&&(S=Vr(S,er(E)))}d=sr.AttributeMap.diff(S,d)||{}}else if(typeof a.insert=="object"){const y=Object.keys(a.insert)[0];if(y==null)return i;const $=this.scroll.query(y,Ce.INLINE)!=null;if($)(t<=i||this.scroll.descendant(rr,i)[0])&&(m=!0);else if(i>0){const[w,S]=this.scroll.descendant(qt,i-1);w instanceof fr?w.value()[S]!==`
`&&(g=!0):w instanceof Xt&&w.statics.scope===Ce.INLINE_BLOT&&(g=!0)}if(this.scroll.insertAt(i,y,a.insert[y]),$){const[w]=this.scroll.descendant(qt,i);if(w){const S=Vr({},er(w));d=sr.AttributeMap.diff(S,d)||{}}}}t+=c}else if(l.push(a),a.retain!==null&&typeof a.retain=="object"){const y=Object.keys(a.retain)[0];if(y==null)return i;this.scroll.updateEmbedAt(i,y,a.retain[y])}Object.keys(d).forEach(y=>{this.scroll.formatAt(i,c,y,d[y])});const h=g?1:0,p=m?1:0;return t+=h+p,l.retain(h),l.delete(p),i+c+h+p},0),l.reduce((i,a)=>typeof a.delete=="number"?(this.scroll.deleteAt(i,a.delete),i):i+sr.Op.length(a),0),this.scroll.batchEnd(),this.scroll.optimize(),this.update(s)}deleteText(e,t){return this.scroll.deleteAt(e,t),this.update(new _e().retain(e).delete(t))}formatLine(e,t){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.scroll.update(),Object.keys(s).forEach(n=>{this.scroll.lines(e,Math.max(t,1)).forEach(i=>{i.format(n,s[n])})}),this.scroll.optimize();const l=new _e().retain(e).retain(t,Ms(s));return this.update(l)}formatText(e,t){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.keys(s).forEach(n=>{this.scroll.formatAt(e,t,n,s[n])});const l=new _e().retain(e).retain(t,Ms(s));return this.update(l)}getContents(e,t){return this.delta.slice(e,e+t)}getDelta(){return this.scroll.lines().reduce((e,t)=>e.concat(t.delta()),new _e)}getFormat(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=[],l=[];t===0?this.scroll.path(e).forEach(a=>{const[c]=a;c instanceof Tt?s.push(c):c instanceof qt&&l.push(c)}):(s=this.scroll.lines(e,t),l=this.scroll.descendants(qt,e,t));const[n,i]=[s,l].map(a=>{const c=a.shift();if(c==null)return{};let d=er(c);for(;Object.keys(d).length>0;){const g=a.shift();if(g==null)return d;d=Bv(er(g),d)}return d});return{...n,...i}}getHTML(e,t){const[s,l]=this.scroll.line(e);if(s){const n=s.length();return s.length()>=l+t&&!(l===0&&t===n)?Tl(s,l,t,!0):Tl(this.scroll,e,t,!0)}return""}getText(e,t){return this.getContents(e,t).filter(s=>typeof s.insert=="string").map(s=>s.insert).join("")}insertContents(e,t){const s=Qa(t),l=new _e().retain(e).concat(s);return this.scroll.insertContents(e,s),this.update(l)}insertEmbed(e,t,s){return this.scroll.insertAt(e,t,s),this.update(new _e().retain(e).insert({[t]:s}))}insertText(e,t){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return t=t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(e,t),Object.keys(s).forEach(l=>{this.scroll.formatAt(e,t.length,l,s[l])}),this.update(new _e().retain(e).insert(t,Ms(s)))}isBlank(){if(this.scroll.children.length===0)return!0;if(this.scroll.children.length>1)return!1;const e=this.scroll.children.head;if(e?.statics.blotName!==Tt.blotName)return!1;const t=e;return t.children.length>1?!1:t.children.head instanceof pr}removeFormat(e,t){const s=this.getText(e,t),[l,n]=this.scroll.line(e+t);let i=0,a=new _e;l!=null&&(i=l.length()-n,a=l.delta().slice(n,n+i-1).insert(`
`));const d=this.getContents(e,t+i).diff(new _e().insert(s).concat(a)),g=new _e().retain(e).concat(d);return this.applyDelta(g)}update(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;const l=this.delta;if(t.length===1&&t[0].type==="characterData"&&t[0].target.data.match(jv)&&this.scroll.find(t[0].target)){const n=this.scroll.find(t[0].target),i=er(n),a=n.offset(this.scroll),c=t[0].oldValue.replace(cr.CONTENTS,""),d=new _e().insert(c),g=new _e().insert(n.value()),m=s&&{oldRange:Ja(s.oldRange,-a),newRange:Ja(s.newRange,-a)};e=new _e().retain(a).concat(d.diff(g,m)).reduce((p,y)=>y.insert?p.insert(y.insert,i):p.push(y),new _e),this.delta=l.compose(e)}else this.delta=this.getDelta(),(!e||!Di(l.compose(e),this.delta))&&(e=l.diff(this.delta,s));return e}}function Ds(r,e,t){if(r.length===0){const[p]=Hn(t.pop());return e<=0?`</li></${p}>`:`</li></${p}>${Ds([],e-1,t)}`}const[{child:s,offset:l,length:n,indent:i,type:a},...c]=r,[d,g]=Hn(a);if(i>e)return t.push(a),i===e+1?`<${d}><li${g}>${Tl(s,l,n)}${Ds(c,i,t)}`:`<${d}><li>${Ds(r,e+1,t)}`;const m=t[t.length-1];if(i===e&&a===m)return`</li><li${g}>${Tl(s,l,n)}${Ds(c,i,t)}`;const[h]=Hn(t.pop());return`</li></${h}>${Ds(r,e-1,t)}`}function Tl(r,e,t){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if("html"in r&&typeof r.html=="function")return r.html(e,t);if(r instanceof fr)return _n(r.value().slice(e,e+t)).replaceAll(" ","&nbsp;");if(r instanceof hr){if(r.statics.blotName==="list-container"){const d=[];return r.children.forEachAt(e,t,(g,m,h)=>{const p="formats"in g&&typeof g.formats=="function"?g.formats():{};d.push({child:g,offset:m,length:h,indent:p.indent||0,type:p.list})}),Ds(d,-1,[])}const l=[];if(r.children.forEachAt(e,t,(d,g,m)=>{l.push(Tl(d,g,m))}),s||r.statics.blotName==="list")return l.join("");const{outerHTML:n,innerHTML:i}=r.domNode,[a,c]=n.split(`>${i}<`);return a==="<table"?`<table style="border: 1px solid #000;">${l.join("")}<${c}`:`${a}>${l.join("")}<${c}`}return r.domNode instanceof Element?r.domNode.outerHTML:""}function Bv(r,e){return Object.keys(e).reduce((t,s)=>{if(r[s]==null)return t;const l=e[s];return l===r[s]?t[s]=l:Array.isArray(l)?l.indexOf(r[s])<0?t[s]=l.concat([r[s]]):t[s]=l:t[s]=[l,r[s]],t},{})}function Hn(r){const e=r==="ordered"?"ol":"ul";switch(r){case"checked":return[e,' data-list="checked"'];case"unchecked":return[e,' data-list="unchecked"'];default:return[e,""]}}function Qa(r){return r.reduce((e,t)=>{if(typeof t.insert=="string"){const s=t.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return e.insert(s,t.attributes)}return e.push(t)},new _e)}function Ja(r,e){let{index:t,length:s}=r;return new gs(t+e,s)}function Mv(r){const e=[];return r.forEach(t=>{typeof t.insert=="string"?t.insert.split(`
`).forEach((l,n)=>{n&&e.push({insert:`
`,attributes:t.attributes}),l&&e.push({insert:l,attributes:t.attributes})}):e.push(t)}),e}class Sr{static DEFAULTS={};constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.quill=e,this.options=t}}const Kl="\uFEFF";class Ui extends Xt{constructor(e,t){super(e,t),this.contentNode=document.createElement("span"),this.contentNode.setAttribute("contenteditable","false"),Array.from(this.domNode.childNodes).forEach(s=>{this.contentNode.appendChild(s)}),this.leftGuard=document.createTextNode(Kl),this.rightGuard=document.createTextNode(Kl),this.domNode.appendChild(this.leftGuard),this.domNode.appendChild(this.contentNode),this.domNode.appendChild(this.rightGuard)}index(e,t){return e===this.leftGuard?0:e===this.rightGuard?1:super.index(e,t)}restore(e){let t=null,s;const l=e.data.split(Kl).join("");if(e===this.leftGuard)if(this.prev instanceof fr){const n=this.prev.length();this.prev.insertAt(n,l),t={startNode:this.prev.domNode,startOffset:n+l.length}}else s=document.createTextNode(l),this.parent.insertBefore(this.scroll.create(s),this),t={startNode:s,startOffset:l.length};else e===this.rightGuard&&(this.next instanceof fr?(this.next.insertAt(0,l),t={startNode:this.next.domNode,startOffset:l.length}):(s=document.createTextNode(l),this.parent.insertBefore(this.scroll.create(s),this.next),t={startNode:s,startOffset:l.length}));return e.data=Kl,t}update(e,t){e.forEach(s=>{if(s.type==="characterData"&&(s.target===this.leftGuard||s.target===this.rightGuard)){const l=this.restore(s.target);l&&(t.range=l)}})}}class Uv{isComposing=!1;constructor(e,t){this.scroll=e,this.emitter=t,this.setupListeners()}setupListeners(){this.scroll.domNode.addEventListener("compositionstart",e=>{this.isComposing||this.handleCompositionStart(e)}),this.scroll.domNode.addEventListener("compositionend",e=>{this.isComposing&&queueMicrotask(()=>{this.handleCompositionEnd(e)})})}handleCompositionStart(e){const t=e.target instanceof Node?this.scroll.find(e.target,!0):null;t&&!(t instanceof Ui)&&(this.emitter.emit($e.events.COMPOSITION_BEFORE_START,e),this.scroll.batchStart(),this.emitter.emit($e.events.COMPOSITION_START,e),this.isComposing=!0)}handleCompositionEnd(e){this.emitter.emit($e.events.COMPOSITION_BEFORE_END,e),this.scroll.batchEnd(),this.emitter.emit($e.events.COMPOSITION_END,e),this.isComposing=!1}}class Zs{static DEFAULTS={modules:{}};static themes={default:Zs};modules={};constructor(e,t){this.quill=e,this.options=t}init(){Object.keys(this.options.modules).forEach(e=>{this.modules[e]==null&&this.addModule(e)})}addModule(e){const t=this.quill.constructor.import(`modules/${e}`);return this.modules[e]=new t(this.quill,this.options.modules[e]||{}),this.modules[e]}}const Fv=r=>r.parentElement||r.getRootNode().host||null,zv=r=>{const e=r.getBoundingClientRect(),t="offsetWidth"in r&&Math.abs(e.width)/r.offsetWidth||1,s="offsetHeight"in r&&Math.abs(e.height)/r.offsetHeight||1;return{top:e.top,right:e.left+r.clientWidth*t,bottom:e.top+r.clientHeight*s,left:e.left}},Vl=r=>{const e=parseInt(r,10);return Number.isNaN(e)?0:e},eo=(r,e,t,s,l,n)=>r<t&&e>s?0:r<t?-(t-r+l):e>s?e-r>s-t?r+l-t:e-s+n:0,Hv=(r,e)=>{const t=r.ownerDocument;let s=e,l=r;for(;l;){const n=l===t.body,i=n?{top:0,right:window.visualViewport?.width??t.documentElement.clientWidth,bottom:window.visualViewport?.height??t.documentElement.clientHeight,left:0}:zv(l),a=getComputedStyle(l),c=eo(s.left,s.right,i.left,i.right,Vl(a.scrollPaddingLeft),Vl(a.scrollPaddingRight)),d=eo(s.top,s.bottom,i.top,i.bottom,Vl(a.scrollPaddingTop),Vl(a.scrollPaddingBottom));if(c||d)if(n)t.defaultView?.scrollBy(c,d);else{const{scrollLeft:g,scrollTop:m}=l;d&&(l.scrollTop+=d),c&&(l.scrollLeft+=c);const h=l.scrollLeft-g,p=l.scrollTop-m;s={left:s.left-h,top:s.top-p,right:s.right-h,bottom:s.bottom-p}}l=n||a.position==="fixed"?null:Fv(l)}},Gv=100,Kv=["block","break","cursor","inline","scroll","text"],Vv=(r,e,t)=>{const s=new Hs;return Kv.forEach(l=>{const n=e.query(l);n&&s.register(n)}),r.forEach(l=>{let n=e.query(l);n||t.error(`Cannot register "${l}" specified in "formats" config. Are you sure it was registered?`);let i=0;for(;n;)if(s.register(n),n="blotName"in n?n.requiredContainer??null:null,i+=1,i>Gv){t.error(`Cycle detected in registering blot requiredContainer: "${l}"`);break}}),s},Fs=Br("quill"),Wl=new Hs;hr.uiClass="ql-ui";class re{static DEFAULTS={bounds:null,modules:{clipboard:!0,keyboard:!0,history:!0,uploader:!0},placeholder:"",readOnly:!1,registry:Wl,theme:"default"};static events=$e.events;static sources=$e.sources;static version="2.0.3";static imports={delta:_e,parchment:Av,"core/module":Sr,"core/theme":Zs};static debug(e){e===!0&&(e="log"),Br.level(e)}static find(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return bi.get(e)||Wl.find(e,t)}static import(e){return this.imports[e]==null&&Fs.error(`Cannot import ${e}. Are you sure it was registered?`),this.imports[e]}static register(){if(typeof(arguments.length<=0?void 0:arguments[0])!="string"){const e=arguments.length<=0?void 0:arguments[0],t=!!(!(arguments.length<=1)&&arguments[1]),s="attrName"in e?e.attrName:e.blotName;typeof s=="string"?this.register(`formats/${s}`,e,t):Object.keys(e).forEach(l=>{this.register(l,e[l],t)})}else{const e=arguments.length<=0?void 0:arguments[0],t=arguments.length<=1?void 0:arguments[1],s=!!(!(arguments.length<=2)&&arguments[2]);this.imports[e]!=null&&!s&&Fs.warn(`Overwriting ${e} with`,t),this.imports[e]=t,(e.startsWith("blots/")||e.startsWith("formats/"))&&t&&typeof t!="boolean"&&t.blotName!=="abstract"&&Wl.register(t),typeof t.register=="function"&&t.register(Wl)}}constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.options=Wv(e,t),this.container=this.options.container,this.container==null){Fs.error("Invalid Quill container",e);return}this.options.debug&&re.debug(this.options.debug);const s=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",bi.set(this.container,this),this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.emitter=new $e;const l=Mi.blotName,n=this.options.registry.query(l);if(!n||!("blotName"in n))throw new Error(`Cannot initialize Quill without "${l}" blot`);if(this.scroll=new n(this.options.registry,this.root,{emitter:this.emitter}),this.editor=new Dv(this.scroll),this.selection=new Pv(this.scroll,this.emitter),this.composition=new Uv(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.uploader=this.theme.addModule("uploader"),this.theme.addModule("input"),this.theme.addModule("uiNode"),this.theme.init(),this.emitter.on($e.events.EDITOR_CHANGE,i=>{i===$e.events.TEXT_CHANGE&&this.root.classList.toggle("ql-blank",this.editor.isBlank())}),this.emitter.on($e.events.SCROLL_UPDATE,(i,a)=>{const c=this.selection.lastRange,[d]=this.selection.getRange(),g=c&&d?{oldRange:c,newRange:d}:void 0;ar.call(this,()=>this.editor.update(null,a,g),i)}),this.emitter.on($e.events.SCROLL_EMBED_UPDATE,(i,a)=>{const c=this.selection.lastRange,[d]=this.selection.getRange(),g=c&&d?{oldRange:c,newRange:d}:void 0;ar.call(this,()=>{const m=new _e().retain(i.offset(this)).retain({[i.statics.blotName]:a});return this.editor.update(m,[],g)},re.sources.USER)}),s){const i=this.clipboard.convert({html:`${s}<p><br></p>`,text:`
`});this.setContents(i)}this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable(),this.allowReadOnlyEdits=!1}addContainer(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof e=="string"){const s=e;e=document.createElement("div"),e.classList.add(s)}return this.container.insertBefore(e,t),e}blur(){this.selection.setRange(null)}deleteText(e,t,s){return[e,t,,s]=Ir(e,t,s),ar.call(this,()=>this.editor.deleteText(e,t),s,e,-1*t)}disable(){this.enable(!1)}editReadOnly(e){this.allowReadOnlyEdits=!0;const t=e();return this.allowReadOnlyEdits=!1,t}enable(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(e),this.container.classList.toggle("ql-disabled",!e)}focus(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.selection.focus(),e.preventScroll||this.scrollSelectionIntoView()}format(e,t){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:$e.sources.API;return ar.call(this,()=>{const l=this.getSelection(!0);let n=new _e;if(l==null)return n;if(this.scroll.query(e,Ce.BLOCK))n=this.editor.formatLine(l.index,l.length,{[e]:t});else{if(l.length===0)return this.selection.format(e,t),n;n=this.editor.formatText(l.index,l.length,{[e]:t})}return this.setSelection(l,$e.sources.SILENT),n},s)}formatLine(e,t,s,l,n){let i;return[e,t,i,n]=Ir(e,t,s,l,n),ar.call(this,()=>this.editor.formatLine(e,t,i),n,e,0)}formatText(e,t,s,l,n){let i;return[e,t,i,n]=Ir(e,t,s,l,n),ar.call(this,()=>this.editor.formatText(e,t,i),n,e,0)}getBounds(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=null;if(typeof e=="number"?s=this.selection.getBounds(e,t):s=this.selection.getBounds(e.index,e.length),!s)return null;const l=this.container.getBoundingClientRect();return{bottom:s.bottom-l.top,height:s.height,left:s.left-l.left,right:s.right-l.left,top:s.top-l.top,width:s.width}}getContents(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-e;return[e,t]=Ir(e,t),this.editor.getContents(e,t)}getFormat(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof e=="number"?this.editor.getFormat(e,t):this.editor.getFormat(e.index,e.length)}getIndex(e){return e.offset(this.scroll)}getLength(){return this.scroll.length()}getLeaf(e){return this.scroll.leaf(e)}getLine(e){return this.scroll.line(e)}getLines(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof e!="number"?this.scroll.lines(e.index,e.length):this.scroll.lines(e,t)}getModule(e){return this.theme.modules[e]}getSelection(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)&&this.focus(),this.update(),this.selection.getRange()[0]}getSemanticHTML(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;return typeof e=="number"&&(t=t??this.getLength()-e),[e,t]=Ir(e,t),this.editor.getHTML(e,t)}getText(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;return typeof e=="number"&&(t=t??this.getLength()-e),[e,t]=Ir(e,t),this.editor.getText(e,t)}hasFocus(){return this.selection.hasFocus()}insertEmbed(e,t,s){let l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:re.sources.API;return ar.call(this,()=>this.editor.insertEmbed(e,t,s),l,e)}insertText(e,t,s,l,n){let i;return[e,,i,n]=Ir(e,0,s,l,n),ar.call(this,()=>this.editor.insertText(e,t,i),n,e,t.length)}isEnabled(){return this.scroll.isEnabled()}off(){return this.emitter.off(...arguments)}on(){return this.emitter.on(...arguments)}once(){return this.emitter.once(...arguments)}removeFormat(e,t,s){return[e,t,,s]=Ir(e,t,s),ar.call(this,()=>this.editor.removeFormat(e,t),s,e)}scrollRectIntoView(e){Hv(this.root,e)}scrollIntoView(){console.warn("Quill#scrollIntoView() has been deprecated and will be removed in the near future. Please use Quill#scrollSelectionIntoView() instead."),this.scrollSelectionIntoView()}scrollSelectionIntoView(){const e=this.selection.lastRange,t=e&&this.selection.getBounds(e.index,e.length);t&&this.scrollRectIntoView(t)}setContents(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:$e.sources.API;return ar.call(this,()=>{e=new _e(e);const s=this.getLength(),l=this.editor.deleteText(0,s),n=this.editor.insertContents(0,e),i=this.editor.deleteText(this.getLength()-1,1);return l.compose(n).compose(i)},t)}setSelection(e,t,s){e==null?this.selection.setRange(null,t||re.sources.API):([e,t,,s]=Ir(e,t,s),this.selection.setRange(new gs(Math.max(0,e),t),s),s!==$e.sources.SILENT&&this.scrollSelectionIntoView())}setText(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:$e.sources.API;const s=new _e().insert(e);return this.setContents(s,t)}update(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:$e.sources.USER;const t=this.scroll.update(e);return this.selection.update(e),t}updateContents(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:$e.sources.API;return ar.call(this,()=>(e=new _e(e),this.editor.applyDelta(e)),t,!0)}}function to(r){return typeof r=="string"?document.querySelector(r):r}function Gn(r){return Object.entries(r??{}).reduce((e,t)=>{let[s,l]=t;return{...e,[s]:l===!0?{}:l}},{})}function ro(r){return Object.fromEntries(Object.entries(r).filter(e=>e[1]!==void 0))}function Wv(r,e){const t=to(r);if(!t)throw new Error("Invalid Quill container");const l=!e.theme||e.theme===re.DEFAULTS.theme?Zs:re.import(`themes/${e.theme}`);if(!l)throw new Error(`Invalid theme ${e.theme}. Did you register it?`);const{modules:n,...i}=re.DEFAULTS,{modules:a,...c}=l.DEFAULTS;let d=Gn(e.modules);d!=null&&d.toolbar&&d.toolbar.constructor!==Object&&(d={...d,toolbar:{container:d.toolbar}});const g=Vr({},Gn(n),Gn(a),d),m={...i,...ro(c),...ro(e)};let h=e.registry;return h?e.formats&&Fs.warn('Ignoring "formats" option because "registry" is specified'):h=e.formats?Vv(e.formats,m.registry,Fs):m.registry,{...m,registry:h,container:t,theme:l,modules:Object.entries(g).reduce((p,y)=>{let[$,w]=y;if(!w)return p;const S=re.import(`modules/${$}`);return S==null?(Fs.error(`Cannot load ${$} module. Are you sure you registered it?`),p):{...p,[$]:Vr({},S.DEFAULTS||{},w)}},{}),bounds:to(m.bounds)}}function ar(r,e,t,s){if(!this.isEnabled()&&e===$e.sources.USER&&!this.allowReadOnlyEdits)return new _e;let l=t==null?null:this.getSelection();const n=this.editor.delta,i=r();if(l!=null&&(t===!0&&(t=l.index),s==null?l=so(l,i,e):s!==0&&(l=so(l,t,s,e)),this.setSelection(l,$e.sources.SILENT)),i.length()>0){const a=[$e.events.TEXT_CHANGE,i,n,e];this.emitter.emit($e.events.EDITOR_CHANGE,...a),e!==$e.sources.SILENT&&this.emitter.emit(...a)}return i}function Ir(r,e,t,s,l){let n={};return typeof r.index=="number"&&typeof r.length=="number"?typeof e!="number"?(l=s,s=t,t=e,e=r.length,r=r.index):(e=r.length,r=r.index):typeof e!="number"&&(l=s,s=t,t=e,e=0),typeof t=="object"?(n=t,l=s):typeof t=="string"&&(s!=null?n[t]=s:l=t),l=l||$e.sources.API,[r,e,n,l]}function so(r,e,t,s){const l=typeof t=="number"?t:0;if(r==null)return null;let n,i;return e&&typeof e.transformPosition=="function"?[n,i]=[r.index,r.index+r.length].map(a=>e.transformPosition(a,s!==$e.sources.USER)):[n,i]=[r.index,r.index+r.length].map(a=>a<e||a===e&&s===$e.sources.USER?a:l>=0?a+l:Math.max(e,a+l)),new gs(n,i-n)}class ys extends wn{}function lo(r){return r instanceof Tt||r instanceof rr}function no(r){return typeof r.updateContent=="function"}class Zv extends Mi{static blotName="scroll";static className="ql-editor";static tagName="DIV";static defaultChild=Tt;static allowedChildren=[Tt,rr,ys];constructor(e,t,s){let{emitter:l}=s;super(e,t),this.emitter=l,this.batch=!1,this.optimize(),this.enable(),this.domNode.addEventListener("dragstart",n=>this.handleDragStart(n))}batchStart(){Array.isArray(this.batch)||(this.batch=[])}batchEnd(){if(!this.batch)return;const e=this.batch;this.batch=!1,this.update(e)}emitMount(e){this.emitter.emit($e.events.SCROLL_BLOT_MOUNT,e)}emitUnmount(e){this.emitter.emit($e.events.SCROLL_BLOT_UNMOUNT,e)}emitEmbedUpdate(e,t){this.emitter.emit($e.events.SCROLL_EMBED_UPDATE,e,t)}deleteAt(e,t){const[s,l]=this.line(e),[n]=this.line(e+t);if(super.deleteAt(e,t),n!=null&&s!==n&&l>0){if(s instanceof rr||n instanceof rr){this.optimize();return}const i=n.children.head instanceof pr?null:n.children.head;s.moveChildren(n,i),s.remove()}this.optimize()}enable(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",e?"true":"false")}formatAt(e,t,s,l){super.formatAt(e,t,s,l),this.optimize()}insertAt(e,t,s){if(e>=this.length())if(s==null||this.scroll.query(t,Ce.BLOCK)==null){const l=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(l),s==null&&t.endsWith(`
`)?l.insertAt(0,t.slice(0,-1),s):l.insertAt(0,t,s)}else{const l=this.scroll.create(t,s);this.appendChild(l)}else super.insertAt(e,t,s);this.optimize()}insertBefore(e,t){if(e.statics.scope===Ce.INLINE_BLOT){const s=this.scroll.create(this.statics.defaultChild.blotName);s.appendChild(e),super.insertBefore(s,t)}else super.insertBefore(e,t)}insertContents(e,t){const s=this.deltaToRenderBlocks(t.concat(new _e().insert(`
`))),l=s.pop();if(l==null)return;this.batchStart();const n=s.shift();if(n){const c=n.type==="block"&&(n.delta.length()===0||!this.descendant(rr,e)[0]&&e<this.length()),d=n.type==="block"?n.delta:new _e().insert({[n.key]:n.value});Kn(this,e,d);const g=n.type==="block"?1:0,m=e+d.length()+g;c&&this.insertAt(m-1,`
`);const h=er(this.line(e)[0]),p=sr.AttributeMap.diff(h,n.attributes)||{};Object.keys(p).forEach(y=>{this.formatAt(m-1,1,y,p[y])}),e=m}let[i,a]=this.children.find(e);if(s.length&&(i&&(i=i.split(a),a=0),s.forEach(c=>{if(c.type==="block"){const d=this.createBlock(c.attributes,i||void 0);Kn(d,0,c.delta)}else{const d=this.create(c.key,c.value);this.insertBefore(d,i||void 0),Object.keys(c.attributes).forEach(g=>{d.format(g,c.attributes[g])})}})),l.type==="block"&&l.delta.length()){const c=i?i.offset(i.scroll)+a:this.length();Kn(this,c,l.delta)}this.batchEnd(),this.optimize()}isEnabled(){return this.domNode.getAttribute("contenteditable")==="true"}leaf(e){const t=this.path(e).pop();if(!t)return[null,-1];const[s,l]=t;return s instanceof qt?[s,l]:[null,-1]}line(e){return e===this.length()?this.line(e-1):this.descendant(lo,e)}lines(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;const s=(l,n,i)=>{let a=[],c=i;return l.children.forEachAt(n,i,(d,g,m)=>{lo(d)?a.push(d):d instanceof wn&&(a=a.concat(s(d,g,c))),c-=m}),a};return s(this,e,t)}optimize(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch||(super.optimize(e,t),e.length>0&&this.emitter.emit($e.events.SCROLL_OPTIMIZE,e,t))}path(e){return super.path(e).slice(1)}remove(){}update(e){if(this.batch){Array.isArray(e)&&(this.batch=this.batch.concat(e));return}let t=$e.sources.USER;typeof e=="string"&&(t=e),Array.isArray(e)||(e=this.observer.takeRecords()),e=e.filter(s=>{let{target:l}=s;const n=this.find(l,!0);return n&&!no(n)}),e.length>0&&this.emitter.emit($e.events.SCROLL_BEFORE_UPDATE,t,e),super.update(e.concat([])),e.length>0&&this.emitter.emit($e.events.SCROLL_UPDATE,t,e)}updateEmbedAt(e,t,s){const[l]=this.descendant(n=>n instanceof rr,e);l&&l.statics.blotName===t&&no(l)&&l.updateContent(s)}handleDragStart(e){e.preventDefault()}deltaToRenderBlocks(e){const t=[];let s=new _e;return e.forEach(l=>{const n=l?.insert;if(n)if(typeof n=="string"){const i=n.split(`
`);i.slice(0,-1).forEach(c=>{s.insert(c,l.attributes),t.push({type:"block",delta:s,attributes:l.attributes??{}}),s=new _e});const a=i[i.length-1];a&&s.insert(a,l.attributes)}else{const i=Object.keys(n)[0];if(!i)return;this.query(i,Ce.INLINE)?s.push(l):(s.length()&&t.push({type:"block",delta:s,attributes:{}}),s=new _e,t.push({type:"blockEmbed",key:i,value:n[i],attributes:l.attributes??{}}))}}),s.length()&&t.push({type:"block",delta:s,attributes:{}}),t}createBlock(e,t){let s;const l={};Object.entries(e).forEach(a=>{let[c,d]=a;this.query(c,Ce.BLOCK&Ce.BLOT)!=null?s=c:l[c]=d});const n=this.create(s||this.statics.defaultChild.blotName,s?e[s]:void 0);this.insertBefore(n,t||void 0);const i=n.length();return Object.entries(l).forEach(a=>{let[c,d]=a;n.formatAt(0,i,c,d)}),n}}function Kn(r,e,t){t.reduce((s,l)=>{const n=sr.Op.length(l);let i=l.attributes||{};if(l.insert!=null){if(typeof l.insert=="string"){const a=l.insert;r.insertAt(s,a);const[c]=r.descendant(qt,s),d=er(c);i=sr.AttributeMap.diff(d,i)||{}}else if(typeof l.insert=="object"){const a=Object.keys(l.insert)[0];if(a==null)return s;if(r.insertAt(s,a,l.insert[a]),r.scroll.query(a,Ce.INLINE)!=null){const[d]=r.descendant(qt,s),g=er(d);i=sr.AttributeMap.diff(g,i)||{}}}}return Object.keys(i).forEach(a=>{r.formatAt(s,n,a,i[a])}),s+n},e)}const Fi={scope:Ce.BLOCK,whitelist:["right","center","justify"]},Xv=new wr("align","align",Fi),Ic=new gr("align","ql-align",Fi),Lc=new Yr("align","text-align",Fi);class Oc extends Yr{value(e){let t=super.value(e);return t.startsWith("rgb(")?(t=t.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),`#${t.split(",").map(l=>`00${parseInt(l,10).toString(16)}`.slice(-2)).join("")}`):t}}const Yv=new gr("color","ql-color",{scope:Ce.INLINE}),zi=new Oc("color","color",{scope:Ce.INLINE}),Qv=new gr("background","ql-bg",{scope:Ce.INLINE}),Hi=new Oc("background","background-color",{scope:Ce.INLINE});class $s extends ys{static create(e){const t=super.create(e);return t.setAttribute("spellcheck","false"),t}code(e,t){return this.children.map(s=>s.length()<=1?"":s.domNode.innerText).join(`
`).slice(e,e+t)}html(e,t){return`<pre>
${_n(this.code(e,t))}
</pre>`}}class Mt extends Tt{static TAB="  ";static register(){re.register($s)}}class Gi extends Bt{}Gi.blotName="code";Gi.tagName="CODE";Mt.blotName="code-block";Mt.className="ql-code-block";Mt.tagName="DIV";$s.blotName="code-block-container";$s.className="ql-code-block-container";$s.tagName="DIV";$s.allowedChildren=[Mt];Mt.allowedChildren=[fr,pr,cr];Mt.requiredContainer=$s;const Ki={scope:Ce.BLOCK,whitelist:["rtl"]},qc=new wr("direction","dir",Ki),Rc=new gr("direction","ql-direction",Ki),Pc=new Yr("direction","direction",Ki),jc={scope:Ce.INLINE,whitelist:["serif","monospace"]},Dc=new gr("font","ql-font",jc);class Jv extends Yr{value(e){return super.value(e).replace(/["']/g,"")}}const Bc=new Jv("font","font-family",jc),Mc=new gr("size","ql-size",{scope:Ce.INLINE,whitelist:["small","large","huge"]}),Uc=new Yr("size","font-size",{scope:Ce.INLINE,whitelist:["10px","18px","32px"]}),e1=Br("quill:keyboard"),t1=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey";class Sn extends Sr{static match(e,t){return["altKey","ctrlKey","metaKey","shiftKey"].some(s=>!!t[s]!==e[s]&&t[s]!==null)?!1:t.key===e.key||t.key===e.which}constructor(e,t){super(e,t),this.bindings={},Object.keys(this.options.bindings).forEach(s=>{this.options.bindings[s]&&this.addBinding(this.options.bindings[s])}),this.addBinding({key:"Enter",shiftKey:null},this.handleEnter),this.addBinding({key:"Enter",metaKey:null,ctrlKey:null,altKey:null},()=>{}),/Firefox/i.test(navigator.userAgent)?(this.addBinding({key:"Backspace"},{collapsed:!0},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0},this.handleDelete)):(this.addBinding({key:"Backspace"},{collapsed:!0,prefix:/^.?$/},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0,suffix:/^.?$/},this.handleDelete)),this.addBinding({key:"Backspace"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Delete"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Backspace",altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},this.handleBackspace),this.listen()}addBinding(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const l=s1(e);if(l==null){e1.warn("Attempted to add invalid keyboard binding",l);return}typeof t=="function"&&(t={handler:t}),typeof s=="function"&&(s={handler:s}),(Array.isArray(l.key)?l.key:[l.key]).forEach(i=>{const a={...l,key:i,...t,...s};this.bindings[a.key]=this.bindings[a.key]||[],this.bindings[a.key].push(a)})}listen(){this.quill.root.addEventListener("keydown",e=>{if(e.defaultPrevented||e.isComposing||e.keyCode===229&&(e.key==="Enter"||e.key==="Backspace"))return;const l=(this.bindings[e.key]||[]).concat(this.bindings[e.which]||[]).filter(S=>Sn.match(e,S));if(l.length===0)return;const n=re.find(e.target,!0);if(n&&n.scroll!==this.quill.scroll)return;const i=this.quill.getSelection();if(i==null||!this.quill.hasFocus())return;const[a,c]=this.quill.getLine(i.index),[d,g]=this.quill.getLeaf(i.index),[m,h]=i.length===0?[d,g]:this.quill.getLeaf(i.index+i.length),p=d instanceof dn?d.value().slice(0,g):"",y=m instanceof dn?m.value().slice(h):"",$={collapsed:i.length===0,empty:i.length===0&&a.length()<=1,format:this.quill.getFormat(i),line:a,offset:c,prefix:p,suffix:y,event:e};l.some(S=>{if(S.collapsed!=null&&S.collapsed!==$.collapsed||S.empty!=null&&S.empty!==$.empty||S.offset!=null&&S.offset!==$.offset)return!1;if(Array.isArray(S.format)){if(S.format.every(E=>$.format[E]==null))return!1}else if(typeof S.format=="object"&&!Object.keys(S.format).every(E=>S.format[E]===!0?$.format[E]!=null:S.format[E]===!1?$.format[E]==null:Di(S.format[E],$.format[E])))return!1;return S.prefix!=null&&!S.prefix.test($.prefix)||S.suffix!=null&&!S.suffix.test($.suffix)?!1:S.handler.call(this,i,$,S)!==!0})&&e.preventDefault()})}handleBackspace(e,t){const s=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(t.prefix)?2:1;if(e.index===0||this.quill.getLength()<=1)return;let l={};const[n]=this.quill.getLine(e.index);let i=new _e().retain(e.index-s).delete(s);if(t.offset===0){const[a]=this.quill.getLine(e.index-1);if(a&&!(a.statics.blotName==="block"&&a.length()<=1)){const d=n.formats(),g=this.quill.getFormat(e.index-1,1);if(l=sr.AttributeMap.diff(d,g)||{},Object.keys(l).length>0){const m=new _e().retain(e.index+n.length()-2).retain(1,l);i=i.compose(m)}}}this.quill.updateContents(i,re.sources.USER),this.quill.focus()}handleDelete(e,t){const s=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(t.suffix)?2:1;if(e.index>=this.quill.getLength()-s)return;let l={};const[n]=this.quill.getLine(e.index);let i=new _e().retain(e.index).delete(s);if(t.offset>=n.length()-1){const[a]=this.quill.getLine(e.index+1);if(a){const c=n.formats(),d=this.quill.getFormat(e.index,1);l=sr.AttributeMap.diff(c,d)||{},Object.keys(l).length>0&&(i=i.retain(a.length()-1).retain(1,l))}}this.quill.updateContents(i,re.sources.USER),this.quill.focus()}handleDeleteRange(e){Vi({range:e,quill:this.quill}),this.quill.focus()}handleEnter(e,t){const s=Object.keys(t.format).reduce((n,i)=>(this.quill.scroll.query(i,Ce.BLOCK)&&!Array.isArray(t.format[i])&&(n[i]=t.format[i]),n),{}),l=new _e().retain(e.index).delete(e.length).insert(`
`,s);this.quill.updateContents(l,re.sources.USER),this.quill.setSelection(e.index+1,re.sources.SILENT),this.quill.focus()}}const r1={bindings:{bold:Vn("bold"),italic:Vn("italic"),underline:Vn("underline"),indent:{key:"Tab",format:["blockquote","indent","list"],handler(r,e){return e.collapsed&&e.offset!==0?!0:(this.quill.format("indent","+1",re.sources.USER),!1)}},outdent:{key:"Tab",shiftKey:!0,format:["blockquote","indent","list"],handler(r,e){return e.collapsed&&e.offset!==0?!0:(this.quill.format("indent","-1",re.sources.USER),!1)}},"outdent backspace":{key:"Backspace",collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler(r,e){e.format.indent!=null?this.quill.format("indent","-1",re.sources.USER):e.format.list!=null&&this.quill.format("list",!1,re.sources.USER)}},"indent code-block":io(!0),"outdent code-block":io(!1),"remove tab":{key:"Tab",shiftKey:!0,collapsed:!0,prefix:/\t$/,handler(r){this.quill.deleteText(r.index-1,1,re.sources.USER)}},tab:{key:"Tab",handler(r,e){if(e.format.table)return!0;this.quill.history.cutoff();const t=new _e().retain(r.index).delete(r.length).insert("	");return this.quill.updateContents(t,re.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(r.index+1,re.sources.SILENT),!1}},"blockquote empty enter":{key:"Enter",collapsed:!0,format:["blockquote"],empty:!0,handler(){this.quill.format("blockquote",!1,re.sources.USER)}},"list empty enter":{key:"Enter",collapsed:!0,format:["list"],empty:!0,handler(r,e){const t={list:!1};e.format.indent&&(t.indent=!1),this.quill.formatLine(r.index,r.length,t,re.sources.USER)}},"checklist enter":{key:"Enter",collapsed:!0,format:{list:"checked"},handler(r){const[e,t]=this.quill.getLine(r.index),s={...e.formats(),list:"checked"},l=new _e().retain(r.index).insert(`
`,s).retain(e.length()-t-1).retain(1,{list:"unchecked"});this.quill.updateContents(l,re.sources.USER),this.quill.setSelection(r.index+1,re.sources.SILENT),this.quill.scrollSelectionIntoView()}},"header enter":{key:"Enter",collapsed:!0,format:["header"],suffix:/^$/,handler(r,e){const[t,s]=this.quill.getLine(r.index),l=new _e().retain(r.index).insert(`
`,e.format).retain(t.length()-s-1).retain(1,{header:null});this.quill.updateContents(l,re.sources.USER),this.quill.setSelection(r.index+1,re.sources.SILENT),this.quill.scrollSelectionIntoView()}},"table backspace":{key:"Backspace",format:["table"],collapsed:!0,offset:0,handler(){}},"table delete":{key:"Delete",format:["table"],collapsed:!0,suffix:/^$/,handler(){}},"table enter":{key:"Enter",shiftKey:null,format:["table"],handler(r){const e=this.quill.getModule("table");if(e){const[t,s,l,n]=e.getTable(r),i=l1(t,s,l,n);if(i==null)return;let a=t.offset();if(i<0){const c=new _e().retain(a).insert(`
`);this.quill.updateContents(c,re.sources.USER),this.quill.setSelection(r.index+1,r.length,re.sources.SILENT)}else if(i>0){a+=t.length();const c=new _e().retain(a).insert(`
`);this.quill.updateContents(c,re.sources.USER),this.quill.setSelection(a,re.sources.USER)}}}},"table tab":{key:"Tab",shiftKey:null,format:["table"],handler(r,e){const{event:t,line:s}=e,l=s.offset(this.quill.scroll);t.shiftKey?this.quill.setSelection(l-1,re.sources.USER):this.quill.setSelection(l+s.length(),re.sources.USER)}},"list autofill":{key:" ",shiftKey:null,collapsed:!0,format:{"code-block":!1,blockquote:!1,table:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler(r,e){if(this.quill.scroll.query("list")==null)return!0;const{length:t}=e.prefix,[s,l]=this.quill.getLine(r.index);if(l>t)return!0;let n;switch(e.prefix.trim()){case"[]":case"[ ]":n="unchecked";break;case"[x]":n="checked";break;case"-":case"*":n="bullet";break;default:n="ordered"}this.quill.insertText(r.index," ",re.sources.USER),this.quill.history.cutoff();const i=new _e().retain(r.index-l).delete(t+1).retain(s.length()-2-l).retain(1,{list:n});return this.quill.updateContents(i,re.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(r.index-t,re.sources.SILENT),!1}},"code exit":{key:"Enter",collapsed:!0,format:["code-block"],prefix:/^$/,suffix:/^\s*$/,handler(r){const[e,t]=this.quill.getLine(r.index);let s=2,l=e;for(;l!=null&&l.length()<=1&&l.formats()["code-block"];)if(l=l.prev,s-=1,s<=0){const n=new _e().retain(r.index+e.length()-t-2).retain(1,{"code-block":null}).delete(1);return this.quill.updateContents(n,re.sources.USER),this.quill.setSelection(r.index-1,re.sources.SILENT),!1}return!0}},"embed left":Zl("ArrowLeft",!1),"embed left shift":Zl("ArrowLeft",!0),"embed right":Zl("ArrowRight",!1),"embed right shift":Zl("ArrowRight",!0),"table down":ao(!1),"table up":ao(!0)}};Sn.DEFAULTS=r1;function io(r){return{key:"Tab",shiftKey:!r,format:{"code-block":!0},handler(e,t){let{event:s}=t;const l=this.quill.scroll.query("code-block"),{TAB:n}=l;if(e.length===0&&!s.shiftKey){this.quill.insertText(e.index,n,re.sources.USER),this.quill.setSelection(e.index+n.length,re.sources.SILENT);return}const i=e.length===0?this.quill.getLines(e.index,1):this.quill.getLines(e);let{index:a,length:c}=e;i.forEach((d,g)=>{r?(d.insertAt(0,n),g===0?a+=n.length:c+=n.length):d.domNode.textContent.startsWith(n)&&(d.deleteAt(0,n.length),g===0?a-=n.length:c-=n.length)}),this.quill.update(re.sources.USER),this.quill.setSelection(a,c,re.sources.SILENT)}}}function Zl(r,e){return{key:r,shiftKey:e,altKey:null,[r==="ArrowLeft"?"prefix":"suffix"]:/^$/,handler(s){let{index:l}=s;r==="ArrowRight"&&(l+=s.length+1);const[n]=this.quill.getLeaf(l);return n instanceof Xt?(r==="ArrowLeft"?e?this.quill.setSelection(s.index-1,s.length+1,re.sources.USER):this.quill.setSelection(s.index-1,re.sources.USER):e?this.quill.setSelection(s.index,s.length+1,re.sources.USER):this.quill.setSelection(s.index+s.length+1,re.sources.USER),!1):!0}}}function Vn(r){return{key:r[0],shortKey:!0,handler(e,t){this.quill.format(r,!t.format[r],re.sources.USER)}}}function ao(r){return{key:r?"ArrowUp":"ArrowDown",collapsed:!0,format:["table"],handler(e,t){const s=r?"prev":"next",l=t.line,n=l.parent[s];if(n!=null){if(n.statics.blotName==="table-row"){let i=n.children.head,a=l;for(;a.prev!=null;)a=a.prev,i=i.next;const c=i.offset(this.quill.scroll)+Math.min(t.offset,i.length()-1);this.quill.setSelection(c,0,re.sources.USER)}}else{const i=l.table()[s];i!=null&&(r?this.quill.setSelection(i.offset(this.quill.scroll)+i.length()-1,0,re.sources.USER):this.quill.setSelection(i.offset(this.quill.scroll),0,re.sources.USER))}return!1}}}function s1(r){if(typeof r=="string"||typeof r=="number")r={key:r};else if(typeof r=="object")r=Ms(r);else return null;return r.shortKey&&(r[t1]=r.shortKey,delete r.shortKey),r}function Vi(r){let{quill:e,range:t}=r;const s=e.getLines(t);let l={};if(s.length>1){const n=s[0].formats(),i=s[s.length-1].formats();l=sr.AttributeMap.diff(i,n)||{}}e.deleteText(t,re.sources.USER),Object.keys(l).length>0&&e.formatLine(t.index,1,l,re.sources.USER),e.setSelection(t.index,re.sources.SILENT)}function l1(r,e,t,s){return e.prev==null&&e.next==null?t.prev==null&&t.next==null?s===0?-1:1:t.prev==null?-1:1:e.prev==null?-1:e.next==null?1:null}const n1=/font-weight:\s*normal/,i1=["P","OL","UL"],oo=r=>r&&i1.includes(r.tagName),a1=r=>{Array.from(r.querySelectorAll("br")).filter(e=>oo(e.previousElementSibling)&&oo(e.nextElementSibling)).forEach(e=>{e.parentNode?.removeChild(e)})},o1=r=>{Array.from(r.querySelectorAll('b[style*="font-weight"]')).filter(e=>e.getAttribute("style")?.match(n1)).forEach(e=>{const t=r.createDocumentFragment();t.append(...e.childNodes),e.parentNode?.replaceChild(t,e)})};function c1(r){r.querySelector('[id^="docs-internal-guid-"]')&&(o1(r),a1(r))}const d1=/\bmso-list:[^;]*ignore/i,u1=/\bmso-list:[^;]*\bl(\d+)/i,h1=/\bmso-list:[^;]*\blevel(\d+)/i,f1=(r,e)=>{const t=r.getAttribute("style"),s=t?.match(u1);if(!s)return null;const l=Number(s[1]),n=t?.match(h1),i=n?Number(n[1]):1,a=new RegExp(`@list l${l}:level${i}\\s*\\{[^\\}]*mso-level-number-format:\\s*([\\w-]+)`,"i"),c=e.match(a),d=c&&c[1]==="bullet"?"bullet":"ordered";return{id:l,indent:i,type:d,element:r}},g1=r=>{const e=Array.from(r.querySelectorAll("[style*=mso-list]")),t=[],s=[];e.forEach(i=>{(i.getAttribute("style")||"").match(d1)?t.push(i):s.push(i)}),t.forEach(i=>i.parentNode?.removeChild(i));const l=r.documentElement.innerHTML,n=s.map(i=>f1(i,l)).filter(i=>i);for(;n.length;){const i=[];let a=n.shift();for(;a;)i.push(a),a=n.length&&n[0]?.element===a.element.nextElementSibling&&n[0].id===a.id?n.shift():null;const c=document.createElement("ul");i.forEach(m=>{const h=document.createElement("li");h.setAttribute("data-list",m.type),m.indent>1&&h.setAttribute("class",`ql-indent-${m.indent-1}`),h.innerHTML=m.element.innerHTML,c.appendChild(h)});const d=i[0]?.element,{parentNode:g}=d??{};d&&g?.replaceChild(c,d),i.slice(1).forEach(m=>{let{element:h}=m;g?.removeChild(h)})}};function p1(r){r.documentElement.getAttribute("xmlns:w")==="urn:schemas-microsoft-com:office:word"&&g1(r)}const b1=[p1,c1],m1=r=>{r.documentElement&&b1.forEach(e=>{e(r)})},x1=Br("quill:clipboard"),v1=[[Node.TEXT_NODE,L1],[Node.TEXT_NODE,uo],["br",C1],[Node.ELEMENT_NODE,uo],[Node.ELEMENT_NODE,S1],[Node.ELEMENT_NODE,_1],[Node.ELEMENT_NODE,T1],["li",E1],["ol, ul",N1],["pre",A1],["tr",I1],["b",Wn("bold")],["i",Wn("italic")],["strike",Wn("strike")],["style",k1]],y1=[Xv,qc].reduce((r,e)=>(r[e.keyName]=e,r),{}),co=[Lc,Hi,zi,Pc,Bc,Uc].reduce((r,e)=>(r[e.keyName]=e,r),{});class $1 extends Sr{static DEFAULTS={matchers:[]};constructor(e,t){super(e,t),this.quill.root.addEventListener("copy",s=>this.onCaptureCopy(s,!1)),this.quill.root.addEventListener("cut",s=>this.onCaptureCopy(s,!0)),this.quill.root.addEventListener("paste",this.onCapturePaste.bind(this)),this.matchers=[],v1.concat(this.options.matchers??[]).forEach(s=>{let[l,n]=s;this.addMatcher(l,n)})}addMatcher(e,t){this.matchers.push([e,t])}convert(e){let{html:t,text:s}=e,l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(l[Mt.blotName])return new _e().insert(s||"",{[Mt.blotName]:l[Mt.blotName]});if(!t)return new _e().insert(s||"",l);const n=this.convertHTML(t);return ql(n,`
`)&&(n.ops[n.ops.length-1].attributes==null||l.table)?n.compose(new _e().retain(n.length()-1).delete(1)):n}normalizeHTML(e){m1(e)}convertHTML(e){const t=new DOMParser().parseFromString(e,"text/html");this.normalizeHTML(t);const s=t.body,l=new WeakMap,[n,i]=this.prepareMatching(s,l);return Wi(this.quill.scroll,s,n,i,l)}dangerouslyPasteHTML(e,t){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:re.sources.API;if(typeof e=="string"){const l=this.convert({html:e,text:""});this.quill.setContents(l,t),this.quill.setSelection(0,re.sources.SILENT)}else{const l=this.convert({html:t,text:""});this.quill.updateContents(new _e().retain(e).concat(l),s),this.quill.setSelection(e+l.length(),re.sources.SILENT)}}onCaptureCopy(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(e.defaultPrevented)return;e.preventDefault();const[s]=this.quill.selection.getRange();if(s==null)return;const{html:l,text:n}=this.onCopy(s,t);e.clipboardData?.setData("text/plain",n),e.clipboardData?.setData("text/html",l),t&&Vi({range:s,quill:this.quill})}normalizeURIList(e){return e.split(/\r?\n/).filter(t=>t[0]!=="#").join(`
`)}onCapturePaste(e){if(e.defaultPrevented||!this.quill.isEnabled())return;e.preventDefault();const t=this.quill.getSelection(!0);if(t==null)return;const s=e.clipboardData?.getData("text/html");let l=e.clipboardData?.getData("text/plain");if(!s&&!l){const i=e.clipboardData?.getData("text/uri-list");i&&(l=this.normalizeURIList(i))}const n=Array.from(e.clipboardData?.files||[]);if(!s&&n.length>0){this.quill.uploader.upload(t,n);return}if(s&&n.length>0){const i=new DOMParser().parseFromString(s,"text/html");if(i.body.childElementCount===1&&i.body.firstElementChild?.tagName==="IMG"){this.quill.uploader.upload(t,n);return}}this.onPaste(t,{html:s,text:l})}onCopy(e){const t=this.quill.getText(e);return{html:this.quill.getSemanticHTML(e),text:t}}onPaste(e,t){let{text:s,html:l}=t;const n=this.quill.getFormat(e.index),i=this.convert({text:s,html:l},n);x1.log("onPaste",i,{text:s,html:l});const a=new _e().retain(e.index).delete(e.length).concat(i);this.quill.updateContents(a,re.sources.USER),this.quill.setSelection(a.length()-e.length,re.sources.SILENT),this.quill.scrollSelectionIntoView()}prepareMatching(e,t){const s=[],l=[];return this.matchers.forEach(n=>{const[i,a]=n;switch(i){case Node.TEXT_NODE:l.push(a);break;case Node.ELEMENT_NODE:s.push(a);break;default:Array.from(e.querySelectorAll(i)).forEach(c=>{t.has(c)?t.get(c)?.push(a):t.set(c,[a])});break}}),[s,l]}}function ws(r,e,t,s){return s.query(e)?r.reduce((l,n)=>{if(!n.insert)return l;if(n.attributes&&n.attributes[e])return l.push(n);const i=t?{[e]:t}:{};return l.insert(n.insert,{...i,...n.attributes})},new _e):r}function ql(r,e){let t="";for(let s=r.ops.length-1;s>=0&&t.length<e.length;--s){const l=r.ops[s];if(typeof l.insert!="string")break;t=l.insert+t}return t.slice(-1*e.length)===e}function Kr(r,e){if(!(r instanceof Element))return!1;const t=e.query(r);return t&&t.prototype instanceof Xt?!1:["address","article","blockquote","canvas","dd","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","iframe","li","main","nav","ol","output","p","pre","section","table","td","tr","ul","video"].includes(r.tagName.toLowerCase())}function w1(r,e){return r.previousElementSibling&&r.nextElementSibling&&!Kr(r.previousElementSibling,e)&&!Kr(r.nextElementSibling,e)}const Xl=new WeakMap;function Fc(r){return r==null?!1:(Xl.has(r)||(r.tagName==="PRE"?Xl.set(r,!0):Xl.set(r,Fc(r.parentNode))),Xl.get(r))}function Wi(r,e,t,s,l){return e.nodeType===e.TEXT_NODE?s.reduce((n,i)=>i(e,n,r),new _e):e.nodeType===e.ELEMENT_NODE?Array.from(e.childNodes||[]).reduce((n,i)=>{let a=Wi(r,i,t,s,l);return i.nodeType===e.ELEMENT_NODE&&(a=t.reduce((c,d)=>d(i,c,r),a),a=(l.get(i)||[]).reduce((c,d)=>d(i,c,r),a)),n.concat(a)},new _e):new _e}function Wn(r){return(e,t,s)=>ws(t,r,!0,s)}function _1(r,e,t){const s=wr.keys(r),l=gr.keys(r),n=Yr.keys(r),i={};return s.concat(l).concat(n).forEach(a=>{let c=t.query(a,Ce.ATTRIBUTE);c!=null&&(i[c.attrName]=c.value(r),i[c.attrName])||(c=y1[a],c!=null&&(c.attrName===a||c.keyName===a)&&(i[c.attrName]=c.value(r)||void 0),c=co[a],c!=null&&(c.attrName===a||c.keyName===a)&&(c=co[a],i[c.attrName]=c.value(r)||void 0))}),Object.entries(i).reduce((a,c)=>{let[d,g]=c;return ws(a,d,g,t)},e)}function S1(r,e,t){const s=t.query(r);if(s==null)return e;if(s.prototype instanceof Xt){const l={},n=s.value(r);if(n!=null)return l[s.blotName]=n,new _e().insert(l,s.formats(r,t))}else if(s.prototype instanceof Nl&&!ql(e,`
`)&&e.insert(`
`),"blotName"in s&&"formats"in s&&typeof s.formats=="function")return ws(e,s.blotName,s.formats(r,t),t);return e}function C1(r,e){return ql(e,`
`)||e.insert(`
`),e}function A1(r,e,t){const s=t.query("code-block"),l=s&&"formats"in s&&typeof s.formats=="function"?s.formats(r,t):!0;return ws(e,"code-block",l,t)}function k1(){return new _e}function E1(r,e,t){const s=t.query(r);if(s==null||s.blotName!=="list"||!ql(e,`
`))return e;let l=-1,n=r.parentNode;for(;n!=null;)["OL","UL"].includes(n.tagName)&&(l+=1),n=n.parentNode;return l<=0?e:e.reduce((i,a)=>a.insert?a.attributes&&typeof a.attributes.indent=="number"?i.push(a):i.insert(a.insert,{indent:l,...a.attributes||{}}):i,new _e)}function N1(r,e,t){const s=r;let l=s.tagName==="OL"?"ordered":"bullet";const n=s.getAttribute("data-checked");return n&&(l=n==="true"?"checked":"unchecked"),ws(e,"list",l,t)}function uo(r,e,t){if(!ql(e,`
`)){if(Kr(r,t)&&(r.childNodes.length>0||r instanceof HTMLParagraphElement))return e.insert(`
`);if(e.length()>0&&r.nextSibling){let s=r.nextSibling;for(;s!=null;){if(Kr(s,t))return e.insert(`
`);const l=t.query(s);if(l&&l.prototype instanceof rr)return e.insert(`
`);s=s.firstChild}}}return e}function T1(r,e,t){const s={},l=r.style||{};return l.fontStyle==="italic"&&(s.italic=!0),l.textDecoration==="underline"&&(s.underline=!0),l.textDecoration==="line-through"&&(s.strike=!0),(l.fontWeight?.startsWith("bold")||parseInt(l.fontWeight,10)>=700)&&(s.bold=!0),e=Object.entries(s).reduce((n,i)=>{let[a,c]=i;return ws(n,a,c,t)},e),parseFloat(l.textIndent||0)>0?new _e().insert("	").concat(e):e}function I1(r,e,t){const s=r.parentElement?.tagName==="TABLE"?r.parentElement:r.parentElement?.parentElement;if(s!=null){const n=Array.from(s.querySelectorAll("tr")).indexOf(r)+1;return ws(e,"table",n,t)}return e}function L1(r,e,t){let s=r.data;if(r.parentElement?.tagName==="O:P")return e.insert(s.trim());if(!Fc(r)){if(s.trim().length===0&&s.includes(`
`)&&!w1(r,t))return e;s=s.replace(/[^\S\u00a0]/g," "),s=s.replace(/ {2,}/g," "),(r.previousSibling==null&&r.parentElement!=null&&Kr(r.parentElement,t)||r.previousSibling instanceof Element&&Kr(r.previousSibling,t))&&(s=s.replace(/^ /,"")),(r.nextSibling==null&&r.parentElement!=null&&Kr(r.parentElement,t)||r.nextSibling instanceof Element&&Kr(r.nextSibling,t))&&(s=s.replace(/ $/,"")),s=s.replaceAll("Â "," ")}return e.insert(s)}class O1 extends Sr{static DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};lastRecorded=0;ignoreChange=!1;stack={undo:[],redo:[]};currentRange=null;constructor(e,t){super(e,t),this.quill.on(re.events.EDITOR_CHANGE,(s,l,n,i)=>{s===re.events.SELECTION_CHANGE?l&&i!==re.sources.SILENT&&(this.currentRange=l):s===re.events.TEXT_CHANGE&&(this.ignoreChange||(!this.options.userOnly||i===re.sources.USER?this.record(l,n):this.transform(l)),this.currentRange=vi(this.currentRange,l))}),this.quill.keyboard.addBinding({key:"z",shortKey:!0},this.undo.bind(this)),this.quill.keyboard.addBinding({key:["z","Z"],shortKey:!0,shiftKey:!0},this.redo.bind(this)),/Win/i.test(navigator.platform)&&this.quill.keyboard.addBinding({key:"y",shortKey:!0},this.redo.bind(this)),this.quill.root.addEventListener("beforeinput",s=>{s.inputType==="historyUndo"?(this.undo(),s.preventDefault()):s.inputType==="historyRedo"&&(this.redo(),s.preventDefault())})}change(e,t){if(this.stack[e].length===0)return;const s=this.stack[e].pop();if(!s)return;const l=this.quill.getContents(),n=s.delta.invert(l);this.stack[t].push({delta:n,range:vi(s.range,n)}),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(s.delta,re.sources.USER),this.ignoreChange=!1,this.restoreSelection(s)}clear(){this.stack={undo:[],redo:[]}}cutoff(){this.lastRecorded=0}record(e,t){if(e.ops.length===0)return;this.stack.redo=[];let s=e.invert(t),l=this.currentRange;const n=Date.now();if(this.lastRecorded+this.options.delay>n&&this.stack.undo.length>0){const i=this.stack.undo.pop();i&&(s=s.compose(i.delta),l=i.range)}else this.lastRecorded=n;s.length()!==0&&(this.stack.undo.push({delta:s,range:l}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift())}redo(){this.change("redo","undo")}transform(e){ho(this.stack.undo,e),ho(this.stack.redo,e)}undo(){this.change("undo","redo")}restoreSelection(e){if(e.range)this.quill.setSelection(e.range,re.sources.USER);else{const t=R1(this.quill.scroll,e.delta);this.quill.setSelection(t,re.sources.USER)}}}function ho(r,e){let t=e;for(let s=r.length-1;s>=0;s-=1){const l=r[s];r[s]={delta:t.transform(l.delta,!0),range:l.range&&vi(l.range,t)},t=l.delta.transform(t),r[s].delta.length()===0&&r.splice(s,1)}}function q1(r,e){const t=e.ops[e.ops.length-1];return t==null?!1:t.insert!=null?typeof t.insert=="string"&&t.insert.endsWith(`
`):t.attributes!=null?Object.keys(t.attributes).some(s=>r.query(s,Ce.BLOCK)!=null):!1}function R1(r,e){const t=e.reduce((l,n)=>l+(n.delete||0),0);let s=e.length()-t;return q1(r,e)&&(s-=1),s}function vi(r,e){if(!r)return r;const t=e.transformPosition(r.index),s=e.transformPosition(r.index+r.length);return{index:t,length:s-t}}class zc extends Sr{constructor(e,t){super(e,t),e.root.addEventListener("drop",s=>{s.preventDefault();let l=null;if(document.caretRangeFromPoint)l=document.caretRangeFromPoint(s.clientX,s.clientY);else if(document.caretPositionFromPoint){const i=document.caretPositionFromPoint(s.clientX,s.clientY);l=document.createRange(),l.setStart(i.offsetNode,i.offset),l.setEnd(i.offsetNode,i.offset)}const n=l&&e.selection.normalizeNative(l);if(n){const i=e.selection.normalizedToRange(n);s.dataTransfer?.files&&this.upload(i,s.dataTransfer.files)}})}upload(e,t){const s=[];Array.from(t).forEach(l=>{l&&this.options.mimetypes?.includes(l.type)&&s.push(l)}),s.length>0&&this.options.handler.call(this,e,s)}}zc.DEFAULTS={mimetypes:["image/png","image/jpeg"],handler(r,e){if(!this.quill.scroll.query("image"))return;const t=e.map(s=>new Promise(l=>{const n=new FileReader;n.onload=()=>{l(n.result)},n.readAsDataURL(s)}));Promise.all(t).then(s=>{const l=s.reduce((n,i)=>n.insert({image:i}),new _e().retain(r.index).delete(r.length));this.quill.updateContents(l,$e.sources.USER),this.quill.setSelection(r.index+s.length,$e.sources.SILENT)})}};const P1=["insertText","insertReplacementText"];class j1 extends Sr{constructor(e,t){super(e,t),e.root.addEventListener("beforeinput",s=>{this.handleBeforeInput(s)}),/Android/i.test(navigator.userAgent)||e.on(re.events.COMPOSITION_BEFORE_START,()=>{this.handleCompositionStart()})}deleteRange(e){Vi({range:e,quill:this.quill})}replaceText(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";if(e.length===0)return!1;if(t){const s=this.quill.getFormat(e.index,1);this.deleteRange(e),this.quill.updateContents(new _e().retain(e.index).insert(t,s),re.sources.USER)}else this.deleteRange(e);return this.quill.setSelection(e.index+t.length,0,re.sources.SILENT),!0}handleBeforeInput(e){if(this.quill.composition.isComposing||e.defaultPrevented||!P1.includes(e.inputType))return;const t=e.getTargetRanges?e.getTargetRanges()[0]:null;if(!t||t.collapsed===!0)return;const s=D1(e);if(s==null)return;const l=this.quill.selection.normalizeNative(t),n=l?this.quill.selection.normalizedToRange(l):null;n&&this.replaceText(n,s)&&e.preventDefault()}handleCompositionStart(){const e=this.quill.getSelection();e&&this.replaceText(e)}}function D1(r){return typeof r.data=="string"?r.data:r.dataTransfer?.types.includes("text/plain")?r.dataTransfer.getData("text/plain"):null}const B1=/Mac/i.test(navigator.platform),M1=100,U1=r=>!!(r.key==="ArrowLeft"||r.key==="ArrowRight"||r.key==="ArrowUp"||r.key==="ArrowDown"||r.key==="Home"||B1&&r.key==="a"&&r.ctrlKey===!0);class F1 extends Sr{isListening=!1;selectionChangeDeadline=0;constructor(e,t){super(e,t),this.handleArrowKeys(),this.handleNavigationShortcuts()}handleArrowKeys(){this.quill.keyboard.addBinding({key:["ArrowLeft","ArrowRight"],offset:0,shiftKey:null,handler(e,t){let{line:s,event:l}=t;if(!(s instanceof hr)||!s.uiNode)return!0;const n=getComputedStyle(s.domNode).direction==="rtl";return n&&l.key!=="ArrowRight"||!n&&l.key!=="ArrowLeft"?!0:(this.quill.setSelection(e.index-1,e.length+(l.shiftKey?1:0),re.sources.USER),!1)}})}handleNavigationShortcuts(){this.quill.root.addEventListener("keydown",e=>{!e.defaultPrevented&&U1(e)&&this.ensureListeningToSelectionChange()})}ensureListeningToSelectionChange(){if(this.selectionChangeDeadline=Date.now()+M1,this.isListening)return;this.isListening=!0;const e=()=>{this.isListening=!1,Date.now()<=this.selectionChangeDeadline&&this.handleSelectionChange()};document.addEventListener("selectionchange",e,{once:!0})}handleSelectionChange(){const e=document.getSelection();if(!e)return;const t=e.getRangeAt(0);if(t.collapsed!==!0||t.startOffset!==0)return;const s=this.quill.scroll.find(t.startContainer);if(!(s instanceof hr)||!s.uiNode)return;const l=document.createRange();l.setStartAfter(s.uiNode),l.setEndAfter(s.uiNode),e.removeAllRanges(),e.addRange(l)}}re.register({"blots/block":Tt,"blots/block/embed":rr,"blots/break":pr,"blots/container":ys,"blots/cursor":cr,"blots/embed":Ui,"blots/inline":Bt,"blots/scroll":Zv,"blots/text":fr,"modules/clipboard":$1,"modules/history":O1,"modules/keyboard":Sn,"modules/uploader":zc,"modules/input":j1,"modules/uiNode":F1});class z1 extends gr{add(e,t){let s=0;if(t==="+1"||t==="-1"){const l=this.value(e)||0;s=t==="+1"?l+1:l-1}else typeof t=="number"&&(s=t);return s===0?(this.remove(e),!0):super.add(e,s.toString())}canAdd(e,t){return super.canAdd(e,t)||super.canAdd(e,parseInt(t,10))}value(e){return parseInt(super.value(e),10)||void 0}}const H1=new z1("indent","ql-indent",{scope:Ce.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});class G1 extends Tt{static blotName="blockquote";static tagName="blockquote"}class K1 extends Tt{static blotName="header";static tagName=["H1","H2","H3","H4","H5","H6"];static formats(e){return this.tagName.indexOf(e.tagName)+1}}class Rl extends ys{}Rl.blotName="list-container";Rl.tagName="OL";class Pl extends Tt{static create(e){const t=super.create();return t.setAttribute("data-list",e),t}static formats(e){return e.getAttribute("data-list")||void 0}static register(){re.register(Rl)}constructor(e,t){super(e,t);const s=t.ownerDocument.createElement("span"),l=n=>{if(!e.isEnabled())return;const i=this.statics.formats(t,e);i==="checked"?(this.format("list","unchecked"),n.preventDefault()):i==="unchecked"&&(this.format("list","checked"),n.preventDefault())};s.addEventListener("mousedown",l),s.addEventListener("touchstart",l),this.attachUI(s)}format(e,t){e===this.statics.blotName&&t?this.domNode.setAttribute("data-list",t):super.format(e,t)}}Pl.blotName="list";Pl.tagName="LI";Rl.allowedChildren=[Pl];Pl.requiredContainer=Rl;class Zi extends Bt{static blotName="bold";static tagName=["STRONG","B"];static create(){return super.create()}static formats(){return!0}optimize(e){super.optimize(e),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}class V1 extends Zi{static blotName="italic";static tagName=["EM","I"]}class un extends Bt{static blotName="link";static tagName="A";static SANITIZED_URL="about:blank";static PROTOCOL_WHITELIST=["http","https","mailto","tel","sms"];static create(e){const t=super.create(e);return t.setAttribute("href",this.sanitize(e)),t.setAttribute("rel","noopener noreferrer"),t.setAttribute("target","_blank"),t}static formats(e){return e.getAttribute("href")}static sanitize(e){return Hc(e,this.PROTOCOL_WHITELIST)?e:this.SANITIZED_URL}format(e,t){e!==this.statics.blotName||!t?super.format(e,t):this.domNode.setAttribute("href",this.constructor.sanitize(t))}}function Hc(r,e){const t=document.createElement("a");t.href=r;const s=t.href.slice(0,t.href.indexOf(":"));return e.indexOf(s)>-1}class W1 extends Bt{static blotName="script";static tagName=["SUB","SUP"];static create(e){return e==="super"?document.createElement("sup"):e==="sub"?document.createElement("sub"):super.create(e)}static formats(e){if(e.tagName==="SUB")return"sub";if(e.tagName==="SUP")return"super"}}class Z1 extends Zi{static blotName="strike";static tagName=["S","STRIKE"]}class X1 extends Bt{static blotName="underline";static tagName="U"}class Y1 extends Ui{static blotName="formula";static className="ql-formula";static tagName="SPAN";static create(e){if(window.katex==null)throw new Error("Formula module requires KaTeX.");const t=super.create(e);return typeof e=="string"&&(window.katex.render(e,t,{throwOnError:!1,errorColor:"#f00"}),t.setAttribute("data-value",e)),t}static value(e){return e.getAttribute("data-value")}html(){const{formula:e}=this.value();return`<span>${e}</span>`}}const fo=["alt","height","width"];class Q1 extends Xt{static blotName="image";static tagName="IMG";static create(e){const t=super.create(e);return typeof e=="string"&&t.setAttribute("src",this.sanitize(e)),t}static formats(e){return fo.reduce((t,s)=>(e.hasAttribute(s)&&(t[s]=e.getAttribute(s)),t),{})}static match(e){return/\.(jpe?g|gif|png)$/.test(e)||/^data:image\/.+;base64/.test(e)}static sanitize(e){return Hc(e,["http","https","data"])?e:"//:0"}static value(e){return e.getAttribute("src")}format(e,t){fo.indexOf(e)>-1?t?this.domNode.setAttribute(e,t):this.domNode.removeAttribute(e):super.format(e,t)}}const go=["height","width"];class J1 extends rr{static blotName="video";static className="ql-video";static tagName="IFRAME";static create(e){const t=super.create(e);return t.setAttribute("frameborder","0"),t.setAttribute("allowfullscreen","true"),t.setAttribute("src",this.sanitize(e)),t}static formats(e){return go.reduce((t,s)=>(e.hasAttribute(s)&&(t[s]=e.getAttribute(s)),t),{})}static sanitize(e){return un.sanitize(e)}static value(e){return e.getAttribute("src")}format(e,t){go.indexOf(e)>-1?t?this.domNode.setAttribute(e,t):this.domNode.removeAttribute(e):super.format(e,t)}html(){const{video:e}=this.value();return`<a href="${e}">${e}</a>`}}const vl=new gr("code-token","hljs",{scope:Ce.INLINE});class Rr extends Bt{static formats(e,t){for(;e!=null&&e!==t.domNode;){if(e.classList&&e.classList.contains(Mt.className))return super.formats(e,t);e=e.parentNode}}constructor(e,t,s){super(e,t,s),vl.add(this.domNode,s)}format(e,t){e!==Rr.blotName?super.format(e,t):t?vl.add(this.domNode,t):(vl.remove(this.domNode),this.domNode.classList.remove(this.statics.className))}optimize(){super.optimize(...arguments),vl.value(this.domNode)||this.unwrap()}}Rr.blotName="code-token";Rr.className="ql-token";class tr extends Mt{static create(e){const t=super.create(e);return typeof e=="string"&&t.setAttribute("data-language",e),t}static formats(e){return e.getAttribute("data-language")||"plain"}static register(){}format(e,t){e===this.statics.blotName&&t?this.domNode.setAttribute("data-language",t):super.format(e,t)}replaceWith(e,t){return this.formatAt(0,this.length(),Rr.blotName,!1),super.replaceWith(e,t)}}class wl extends $s{attach(){super.attach(),this.forceNext=!1,this.scroll.emitMount(this)}format(e,t){e===tr.blotName&&(this.forceNext=!0,this.children.forEach(s=>{s.format(e,t)}))}formatAt(e,t,s,l){s===tr.blotName&&(this.forceNext=!0),super.formatAt(e,t,s,l)}highlight(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(this.children.head==null)return;const l=`${Array.from(this.domNode.childNodes).filter(i=>i!==this.uiNode).map(i=>i.textContent).join(`
`)}
`,n=tr.formats(this.children.head.domNode);if(t||this.forceNext||this.cachedText!==l){if(l.trim().length>0||this.cachedText==null){const i=this.children.reduce((c,d)=>c.concat(Nc(d,!1)),new _e),a=e(l,n);i.diff(a).reduce((c,d)=>{let{retain:g,attributes:m}=d;return g?(m&&Object.keys(m).forEach(h=>{[tr.blotName,Rr.blotName].includes(h)&&this.formatAt(c,g,h,m[h])}),c+g):c},0)}this.cachedText=l,this.forceNext=!1}}html(e,t){const[s]=this.children.find(e);return`<pre data-language="${s?tr.formats(s.domNode):"plain"}">
${_n(this.code(e,t))}
</pre>`}optimize(e){if(super.optimize(e),this.parent!=null&&this.children.head!=null&&this.uiNode!=null){const t=tr.formats(this.children.head.domNode);t!==this.uiNode.value&&(this.uiNode.value=t)}}}wl.allowedChildren=[tr];tr.requiredContainer=wl;tr.allowedChildren=[Rr,cr,fr,pr];const ey=(r,e,t)=>{if(typeof r.versionString=="string"){const s=r.versionString.split(".")[0];if(parseInt(s,10)>=11)return r.highlight(t,{language:e}).value}return r.highlight(e,t).value};class Gc extends Sr{static register(){re.register(Rr,!0),re.register(tr,!0),re.register(wl,!0)}constructor(e,t){if(super(e,t),this.options.hljs==null)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");this.languages=this.options.languages.reduce((s,l)=>{let{key:n}=l;return s[n]=!0,s},{}),this.highlightBlot=this.highlightBlot.bind(this),this.initListener(),this.initTimer()}initListener(){this.quill.on(re.events.SCROLL_BLOT_MOUNT,e=>{if(!(e instanceof wl))return;const t=this.quill.root.ownerDocument.createElement("select");this.options.languages.forEach(s=>{let{key:l,label:n}=s;const i=t.ownerDocument.createElement("option");i.textContent=n,i.setAttribute("value",l),t.appendChild(i)}),t.addEventListener("change",()=>{e.format(tr.blotName,t.value),this.quill.root.focus(),this.highlight(e,!0)}),e.uiNode==null&&(e.attachUI(t),e.children.head&&(t.value=tr.formats(e.children.head.domNode)))})}initTimer(){let e=null;this.quill.on(re.events.SCROLL_OPTIMIZE,()=>{e&&clearTimeout(e),e=setTimeout(()=>{this.highlight(),e=null},this.options.interval)})}highlight(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(this.quill.selection.composing)return;this.quill.update(re.sources.USER);const s=this.quill.getSelection();(e==null?this.quill.scroll.descendants(wl):[e]).forEach(n=>{n.highlight(this.highlightBlot,t)}),this.quill.update(re.sources.SILENT),s!=null&&this.quill.setSelection(s,re.sources.SILENT)}highlightBlot(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"plain";if(t=this.languages[t]?t:"plain",t==="plain")return _n(e).split(`
`).reduce((l,n,i)=>(i!==0&&l.insert(`
`,{[Mt.blotName]:t}),l.insert(n)),new _e);const s=this.quill.root.ownerDocument.createElement("div");return s.classList.add(Mt.className),s.innerHTML=ey(this.options.hljs,t,e),Wi(this.quill.scroll,s,[(l,n)=>{const i=vl.value(l);return i?n.compose(new _e().retain(n.length(),{[Rr.blotName]:i})):n}],[(l,n)=>l.data.split(`
`).reduce((i,a,c)=>(c!==0&&i.insert(`
`,{[Mt.blotName]:t}),i.insert(a)),n)],new WeakMap)}}Gc.DEFAULTS={hljs:window.hljs,interval:1e3,languages:[{key:"plain",label:"Plain"},{key:"bash",label:"Bash"},{key:"cpp",label:"C++"},{key:"cs",label:"C#"},{key:"css",label:"CSS"},{key:"diff",label:"Diff"},{key:"xml",label:"HTML/XML"},{key:"java",label:"Java"},{key:"javascript",label:"JavaScript"},{key:"markdown",label:"Markdown"},{key:"php",label:"PHP"},{key:"python",label:"Python"},{key:"ruby",label:"Ruby"},{key:"sql",label:"SQL"}]};class dr extends Tt{static blotName="table";static tagName="TD";static create(e){const t=super.create();return e?t.setAttribute("data-row",e):t.setAttribute("data-row",Xi()),t}static formats(e){if(e.hasAttribute("data-row"))return e.getAttribute("data-row")}cellOffset(){return this.parent?this.parent.children.indexOf(this):-1}format(e,t){e===dr.blotName&&t?this.domNode.setAttribute("data-row",t):super.format(e,t)}row(){return this.parent}rowOffset(){return this.row()?this.row().rowOffset():-1}table(){return this.row()&&this.row().table()}}class ps extends ys{static blotName="table-row";static tagName="TR";checkMerge(){if(super.checkMerge()&&this.next.children.head!=null){const e=this.children.head.formats(),t=this.children.tail.formats(),s=this.next.children.head.formats(),l=this.next.children.tail.formats();return e.table===t.table&&e.table===s.table&&e.table===l.table}return!1}optimize(e){super.optimize(e),this.children.forEach(t=>{if(t.next==null)return;const s=t.formats(),l=t.next.formats();if(s.table!==l.table){const n=this.splitAfter(t);n&&n.optimize(),this.prev&&this.prev.optimize()}})}rowOffset(){return this.parent?this.parent.children.indexOf(this):-1}table(){return this.parent&&this.parent.parent}}class Wr extends ys{static blotName="table-body";static tagName="TBODY"}class hn extends ys{static blotName="table-container";static tagName="TABLE";balanceCells(){const e=this.descendants(ps),t=e.reduce((s,l)=>Math.max(l.children.length,s),0);e.forEach(s=>{new Array(t-s.children.length).fill(0).forEach(()=>{let l;s.children.head!=null&&(l=dr.formats(s.children.head.domNode));const n=this.scroll.create(dr.blotName,l);s.appendChild(n),n.optimize()})})}cells(e){return this.rows().map(t=>t.children.at(e))}deleteColumn(e){const[t]=this.descendant(Wr);t==null||t.children.head==null||t.children.forEach(s=>{const l=s.children.at(e);l?.remove()})}insertColumn(e){const[t]=this.descendant(Wr);t==null||t.children.head==null||t.children.forEach(s=>{const l=s.children.at(e),n=dr.formats(s.children.head.domNode),i=this.scroll.create(dr.blotName,n);s.insertBefore(i,l)})}insertRow(e){const[t]=this.descendant(Wr);if(t==null||t.children.head==null)return;const s=Xi(),l=this.scroll.create(ps.blotName);t.children.head.children.forEach(()=>{const i=this.scroll.create(dr.blotName,s);l.appendChild(i)});const n=t.children.at(e);t.insertBefore(l,n)}rows(){const e=this.children.head;return e==null?[]:e.children.map(t=>t)}}hn.allowedChildren=[Wr];Wr.requiredContainer=hn;Wr.allowedChildren=[ps];ps.requiredContainer=Wr;ps.allowedChildren=[dr];dr.requiredContainer=ps;function Xi(){return`row-${Math.random().toString(36).slice(2,6)}`}class ty extends Sr{static register(){re.register(dr),re.register(ps),re.register(Wr),re.register(hn)}constructor(){super(...arguments),this.listenBalanceCells()}balanceTables(){this.quill.scroll.descendants(hn).forEach(e=>{e.balanceCells()})}deleteColumn(){const[e,,t]=this.getTable();t!=null&&(e.deleteColumn(t.cellOffset()),this.quill.update(re.sources.USER))}deleteRow(){const[,e]=this.getTable();e!=null&&(e.remove(),this.quill.update(re.sources.USER))}deleteTable(){const[e]=this.getTable();if(e==null)return;const t=e.offset();e.remove(),this.quill.update(re.sources.USER),this.quill.setSelection(t,re.sources.SILENT)}getTable(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.quill.getSelection();if(e==null)return[null,null,null,-1];const[t,s]=this.quill.getLine(e.index);if(t==null||t.statics.blotName!==dr.blotName)return[null,null,null,-1];const l=t.parent;return[l.parent.parent,l,t,s]}insertColumn(e){const t=this.quill.getSelection();if(!t)return;const[s,l,n]=this.getTable(t);if(n==null)return;const i=n.cellOffset();s.insertColumn(i+e),this.quill.update(re.sources.USER);let a=l.rowOffset();e===0&&(a+=1),this.quill.setSelection(t.index+a,t.length,re.sources.SILENT)}insertColumnLeft(){this.insertColumn(0)}insertColumnRight(){this.insertColumn(1)}insertRow(e){const t=this.quill.getSelection();if(!t)return;const[s,l,n]=this.getTable(t);if(n==null)return;const i=l.rowOffset();s.insertRow(i+e),this.quill.update(re.sources.USER),e>0?this.quill.setSelection(t,re.sources.SILENT):this.quill.setSelection(t.index+l.children.length,t.length,re.sources.SILENT)}insertRowAbove(){this.insertRow(0)}insertRowBelow(){this.insertRow(1)}insertTable(e,t){const s=this.quill.getSelection();if(s==null)return;const l=new Array(e).fill(0).reduce(n=>{const i=new Array(t).fill(`
`).join("");return n.insert(i,{table:Xi()})},new _e().retain(s.index));this.quill.updateContents(l,re.sources.USER),this.quill.setSelection(s.index,re.sources.SILENT),this.balanceTables()}listenBalanceCells(){this.quill.on(re.events.SCROLL_OPTIMIZE,e=>{e.some(t=>["TD","TR","TBODY","TABLE"].includes(t.target.tagName)?(this.quill.once(re.events.TEXT_CHANGE,(s,l,n)=>{n===re.sources.USER&&this.balanceTables()}),!0):!1)})}}const po=Br("quill:toolbar");class Yi extends Sr{constructor(e,t){if(super(e,t),Array.isArray(this.options.container)){const s=document.createElement("div");s.setAttribute("role","toolbar"),ry(s,this.options.container),e.container?.parentNode?.insertBefore(s,e.container),this.container=s}else typeof this.options.container=="string"?this.container=document.querySelector(this.options.container):this.container=this.options.container;if(!(this.container instanceof HTMLElement)){po.error("Container required for toolbar",this.options);return}this.container.classList.add("ql-toolbar"),this.controls=[],this.handlers={},this.options.handlers&&Object.keys(this.options.handlers).forEach(s=>{const l=this.options.handlers?.[s];l&&this.addHandler(s,l)}),Array.from(this.container.querySelectorAll("button, select")).forEach(s=>{this.attach(s)}),this.quill.on(re.events.EDITOR_CHANGE,()=>{const[s]=this.quill.selection.getRange();this.update(s)})}addHandler(e,t){this.handlers[e]=t}attach(e){let t=Array.from(e.classList).find(l=>l.indexOf("ql-")===0);if(!t)return;if(t=t.slice(3),e.tagName==="BUTTON"&&e.setAttribute("type","button"),this.handlers[t]==null&&this.quill.scroll.query(t)==null){po.warn("ignoring attaching to nonexistent format",t,e);return}const s=e.tagName==="SELECT"?"change":"click";e.addEventListener(s,l=>{let n;if(e.tagName==="SELECT"){if(e.selectedIndex<0)return;const a=e.options[e.selectedIndex];a.hasAttribute("selected")?n=!1:n=a.value||!1}else e.classList.contains("ql-active")?n=!1:n=e.value||!e.hasAttribute("value"),l.preventDefault();this.quill.focus();const[i]=this.quill.selection.getRange();if(this.handlers[t]!=null)this.handlers[t].call(this,n);else if(this.quill.scroll.query(t).prototype instanceof Xt){if(n=prompt(`Enter ${t}`),!n)return;this.quill.updateContents(new _e().retain(i.index).delete(i.length).insert({[t]:n}),re.sources.USER)}else this.quill.format(t,n,re.sources.USER);this.update(i)}),this.controls.push([t,e])}update(e){const t=e==null?{}:this.quill.getFormat(e);this.controls.forEach(s=>{const[l,n]=s;if(n.tagName==="SELECT"){let i=null;if(e==null)i=null;else if(t[l]==null)i=n.querySelector("option[selected]");else if(!Array.isArray(t[l])){let a=t[l];typeof a=="string"&&(a=a.replace(/"/g,'\\"')),i=n.querySelector(`option[value="${a}"]`)}i==null?(n.value="",n.selectedIndex=-1):i.selected=!0}else if(e==null)n.classList.remove("ql-active"),n.setAttribute("aria-pressed","false");else if(n.hasAttribute("value")){const i=t[l],a=i===n.getAttribute("value")||i!=null&&i.toString()===n.getAttribute("value")||i==null&&!n.getAttribute("value");n.classList.toggle("ql-active",a),n.setAttribute("aria-pressed",a.toString())}else{const i=t[l]!=null;n.classList.toggle("ql-active",i),n.setAttribute("aria-pressed",i.toString())}})}}Yi.DEFAULTS={};function bo(r,e,t){const s=document.createElement("button");s.setAttribute("type","button"),s.classList.add(`ql-${e}`),s.setAttribute("aria-pressed","false"),t!=null?(s.value=t,s.setAttribute("aria-label",`${e}: ${t}`)):s.setAttribute("aria-label",e),r.appendChild(s)}function ry(r,e){Array.isArray(e[0])||(e=[e]),e.forEach(t=>{const s=document.createElement("span");s.classList.add("ql-formats"),t.forEach(l=>{if(typeof l=="string")bo(s,l);else{const n=Object.keys(l)[0],i=l[n];Array.isArray(i)?sy(s,n,i):bo(s,n,i)}}),r.appendChild(s)})}function sy(r,e,t){const s=document.createElement("select");s.classList.add(`ql-${e}`),t.forEach(l=>{const n=document.createElement("option");l!==!1?n.setAttribute("value",String(l)):n.setAttribute("selected","selected"),s.appendChild(n)}),r.appendChild(s)}Yi.DEFAULTS={container:null,handlers:{clean(){const r=this.quill.getSelection();if(r!=null)if(r.length===0){const e=this.quill.getFormat();Object.keys(e).forEach(t=>{this.quill.scroll.query(t,Ce.INLINE)!=null&&this.quill.format(t,!1,re.sources.USER)})}else this.quill.removeFormat(r.index,r.length,re.sources.USER)},direction(r){const{align:e}=this.quill.getFormat();r==="rtl"&&e==null?this.quill.format("align","right",re.sources.USER):!r&&e==="right"&&this.quill.format("align",!1,re.sources.USER),this.quill.format("direction",r,re.sources.USER)},indent(r){const e=this.quill.getSelection(),t=this.quill.getFormat(e),s=parseInt(t.indent||0,10);if(r==="+1"||r==="-1"){let l=r==="+1"?1:-1;t.direction==="rtl"&&(l*=-1),this.quill.format("indent",s+l,re.sources.USER)}},link(r){r===!0&&(r=prompt("Enter link URL:")),this.quill.format("link",r,re.sources.USER)},list(r){const e=this.quill.getSelection(),t=this.quill.getFormat(e);r==="check"?t.list==="checked"||t.list==="unchecked"?this.quill.format("list",!1,re.sources.USER):this.quill.format("list","unchecked",re.sources.USER):this.quill.format("list",r,re.sources.USER)}}};const ly='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="13" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="9" y1="4" y2="4"/></svg>',ny='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="14" x2="4" y1="14" y2="14"/><line class="ql-stroke" x1="12" x2="6" y1="4" y2="4"/></svg>',iy='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="5" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="9" y1="4" y2="4"/></svg>',ay='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="3" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="3" y1="4" y2="4"/></svg>',oy='<svg viewbox="0 0 18 18"><g class="ql-fill ql-color-label"><polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"/><rect height="1" width="1" x="4" y="4"/><polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"/><rect height="1" width="1" x="2" y="6"/><rect height="1" width="1" x="3" y="5"/><rect height="1" width="1" x="4" y="7"/><polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"/><rect height="1" width="1" x="2" y="12"/><rect height="1" width="1" x="2" y="9"/><rect height="1" width="1" x="2" y="15"/><polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"/><rect height="1" width="1" x="3" y="8"/><path d="M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z"/><path d="M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z"/><path d="M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z"/><rect height="1" width="1" x="12" y="2"/><rect height="1" width="1" x="11" y="3"/><path d="M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z"/><rect height="1" width="1" x="2" y="3"/><rect height="1" width="1" x="6" y="2"/><rect height="1" width="1" x="3" y="2"/><rect height="1" width="1" x="5" y="3"/><rect height="1" width="1" x="9" y="2"/><rect height="1" width="1" x="15" y="14"/><polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"/><rect height="1" width="1" x="13" y="7"/><rect height="1" width="1" x="15" y="5"/><rect height="1" width="1" x="14" y="6"/><rect height="1" width="1" x="15" y="8"/><rect height="1" width="1" x="14" y="9"/><path d="M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z"/><rect height="1" width="1" x="14" y="3"/><polygon points="12 6.868 12 6 11.62 6 12 6.868"/><rect height="1" width="1" x="15" y="2"/><rect height="1" width="1" x="12" y="5"/><rect height="1" width="1" x="13" y="4"/><polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"/><rect height="1" width="1" x="9" y="14"/><rect height="1" width="1" x="8" y="15"/><path d="M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z"/><rect height="1" width="1" x="5" y="15"/><path d="M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z"/><rect height="1" width="1" x="11" y="15"/><path d="M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z"/><rect height="1" width="1" x="14" y="15"/><rect height="1" width="1" x="15" y="11"/></g><polyline class="ql-stroke" points="5.5 13 9 5 12.5 13"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="11" y2="11"/></svg>',cy='<svg viewbox="0 0 18 18"><rect class="ql-fill ql-stroke" height="3" width="3" x="4" y="5"/><rect class="ql-fill ql-stroke" height="3" width="3" x="11" y="5"/><path class="ql-even ql-fill ql-stroke" d="M7,8c0,4.031-3,5-3,5"/><path class="ql-even ql-fill ql-stroke" d="M14,8c0,4.031-3,5-3,5"/></svg>',dy='<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z"/><path class="ql-stroke" d="M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z"/></svg>',uy='<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="5" x2="13" y1="3" y2="3"/><line class="ql-stroke" x1="6" x2="9.35" y1="12" y2="3"/><line class="ql-stroke" x1="11" x2="15" y1="11" y2="15"/><line class="ql-stroke" x1="15" x2="11" y1="11" y2="15"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="7" x="2" y="14"/></svg>',mo='<svg viewbox="0 0 18 18"><polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"/><polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"/><line class="ql-stroke" x1="10" x2="8" y1="5" y2="13"/></svg>',hy='<svg viewbox="0 0 18 18"><line class="ql-color-label ql-stroke ql-transparent" x1="3" x2="15" y1="15" y2="15"/><polyline class="ql-stroke" points="5.5 11 9 3 12.5 11"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="9" y2="9"/></svg>',fy='<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"/><line class="ql-stroke ql-fill" x1="15" x2="11" y1="4" y2="4"/><path class="ql-fill" d="M11,3a3,3,0,0,0,0,6h1V3H11Z"/><rect class="ql-fill" height="11" width="1" x="11" y="4"/><rect class="ql-fill" height="11" width="1" x="13" y="4"/></svg>',gy='<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"/><line class="ql-stroke ql-fill" x1="9" x2="5" y1="4" y2="4"/><path class="ql-fill" d="M5,3A3,3,0,0,0,5,9H6V3H5Z"/><rect class="ql-fill" height="11" width="1" x="5" y="4"/><rect class="ql-fill" height="11" width="1" x="7" y="4"/></svg>',py='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z"/><rect class="ql-fill" height="1.6" rx="0.8" ry="0.8" width="5" x="5.15" y="6.2"/><path class="ql-fill" d="M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z"/></svg>',by='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z"/></svg>',my='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',xy='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.65186,12.30664a2.6742,2.6742,0,0,1-2.915,2.68457,3.96592,3.96592,0,0,1-2.25537-.6709.56007.56007,0,0,1-.13232-.83594L11.64648,13c.209-.34082.48389-.36328.82471-.1543a2.32654,2.32654,0,0,0,1.12256.33008c.71484,0,1.12207-.35156,1.12207-.78125,0-.61523-.61621-.86816-1.46338-.86816H13.2085a.65159.65159,0,0,1-.68213-.41895l-.05518-.10937a.67114.67114,0,0,1,.14307-.78125l.71533-.86914a8.55289,8.55289,0,0,1,.68213-.7373V8.58887a3.93913,3.93913,0,0,1-.748.05469H11.9873a.54085.54085,0,0,1-.605-.60547V7.59863a.54085.54085,0,0,1,.605-.60547h3.75146a.53773.53773,0,0,1,.60547.59375v.17676a1.03723,1.03723,0,0,1-.27539.748L14.74854,10.0293A2.31132,2.31132,0,0,1,16.65186,12.30664ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',vy='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm7.05371,7.96582v.38477c0,.39648-.165.60547-.46191.60547h-.47314v1.29785a.54085.54085,0,0,1-.605.60547h-.69336a.54085.54085,0,0,1-.605-.60547V12.95605H11.333a.5412.5412,0,0,1-.60547-.60547v-.15332a1.199,1.199,0,0,1,.22021-.748l2.56348-4.05957a.7819.7819,0,0,1,.72607-.39648h1.27637a.54085.54085,0,0,1,.605.60547v3.7627h.33008A.54055.54055,0,0,1,17.05371,11.96582ZM14.28125,8.7207h-.022a4.18969,4.18969,0,0,1-.38525.81348l-1.188,1.80469v.02246h1.5293V9.60059A7.04058,7.04058,0,0,1,14.28125,8.7207Z"/></svg>',yy='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.74023,12.18555a2.75131,2.75131,0,0,1-2.91553,2.80566,3.908,3.908,0,0,1-2.25537-.68164.54809.54809,0,0,1-.13184-.8252L11.73438,13c.209-.34082.48389-.36328.8252-.1543a2.23757,2.23757,0,0,0,1.1001.33008,1.01827,1.01827,0,0,0,1.1001-.96777c0-.61621-.53906-.97949-1.25439-.97949a2.15554,2.15554,0,0,0-.64893.09961,1.15209,1.15209,0,0,1-.814.01074l-.12109-.04395a.64116.64116,0,0,1-.45117-.71484l.231-3.00391a.56666.56666,0,0,1,.62744-.583H15.541a.54085.54085,0,0,1,.605.60547v.43945a.54085.54085,0,0,1-.605.60547H13.41748l-.04395.72559a1.29306,1.29306,0,0,1-.04395.30859h.022a2.39776,2.39776,0,0,1,.57227-.07715A2.53266,2.53266,0,0,1,16.74023,12.18555ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',$y='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M14.51758,9.64453a1.85627,1.85627,0,0,0-1.24316.38477H13.252a1.73532,1.73532,0,0,1,1.72754-1.4082,2.66491,2.66491,0,0,1,.5498.06641c.35254.05469.57227.01074.70508-.40723l.16406-.5166a.53393.53393,0,0,0-.373-.75977,4.83723,4.83723,0,0,0-1.17773-.14258c-2.43164,0-3.7627,2.17773-3.7627,4.43359,0,2.47559,1.60645,3.69629,3.19043,3.69629A2.70585,2.70585,0,0,0,16.96,12.19727,2.43861,2.43861,0,0,0,14.51758,9.64453Zm-.23047,3.58691c-.67187,0-1.22168-.81445-1.22168-1.45215,0-.47363.30762-.583.72559-.583.96875,0,1.27734.59375,1.27734,1.12207A.82182.82182,0,0,1,14.28711,13.23145ZM10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Z"/></svg>',wy='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="13" y1="4" y2="4"/><line class="ql-stroke" x1="5" x2="11" y1="14" y2="14"/><line class="ql-stroke" x1="8" x2="10" y1="14" y2="4"/></svg>',_y='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="10" width="12" x="3" y="4"/><circle class="ql-fill" cx="6" cy="7" r="1"/><polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"/></svg>',Sy='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"/></svg>',Cy='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="5 7 5 11 3 9 5 7"/></svg>',Ay='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="11" y1="7" y2="11"/><path class="ql-even ql-stroke" d="M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z"/><path class="ql-even ql-stroke" d="M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z"/></svg>',ky='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="6" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="6" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="6" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="3" y1="4" y2="4"/><line class="ql-stroke" x1="3" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="3" y1="14" y2="14"/></svg>',Ey='<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="9" x2="15" y1="4" y2="4"/><polyline class="ql-stroke" points="3 4 4 5 6 3"/><line class="ql-stroke" x1="9" x2="15" y1="14" y2="14"/><polyline class="ql-stroke" points="3 14 4 15 6 13"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="3 9 4 10 6 8"/></svg>',Ny='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="7" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="7" x2="15" y1="14" y2="14"/><line class="ql-stroke ql-thin" x1="2.5" x2="4.5" y1="5.5" y2="5.5"/><path class="ql-fill" d="M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z"/><path class="ql-stroke ql-thin" d="M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156"/><path class="ql-stroke ql-thin" d="M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109"/></svg>',Ty='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z"/><path class="ql-fill" d="M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z"/></svg>',Iy='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z"/><path class="ql-fill" d="M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z"/></svg>',Ly='<svg viewbox="0 0 18 18"><line class="ql-stroke ql-thin" x1="15.5" x2="2.5" y1="8.5" y2="9.5"/><path class="ql-fill" d="M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z"/><path class="ql-fill" d="M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z"/></svg>',Oy='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="2" width="3" x="5" y="5"/><rect class="ql-fill" height="2" width="4" x="9" y="5"/><g class="ql-fill ql-transparent"><rect height="2" width="3" x="5" y="8"/><rect height="2" width="4" x="9" y="8"/><rect height="2" width="3" x="5" y="11"/><rect height="2" width="4" x="9" y="11"/></g></svg>',qy='<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="12" x="3" y="15"/></svg>',Ry='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="12" width="1" x="5" y="3"/><rect class="ql-fill" height="12" width="1" x="12" y="3"/><rect class="ql-fill" height="2" width="8" x="5" y="8"/><rect class="ql-fill" height="1" width="3" x="3" y="5"/><rect class="ql-fill" height="1" width="3" x="3" y="7"/><rect class="ql-fill" height="1" width="3" x="3" y="10"/><rect class="ql-fill" height="1" width="3" x="3" y="12"/><rect class="ql-fill" height="1" width="3" x="12" y="5"/><rect class="ql-fill" height="1" width="3" x="12" y="7"/><rect class="ql-fill" height="1" width="3" x="12" y="10"/><rect class="ql-fill" height="1" width="3" x="12" y="12"/></svg>',Il={align:{"":ly,center:ny,right:iy,justify:ay},background:oy,blockquote:cy,bold:dy,clean:uy,code:mo,"code-block":mo,color:hy,direction:{"":fy,rtl:gy},formula:py,header:{1:by,2:my,3:xy,4:vy,5:yy,6:$y},italic:wy,image:_y,indent:{"+1":Sy,"-1":Cy},link:Ay,list:{bullet:ky,check:Ey,ordered:Ny},script:{sub:Ty,super:Iy},strike:Ly,table:Oy,underline:qy,video:Ry},Py='<svg viewbox="0 0 18 18"><polygon class="ql-stroke" points="7 11 9 13 11 11 7 11"/><polygon class="ql-stroke" points="7 7 9 5 11 7 7 7"/></svg>';let xo=0;function vo(r,e){r.setAttribute(e,`${r.getAttribute(e)!=="true"}`)}class Cn{constructor(e){this.select=e,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",()=>{this.togglePicker()}),this.label.addEventListener("keydown",t=>{switch(t.key){case"Enter":this.togglePicker();break;case"Escape":this.escape(),t.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}togglePicker(){this.container.classList.toggle("ql-expanded"),vo(this.label,"aria-expanded"),vo(this.options,"aria-hidden")}buildItem(e){const t=document.createElement("span");t.tabIndex="0",t.setAttribute("role","button"),t.classList.add("ql-picker-item");const s=e.getAttribute("value");return s&&t.setAttribute("data-value",s),e.textContent&&t.setAttribute("data-label",e.textContent),t.addEventListener("click",()=>{this.selectItem(t,!0)}),t.addEventListener("keydown",l=>{switch(l.key){case"Enter":this.selectItem(t,!0),l.preventDefault();break;case"Escape":this.escape(),l.preventDefault();break}}),t}buildLabel(){const e=document.createElement("span");return e.classList.add("ql-picker-label"),e.innerHTML=Py,e.tabIndex="0",e.setAttribute("role","button"),e.setAttribute("aria-expanded","false"),this.container.appendChild(e),e}buildOptions(){const e=document.createElement("span");e.classList.add("ql-picker-options"),e.setAttribute("aria-hidden","true"),e.tabIndex="-1",e.id=`ql-picker-options-${xo}`,xo+=1,this.label.setAttribute("aria-controls",e.id),this.options=e,Array.from(this.select.options).forEach(t=>{const s=this.buildItem(t);e.appendChild(s),t.selected===!0&&this.selectItem(s)}),this.container.appendChild(e)}buildPicker(){Array.from(this.select.attributes).forEach(e=>{this.container.setAttribute(e.name,e.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}escape(){this.close(),setTimeout(()=>this.label.focus(),1)}close(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}selectItem(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const s=this.container.querySelector(".ql-selected");e!==s&&(s?.classList.remove("ql-selected"),e!=null&&(e.classList.add("ql-selected"),this.select.selectedIndex=Array.from(e.parentNode.children).indexOf(e),e.hasAttribute("data-value")?this.label.setAttribute("data-value",e.getAttribute("data-value")):this.label.removeAttribute("data-value"),e.hasAttribute("data-label")?this.label.setAttribute("data-label",e.getAttribute("data-label")):this.label.removeAttribute("data-label"),t&&(this.select.dispatchEvent(new Event("change")),this.close())))}update(){let e;if(this.select.selectedIndex>-1){const s=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];e=this.select.options[this.select.selectedIndex],this.selectItem(s)}else this.selectItem(null);const t=e!=null&&e!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",t)}}class Kc extends Cn{constructor(e,t){super(e),this.label.innerHTML=t,this.container.classList.add("ql-color-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).slice(0,7).forEach(s=>{s.classList.add("ql-primary")})}buildItem(e){const t=super.buildItem(e);return t.style.backgroundColor=e.getAttribute("value")||"",t}selectItem(e,t){super.selectItem(e,t);const s=this.label.querySelector(".ql-color-label"),l=e&&e.getAttribute("data-value")||"";s&&(s.tagName==="line"?s.style.stroke=l:s.style.fill=l)}}class Vc extends Cn{constructor(e,t){super(e),this.container.classList.add("ql-icon-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).forEach(s=>{s.innerHTML=t[s.getAttribute("data-value")||""]}),this.defaultItem=this.container.querySelector(".ql-selected"),this.selectItem(this.defaultItem)}selectItem(e,t){super.selectItem(e,t);const s=e||this.defaultItem;if(s!=null){if(this.label.innerHTML===s.innerHTML)return;this.label.innerHTML=s.innerHTML}}}const jy=r=>{const{overflowY:e}=getComputedStyle(r,null);return e!=="visible"&&e!=="clip"};class Wc{constructor(e,t){this.quill=e,this.boundsContainer=t||document.body,this.root=e.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,jy(this.quill.root)&&this.quill.root.addEventListener("scroll",()=>{this.root.style.marginTop=`${-1*this.quill.root.scrollTop}px`}),this.hide()}hide(){this.root.classList.add("ql-hidden")}position(e){const t=e.left+e.width/2-this.root.offsetWidth/2,s=e.bottom+this.quill.root.scrollTop;this.root.style.left=`${t}px`,this.root.style.top=`${s}px`,this.root.classList.remove("ql-flip");const l=this.boundsContainer.getBoundingClientRect(),n=this.root.getBoundingClientRect();let i=0;if(n.right>l.right&&(i=l.right-n.right,this.root.style.left=`${t+i}px`),n.left<l.left&&(i=l.left-n.left,this.root.style.left=`${t+i}px`),n.bottom>l.bottom){const a=n.bottom-n.top,c=e.bottom-e.top+a;this.root.style.top=`${s-c}px`,this.root.classList.add("ql-flip")}return i}show(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}const Dy=[!1,"center","right","justify"],By=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],My=[!1,"serif","monospace"],Uy=["1","2","3",!1],Fy=["small",!1,"large","huge"];class jl extends Zs{constructor(e,t){super(e,t);const s=l=>{if(!document.body.contains(e.root)){document.body.removeEventListener("click",s);return}this.tooltip!=null&&!this.tooltip.root.contains(l.target)&&document.activeElement!==this.tooltip.textbox&&!this.quill.hasFocus()&&this.tooltip.hide(),this.pickers!=null&&this.pickers.forEach(n=>{n.container.contains(l.target)||n.close()})};e.emitter.listenDOM("click",document.body,s)}addModule(e){const t=super.addModule(e);return e==="toolbar"&&this.extendToolbar(t),t}buildButtons(e,t){Array.from(e).forEach(s=>{(s.getAttribute("class")||"").split(/\s+/).forEach(n=>{if(n.startsWith("ql-")&&(n=n.slice(3),t[n]!=null))if(n==="direction")s.innerHTML=t[n][""]+t[n].rtl;else if(typeof t[n]=="string")s.innerHTML=t[n];else{const i=s.value||"";i!=null&&t[n][i]&&(s.innerHTML=t[n][i])}})})}buildPickers(e,t){this.pickers=Array.from(e).map(l=>{if(l.classList.contains("ql-align")&&(l.querySelector("option")==null&&pl(l,Dy),typeof t.align=="object"))return new Vc(l,t.align);if(l.classList.contains("ql-background")||l.classList.contains("ql-color")){const n=l.classList.contains("ql-background")?"background":"color";return l.querySelector("option")==null&&pl(l,By,n==="background"?"#ffffff":"#000000"),new Kc(l,t[n])}return l.querySelector("option")==null&&(l.classList.contains("ql-font")?pl(l,My):l.classList.contains("ql-header")?pl(l,Uy):l.classList.contains("ql-size")&&pl(l,Fy)),new Cn(l)});const s=()=>{this.pickers.forEach(l=>{l.update()})};this.quill.on($e.events.EDITOR_CHANGE,s)}}jl.DEFAULTS=Vr({},Zs.DEFAULTS,{modules:{toolbar:{handlers:{formula(){this.quill.theme.tooltip.edit("formula")},image(){let r=this.container.querySelector("input.ql-image[type=file]");r==null&&(r=document.createElement("input"),r.setAttribute("type","file"),r.setAttribute("accept",this.quill.uploader.options.mimetypes.join(", ")),r.classList.add("ql-image"),r.addEventListener("change",()=>{const e=this.quill.getSelection(!0);this.quill.uploader.upload(e,r.files),r.value=""}),this.container.appendChild(r)),r.click()},video(){this.quill.theme.tooltip.edit("video")}}}}});class Zc extends Wc{constructor(e,t){super(e,t),this.textbox=this.root.querySelector('input[type="text"]'),this.listen()}listen(){this.textbox.addEventListener("keydown",e=>{e.key==="Enter"?(this.save(),e.preventDefault()):e.key==="Escape"&&(this.cancel(),e.preventDefault())})}cancel(){this.hide(),this.restoreFocus()}edit(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),this.textbox==null)return;t!=null?this.textbox.value=t:e!==this.root.getAttribute("data-mode")&&(this.textbox.value="");const s=this.quill.getBounds(this.quill.selection.savedRange);s!=null&&this.position(s),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute(`data-${e}`)||""),this.root.setAttribute("data-mode",e)}restoreFocus(){this.quill.focus({preventScroll:!0})}save(){let{value:e}=this.textbox;switch(this.root.getAttribute("data-mode")){case"link":{const{scrollTop:t}=this.quill.root;this.linkRange?(this.quill.formatText(this.linkRange,"link",e,$e.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",e,$e.sources.USER)),this.quill.root.scrollTop=t;break}case"video":e=zy(e);case"formula":{if(!e)break;const t=this.quill.getSelection(!0);if(t!=null){const s=t.index+t.length;this.quill.insertEmbed(s,this.root.getAttribute("data-mode"),e,$e.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(s+1," ",$e.sources.USER),this.quill.setSelection(s+2,$e.sources.USER)}break}}this.textbox.value="",this.hide()}}function zy(r){let e=r.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||r.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return e?`${e[1]||"https"}://www.youtube.com/embed/${e[2]}?showinfo=0`:(e=r.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?`${e[1]||"https"}://player.vimeo.com/video/${e[2]}/`:r}function pl(r,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;e.forEach(s=>{const l=document.createElement("option");s===t?l.setAttribute("selected","selected"):l.setAttribute("value",String(s)),r.appendChild(l)})}const Hy=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]];class Gy extends Zc{static TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join("");constructor(e,t){super(e,t),this.quill.on($e.events.EDITOR_CHANGE,(s,l,n,i)=>{if(s===$e.events.SELECTION_CHANGE)if(l!=null&&l.length>0&&i===$e.sources.USER){this.show(),this.root.style.left="0px",this.root.style.width="",this.root.style.width=`${this.root.offsetWidth}px`;const a=this.quill.getLines(l.index,l.length);if(a.length===1){const c=this.quill.getBounds(l);c!=null&&this.position(c)}else{const c=a[a.length-1],d=this.quill.getIndex(c),g=Math.min(c.length()-1,l.index+l.length-d),m=this.quill.getBounds(new gs(d,g));m!=null&&this.position(m)}}else document.activeElement!==this.textbox&&this.quill.hasFocus()&&this.hide()})}listen(){super.listen(),this.root.querySelector(".ql-close").addEventListener("click",()=>{this.root.classList.remove("ql-editing")}),this.quill.on($e.events.SCROLL_OPTIMIZE,()=>{setTimeout(()=>{if(this.root.classList.contains("ql-hidden"))return;const e=this.quill.getSelection();if(e!=null){const t=this.quill.getBounds(e);t!=null&&this.position(t)}},1)})}cancel(){this.show()}position(e){const t=super.position(e),s=this.root.querySelector(".ql-tooltip-arrow");return s.style.marginLeft="",t!==0&&(s.style.marginLeft=`${-1*t-s.offsetWidth/2}px`),t}}class Xc extends jl{constructor(e,t){t.modules.toolbar!=null&&t.modules.toolbar.container==null&&(t.modules.toolbar.container=Hy),super(e,t),this.quill.container.classList.add("ql-bubble")}extendToolbar(e){this.tooltip=new Gy(this.quill,this.options.bounds),e.container!=null&&(this.tooltip.root.appendChild(e.container),this.buildButtons(e.container.querySelectorAll("button"),Il),this.buildPickers(e.container.querySelectorAll("select"),Il))}}Xc.DEFAULTS=Vr({},jl.DEFAULTS,{modules:{toolbar:{handlers:{link(r){r?this.quill.theme.tooltip.edit():this.quill.format("link",!1,re.sources.USER)}}}}});const Ky=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]];class Vy extends Zc{static TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join("");preview=this.root.querySelector("a.ql-preview");listen(){super.listen(),this.root.querySelector("a.ql-action").addEventListener("click",e=>{this.root.classList.contains("ql-editing")?this.save():this.edit("link",this.preview.textContent),e.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",e=>{if(this.linkRange!=null){const t=this.linkRange;this.restoreFocus(),this.quill.formatText(t,"link",!1,$e.sources.USER),delete this.linkRange}e.preventDefault(),this.hide()}),this.quill.on($e.events.SELECTION_CHANGE,(e,t,s)=>{if(e!=null){if(e.length===0&&s===$e.sources.USER){const[l,n]=this.quill.scroll.descendant(un,e.index);if(l!=null){this.linkRange=new gs(e.index-n,l.length());const i=un.formats(l.domNode);this.preview.textContent=i,this.preview.setAttribute("href",i),this.show();const a=this.quill.getBounds(this.linkRange);a!=null&&this.position(a);return}}else delete this.linkRange;this.hide()}})}show(){super.show(),this.root.removeAttribute("data-mode")}}class Yc extends jl{constructor(e,t){t.modules.toolbar!=null&&t.modules.toolbar.container==null&&(t.modules.toolbar.container=Ky),super(e,t),this.quill.container.classList.add("ql-snow")}extendToolbar(e){e.container!=null&&(e.container.classList.add("ql-snow"),this.buildButtons(e.container.querySelectorAll("button"),Il),this.buildPickers(e.container.querySelectorAll("select"),Il),this.tooltip=new Vy(this.quill,this.options.bounds),e.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"k",shortKey:!0},(t,s)=>{e.handlers.link.call(e,!s.format.link)}))}}Yc.DEFAULTS=Vr({},jl.DEFAULTS,{modules:{toolbar:{handlers:{link(r){if(r){const e=this.quill.getSelection();if(e==null||e.length===0)return;let t=this.quill.getText(e);/^\S+@\S+\.\S+$/.test(t)&&t.indexOf("mailto:")!==0&&(t=`mailto:${t}`);const{tooltip:s}=this.quill.theme;s.edit("link",t)}else this.quill.format("link",!1,re.sources.USER)}}}}});re.register({"attributors/attribute/direction":qc,"attributors/class/align":Ic,"attributors/class/background":Qv,"attributors/class/color":Yv,"attributors/class/direction":Rc,"attributors/class/font":Dc,"attributors/class/size":Mc,"attributors/style/align":Lc,"attributors/style/background":Hi,"attributors/style/color":zi,"attributors/style/direction":Pc,"attributors/style/font":Bc,"attributors/style/size":Uc},!0);re.register({"formats/align":Ic,"formats/direction":Rc,"formats/indent":H1,"formats/background":Hi,"formats/color":zi,"formats/font":Dc,"formats/size":Mc,"formats/blockquote":G1,"formats/code-block":Mt,"formats/header":K1,"formats/list":Pl,"formats/bold":Zi,"formats/code":Gi,"formats/italic":V1,"formats/link":un,"formats/script":W1,"formats/strike":Z1,"formats/underline":X1,"formats/formula":Y1,"formats/image":Q1,"formats/video":J1,"modules/syntax":Gc,"modules/table":ty,"modules/toolbar":Yi,"themes/bubble":Xc,"themes/snow":Yc,"ui/icons":Il,"ui/picker":Cn,"ui/icon-picker":Vc,"ui/color-picker":Kc,"ui/tooltip":Wc},!0);var Wy=v(`<div class=html-editor-wrapper><div class="rounded-lg border-2 border-slate-200 bg-white overflow-hidden"style=height:300px></div><style>
        .html-editor-wrapper .ql-container {
          font-size: 16px;
          border: none !important;
        }
        .html-editor-wrapper .ql-editor {
          padding: 12px;
          min-height: 250px;
          font-family: inherit;
        }
        .html-editor-wrapper .ql-toolbar {
          border: none !important;
          border-bottom: 1px solid #e2e8f0 !important;
          background-color: #f8fafc;
        }
        .html-editor-wrapper .ql-toolbar.ql-snow .ql-formats {
          margin-right: 15px;
        }
        .html-editor-wrapper .ql-toolbar.ql-snow .ql-stroke {
          stroke: #64748b;
        }
        .html-editor-wrapper .ql-toolbar.ql-snow .ql-fill {
          fill: #64748b;
        }
        .html-editor-wrapper .ql-toolbar.ql-snow .ql-picker-label {
          color: #64748b;
        }
        .html-editor-wrapper .ql-toolbar.ql-snow .ql-picker-options {
          color: #64748b;
        }
      `);function Zy(r){let e,t=null;return Zt(()=>{e&&(t=new re(e,{theme:"snow",placeholder:r.placeholder||"Ù…ØªÙ† Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯...",modules:{toolbar:[["bold","italic","underline"],["blockquote","code-block"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],["link","image"],["clean"]]}}),r.value&&(t.root.innerHTML=r.value),t.on("text-change",()=>{const s=t.root.innerHTML;r.onChange(s)}))}),Or(()=>{t&&r.value&&t.root.innerHTML!==r.value&&(t.root.innerHTML=r.value)}),(()=>{var s=Wy(),l=s.firstChild,n=e;return typeof n=="function"?Oo(n,l):e=l,s})()}var Xy=v('<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">'),Yy=v('<div class="bg-white rounded-lg shadow-sm border border-slate-200 overflow-hidden"><table class=w-full><thead class="bg-slate-50 border-b border-slate-200"><tr><th class="px-6 py-3 text-right text-sm font-semibold text-slate-700">Ù†Ø§Ù… Ù…Ø­ØµÙˆÙ„</th><th class="px-6 py-3 text-right text-sm font-semibold text-slate-700">SKU</th><th class="px-6 py-3 text-right text-sm font-semibold text-slate-700">Ù‚ÛŒÙ…Øª</th><th class="px-6 py-3 text-right text-sm font-semibold text-slate-700">Ù…ÙˆØ¬ÙˆØ¯ÛŒ</th><th class="px-6 py-3 text-right text-sm font-semibold text-slate-700">Ø¯Ø³ØªÙ‡â€ŒØ¨Ù†Ø¯ÛŒ</th><th class="px-6 py-3 text-right text-sm font-semibold text-slate-700">Ø¹Ù…Ù„ÛŒØ§Øª</th></tr></thead><tbody>'),Qy=v('<div class="text-center py-12 bg-white rounded-xl border-2 border-dashed border-slate-300"><i class="fa-solid fa-image text-5xl text-slate-300 mb-4 block"></i><p class="text-slate-600 font-semibold mb-2">Ù‡ÛŒÚ† ØªØµÙˆÛŒØ±ÛŒ Ø§ÙØ²ÙˆØ¯Ù‡ Ù†Ø´Ø¯Ù‡â€ŒØ§Ø³Øª</p><p class="text-slate-500 text-sm">Ø¨Ø±Ø§ÛŒ Ø´Ø±ÙˆØ¹ØŒ Ø¯Ú©Ù…Ù‡ "Ø§ÙØ²ÙˆØ¯Ù† ØªØµÙˆÛŒØ± Ø¬Ø¯ÛŒØ¯" Ø±Ø§ Ú©Ù„ÛŒÚ© Ú©Ù†ÛŒØ¯'),Jy=v('<div class="text-center py-12 bg-white rounded-xl border-2 border-dashed border-slate-300"><i class="fa-solid fa-ruler text-5xl text-slate-300 mb-4 block"></i><p class="text-slate-600 font-semibold">Ù‡ÛŒÚ† Ø³Ø§ÛŒØ²ÛŒ Ø§ÙØ²ÙˆØ¯Ù‡ Ù†Ø´Ø¯Ù‡â€ŒØ§Ø³Øª'),e$=v('<div class="text-center py-12 bg-white rounded-xl border-2 border-dashed border-slate-300"><i class="fa-solid fa-palette text-5xl text-slate-300 mb-4 block"></i><p class="text-slate-600 font-semibold">Ù‡ÛŒÚ† Ø±Ù†Ú¯ÛŒ Ø§ÙØ²ÙˆØ¯Ù‡ Ù†Ø´Ø¯Ù‡â€ŒØ§Ø³Øª'),t$=v('<div class="text-center py-8 text-slate-500"><i class="fa-solid fa-inbox text-4xl text-slate-300 mb-3 block"></i><p class=font-semibold>Ù‡ÛŒÚ† Ú¯Ø±ÙˆÙ‡ÛŒ Ù…ÙˆØ¬ÙˆØ¯ Ù†ÛŒØ³Øª'),r$=v('<div class="fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4 overflow-y-auto"><div class="bg-white rounded-2xl shadow-2xl max-w-6xl w-full max-h-[95vh] overflow-y-auto my-8"dir=rtl><div class="sticky top-0 z-10 bg-linear-to-r from-blue-600 via-blue-700 to-blue-800 text-white p-8 rounded-t-2xl border-b-4 border-blue-900"><div class="flex items-center justify-between"><div><h3 class="text-3xl font-bold flex items-center gap-3 mb-1"></h3><p class="text-blue-100 text-sm mt-1">Ù…Ø¯ÛŒØ±ÛŒØª Ø¬Ø²Ø¦ÛŒØ§Øª Ù…Ø­ØµÙˆÙ„ Ø´Ø§Ù…Ù„ Ø§Ø·Ù„Ø§Ø¹Ø§ØªØŒ ØªØµØ§ÙˆÛŒØ± Ùˆ Ù‚ÛŒÙ…Øªâ€ŒÚ¯Ø°Ø§Ø±ÛŒ</p></div><button class="bg-blue-500/30 hover:bg-blue-500/50 text-white p-3 rounded-xl transition-colors"title=Ø¨Ø³ØªÙ†><i class="fa-solid fa-times text-2xl"></i></button></div></div><div class="p-8 space-y-8"><div class="bg-linear-to-br from-slate-50 to-slate-100 rounded-2xl p-8 border-2 border-slate-200 hover:border-blue-300 transition-colors"><div class="flex items-center gap-3 mb-6"><div class="bg-blue-100 text-blue-700 p-3 rounded-xl"><i class="fa-solid fa-info-circle text-xl"></i></div><h4 class="text-2xl font-bold text-slate-900">Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ù¾Ø§ÛŒÙ‡</h4><span class="text-red-500 text-sm font-semibold">* Ø§Ù„Ø²Ø§Ù…ÛŒ</span></div><div class="grid grid-cols-1 md:grid-cols-2 gap-6"><div class=space-y-2><label class="flex text-sm font-bold text-slate-800 items-center gap-2"><span class="bg-blue-500 text-white rounded-full w-5 h-5 flex items-center justify-center text-xs">1</span>Ù†Ø§Ù… Ù…Ø­ØµÙˆÙ„<span class=text-red-500>*</span></label><input type=text placeholder="Ù…Ø«Ø§Ù„: Ú¯ÙˆØ´ÛŒ Ù‡ÙˆØ´Ù…Ù†Ø¯..."class="w-full px-4 py-3 border-2 border-slate-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all text-slate-800 placeholder:text-slate-400"></div><div class=space-y-2><label class="flex text-sm font-bold text-slate-800 items-center gap-2"><span class="bg-blue-500 text-white rounded-full w-5 h-5 flex items-center justify-center text-xs">2</span>Ú©Ø¯ SKU<span class=text-red-500>*</span></label><input type=text placeholder="Ù…Ø«Ø§Ù„: SKU-12345..."class="w-full px-4 py-3 border-2 border-slate-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all text-slate-800 placeholder:text-slate-400"></div><div class=space-y-2><label class="flex text-sm font-bold text-slate-800 items-center gap-2"><i class="fa-solid fa-box text-green-500"></i>Ù…ÙˆØ¬ÙˆØ¯ÛŒ</label><input type=number placeholder="ØªØ¹Ø¯Ø§Ø¯ Ù…ÙˆØ¬ÙˆØ¯"class="w-full px-4 py-3 border-2 border-slate-300 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-all text-slate-800 placeholder:text-slate-400"></div><div class=space-y-2><label class="flex text-sm font-bold text-slate-800 items-center gap-2"><i class="fa-solid fa-folder text-purple-500"></i>Ø¯Ø³ØªÙ‡â€ŒØ¨Ù†Ø¯ÛŒ</label><select class="w-full px-4 py-3 border-2 border-slate-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition-all text-slate-800 bg-white"><option value>Ø§Ù†ØªØ®Ø§Ø¨ Ø¯Ø³ØªÙ‡â€ŒØ¨Ù†Ø¯ÛŒ...</option></select></div><div class=space-y-2><label class="flex text-sm font-bold text-slate-800 items-center gap-2"><i class="fa-solid fa-tag text-orange-500"></i>Ø¨Ø±Ù†Ø¯</label><select class="w-full px-4 py-3 border-2 border-slate-300 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all text-slate-800 bg-white"><option value>Ø§Ù†ØªØ®Ø§Ø¨ Ø¨Ø±Ù†Ø¯...</option></select></div><div class="md:col-span-2 space-y-2"><label class="flex text-sm font-bold text-slate-800 items-center gap-2"><i class="fa-solid fa-align-left text-sky-500"></i>ØªÙˆØ¶ÛŒØ­Ø§Øª (HTML)</label></div></div></div><div class="bg-linear-to-br from-slate-50 to-slate-100 rounded-2xl p-8 border-2 border-slate-200 hover:border-amber-300 transition-colors"><div class="flex items-center gap-3 mb-6"><div class="bg-amber-100 text-amber-700 p-3 rounded-xl"><i class="fa-solid fa-gears text-xl"></i></div><h4 class="text-2xl font-bold text-slate-900">Ù…Ø´Ø®ØµØ§Øª ÙÙ†ÛŒ</h4></div><div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"><div class=space-y-2><label class="flex text-sm font-bold text-slate-800 items-center gap-2"><i class="fa-solid fa-microchip text-amber-600"></i>Ø´Ù…Ø§Ø±Ù‡ Ù…Ø¯Ù„</label><input type=text placeholder="Ù…Ø«Ø§Ù„: Model-2024-Pro"class="w-full px-4 py-3 border-2 border-slate-300 rounded-xl focus:ring-2 focus:ring-amber-500 focus:border-amber-500 transition-all text-slate-800 placeholder:text-slate-400"></div><div class=space-y-2><label class="flex text-sm font-bold text-slate-800 items-center gap-2"><i class="fa-solid fa-shield text-green-600"></i>Ú¯Ø§Ø±Ø§Ù†ØªÛŒ</label><input type=text placeholder="Ù…Ø«Ø§Ù„: 2 Ø³Ø§Ù„"class="w-full px-4 py-3 border-2 border-slate-300 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-all text-slate-800 placeholder:text-slate-400"></div><div class=space-y-2><label class="flex text-sm font-bold text-slate-800 items-center gap-2"><i class="fa-solid fa-weight text-red-600"></i>ÙˆØ²Ù† (Ú©ÛŒÙ„ÙˆÚ¯Ø±Ù…)</label><input type=number step=0.1 placeholder=0.5 class="w-full px-4 py-3 border-2 border-slate-300 rounded-xl focus:ring-2 focus:ring-red-500 focus:border-red-500 transition-all text-slate-800 placeholder:text-slate-400"></div><div class=space-y-2><label class="flex text-sm font-bold text-slate-800 items-center gap-2"><i class="fa-solid fa-ruler text-blue-600"></i>Ø§Ø¨Ø¹Ø§Ø¯</label><input type=text placeholder="30x40x50 Ø³Ø§Ù†ØªÛŒâ€ŒÙ…ØªØ±"class="w-full px-4 py-3 border-2 border-slate-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all text-slate-800 placeholder:text-slate-400"></div><div class=space-y-2><label class="flex text-sm font-bold text-slate-800 items-center gap-2"><i class="fa-solid fa-bolt text-yellow-600"></i>Ù‚Ø¯Ø±Øª</label><input type=text placeholder=1000W class="w-full px-4 py-3 border-2 border-slate-300 rounded-xl focus:ring-2 focus:ring-yellow-500 focus:border-yellow-500 transition-all text-slate-800 placeholder:text-slate-400"></div><div class=space-y-2><label class="flex text-sm font-bold text-slate-800 items-center gap-2"><i class="fa-solid fa-cube text-indigo-600"></i>Ø¬Ù†Ø³</label><input type=text placeholder="Ø§Ø³ØªÛŒÙ„ Ø¶Ø¯ Ø²Ù†Ú¯"class="w-full px-4 py-3 border-2 border-slate-300 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all text-slate-800 placeholder:text-slate-400"></div><div class=space-y-2><label class="flex text-sm font-bold text-slate-800 items-center gap-2"><i class="fa-solid fa-droplet text-cyan-600"></i>Ø¸Ø±ÙÛŒØª</label><input type=text placeholder="5 Ù„ÛŒØªØ±"class="w-full px-4 py-3 border-2 border-slate-300 rounded-xl focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 transition-all text-slate-800 placeholder:text-slate-400"></div><div class=space-y-2><label class="flex text-sm font-bold text-slate-800 items-center gap-2"><i class="fa-solid fa-star text-pink-600"></i>ÙˆÛŒÚ˜Ú¯ÛŒâ€ŒÙ‡Ø§</label><input type=text placeholder="Ø¯ÛŒØ¬ÛŒØªØ§Ù„ØŒ ØªØ§ÛŒÙ…Ø±ØŒ Ø¶Ø¯ Ú†Ú©Ù‡"class="w-full px-4 py-3 border-2 border-slate-300 rounded-xl focus:ring-2 focus:ring-pink-500 focus:border-pink-500 transition-all text-slate-800 placeholder:text-slate-400"></div></div><div class="mt-6 flex items-center gap-3 p-4 bg-white rounded-xl border-2 border-slate-200"><input type=checkbox id=active-toggle class="w-5 h-5 rounded border-slate-300 text-green-600 focus:ring-green-500 cursor-pointer"><label for=active-toggle class="flex items-center gap-2 cursor-pointer"><span class="text-sm font-bold text-slate-800">ÙØ¹Ø§Ù„ Ø¨ÙˆØ¯Ù† Ù…Ø­ØµÙˆÙ„</span></label></div></div><div class="bg-linear-to-br from-slate-50 to-slate-100 rounded-2xl p-8 border-2 border-slate-200 hover:border-sky-300 transition-colors"><div class="flex items-center justify-between mb-6"><div class="flex items-center gap-3"><div class="bg-sky-100 text-sky-700 p-3 rounded-xl"><i class="fa-solid fa-image text-xl"></i></div><h4 class="text-2xl font-bold text-slate-900">ØªØµØ§ÙˆÛŒØ± Ù…Ø­ØµÙˆÙ„</h4><span class="bg-sky-100 text-sky-700 px-3 py-1 rounded-full text-xs font-bold"></span></div><button class="px-5 py-3 bg-linear-to-r from-sky-500 to-sky-600 text-white rounded-xl font-bold hover:shadow-lg transition-all hover:scale-105 flex items-center gap-2"><i class="fa-solid fa-plus"></i>Ø§ÙØ²ÙˆØ¯Ù† ØªØµÙˆÛŒØ± Ø¬Ø¯ÛŒØ¯</button></div></div><div class="bg-linear-to-br from-slate-50 to-slate-100 rounded-2xl p-8 border-2 border-slate-200 hover:border-green-300 transition-colors"><div class="flex items-center justify-between mb-6"><div class="flex items-center gap-3"><div class="bg-green-100 text-green-700 p-3 rounded-xl"><i class="fa-solid fa-ruler text-xl"></i></div><h4 class="text-2xl font-bold text-slate-900">Ø§Ù†Ø¯Ø§Ø²Ù‡â€ŒÙ‡Ø§ Ùˆ Ø³Ø§ÛŒØ²Ù‡Ø§</h4><span class="bg-green-100 text-green-700 px-3 py-1 rounded-full text-xs font-bold"></span></div><button class="px-5 py-3 bg-linear-to-r from-green-500 to-green-600 text-white rounded-xl font-bold hover:shadow-lg transition-all hover:scale-105 flex items-center gap-2"><i class="fa-solid fa-plus"></i>Ø§ÙØ²ÙˆØ¯Ù† Ø³Ø§ÛŒØ² Ø¬Ø¯ÛŒØ¯</button></div></div><div class="bg-linear-to-br from-slate-50 to-slate-100 rounded-2xl p-8 border-2 border-slate-200 hover:border-pink-300 transition-colors"><div class="flex items-center justify-between mb-6"><div class="flex items-center gap-3"><div class="bg-pink-100 text-pink-700 p-3 rounded-xl"><i class="fa-solid fa-palette text-xl"></i></div><h4 class="text-2xl font-bold text-slate-900">Ø±Ù†Ú¯â€ŒÙ‡Ø§ Ùˆ Ú¯ÙˆÙ†Ù‡â€ŒÙ‡Ø§</h4><span class="bg-pink-100 text-pink-700 px-3 py-1 rounded-full text-xs font-bold"></span></div><button class="px-5 py-3 bg-linear-to-r from-pink-500 to-pink-600 text-white rounded-xl font-bold hover:shadow-lg transition-all hover:scale-105 flex items-center gap-2"><i class="fa-solid fa-plus"></i>Ø§ÙØ²ÙˆØ¯Ù† Ø±Ù†Ú¯ Ø¬Ø¯ÛŒØ¯</button></div></div><div class="bg-linear-to-br from-slate-50 to-slate-100 rounded-2xl p-8 border-2 border-slate-200 hover:border-indigo-300 transition-colors"><div class="flex items-center gap-3 mb-6"><div class="bg-indigo-100 text-indigo-700 p-3 rounded-xl"><i class="fa-solid fa-users-gear text-xl"></i></div><h4 class="text-2xl font-bold text-slate-900">Ø¯Ø³ØªØ±Ø³ÛŒ Ú¯Ø±ÙˆÙ‡â€ŒÙ‡Ø§ Ùˆ Ù‚ÛŒÙ…Øªâ€ŒÚ¯Ø°Ø§Ø±ÛŒ</h4></div><div class=space-y-6><div><label class="flex text-sm font-bold text-slate-800 mb-4 items-center gap-2"><i class="fa-solid fa-shield-halved text-indigo-600"></i>Ú¯Ø±ÙˆÙ‡â€ŒÙ‡Ø§ÛŒ Ú©Ø§Ø±Ø¨Ø±ÛŒ Ø¯Ø³ØªØ±Ø³ÛŒâ€ŒÙ¾Ø°ÛŒØ±</label><div class="bg-white rounded-xl border-2 border-slate-200 p-6"></div></div></div></div><div class="sticky bottom-0 bg-linear-to-r from-slate-900 to-slate-800 border-t-4 border-blue-600 p-8 flex gap-4 -m-8 mt-8 rounded-b-2xl shadow-2xl"><button class="flex-1 px-8 py-4 bg-linear-to-r from-green-500 to-green-600 text-white rounded-xl hover:shadow-2xl hover:scale-105 transition-all font-bold text-lg flex items-center justify-center gap-3 shadow-lg"><i class="fa-solid fa-floppy-disk text-xl"></i></button><button class="px-8 py-4 bg-slate-600 text-white rounded-xl hover:bg-slate-700 hover:scale-105 transition-all font-bold flex items-center gap-3 shadow-lg"><i class="fa-solid fa-circle-xmark text-xl"></i>Ø§Ù†ØµØ±Ø§Ù'),s$=v('<div dir=rtl><div class="flex items-center justify-between mb-6"><div><h2 class="text-3xl font-bold text-slate-800 mb-2">Ù…Ø¯ÛŒØ±ÛŒØª Ù…Ø­ØµÙˆÙ„Ø§Øª</h2><p class=text-slate-600>Ø§ÛŒØ¬Ø§Ø¯ØŒ ÙˆÛŒØ±Ø§ÛŒØ´ Ùˆ Ø­Ø°Ù Ù…Ø­ØµÙˆÙ„Ø§Øª</p></div><button class="px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 font-semibold"><i class="fa-solid fa-plus"></i>Ø§ÙØ²ÙˆØ¯Ù† Ù…Ø­ØµÙˆÙ„ Ø¬Ø¯ÛŒØ¯</button></div><div class="bg-white rounded-lg shadow-sm border border-slate-200 p-4 mb-6"><div class="grid grid-cols-1 md:grid-cols-3 gap-4"><div class="relative md:col-span-2"><input type=text placeholder="Ø¬Ø³ØªØ¬Ùˆ Ø¯Ø± Ù…Ø­ØµÙˆÙ„Ø§Øª (Ù†Ø§Ù… ÛŒØ§ SKU)..."class="w-full px-4 py-3 pr-10 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"><i class="fa-solid fa-magnifying-glass absolute right-3 top-1/2 -translate-y-1/2 text-slate-400"></i></div><select class="px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"><option value>ğŸ“ Ù‡Ù…Ù‡ Ø¯Ø³ØªÙ‡â€ŒØ¨Ù†Ø¯ÛŒâ€ŒÙ‡Ø§</option></select></div><div class="flex gap-2 mt-4"><button><i class="fa-solid fa-grip-vertical"></i>Ù†Ù…Ø§ÛŒ Ø´Ø·Ø±Ù†Ø¬ÛŒ</button><button><i class="fa-solid fa-table"></i>Ù†Ù…Ø§ÛŒ Ø¬Ø¯ÙˆÙ„</button><div class=flex-1></div><span class="px-4 py-2 text-sm text-slate-600 font-medium"> Ù…Ø­ØµÙˆÙ„'),Zn=v("<option>"),l$=v('<div class="flex items-center justify-center py-12"><div class=text-center><div class="inline-block animate-spin mb-4"><i class="fa-solid fa-spinner text-4xl text-blue-600"></i></div><div class="text-slate-600 text-lg">Ø¯Ø± Ø­Ø§Ù„ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ...'),n$=v('<div class="bg-white rounded-lg shadow-sm border border-slate-200 p-12 text-center"><div class="text-6xl mb-4">ğŸ“¦</div><h3 class="text-xl font-semibold text-slate-800 mb-2">Ù…Ø­ØµÙˆÙ„ÛŒ ÛŒØ§ÙØª Ù†Ø´Ø¯</h3><p class=text-slate-600>Ù‡ÛŒÚ† Ù…Ø­ØµÙˆÙ„ÛŒ Ø¨Ø§ Ø§ÛŒÙ† ÙÛŒÙ„ØªØ±Ù‡Ø§ ÙˆØ¬ÙˆØ¯ Ù†Ø¯Ø§Ø±Ø¯'),i$=v('<div class="bg-white rounded-lg shadow-sm border border-slate-200 hover:shadow-lg hover:border-blue-300 transition-all overflow-hidden"><div class="relative h-48 bg-slate-100 overflow-hidden"></div><div class=p-4><h3 class="text-base font-bold text-slate-900 line-clamp-2 mb-2"></h3><div class="space-y-2 text-xs text-slate-600 mb-3"><div><span class=font-mono>SKU: </span></div></div><div class="border-t border-slate-200 pt-3 mb-3"><div class="flex justify-between items-center mb-2"><span class="text-xl font-bold text-blue-600"> ØªÙˆÙ…Ø§Ù†</span><span class="text-sm font-semibold">Ù…ÙˆØ¬ÙˆØ¯ÛŒ: <span></span></span></div></div><div class="flex gap-2 pt-3 border-t border-slate-200"><button class="flex-1 px-3 py-2 bg-blue-50 text-blue-700 rounded-lg hover:bg-blue-100 transition-colors text-sm font-medium"title="ÙˆÛŒØ±Ø§ÛŒØ´ Ù…Ø­ØµÙˆÙ„"><i class="fa-solid fa-pen-to-square"></i> ÙˆÛŒØ±Ø§ÛŒØ´</button><button class="px-3 py-2 bg-red-50 text-red-700 rounded-lg hover:bg-red-100 transition-colors text-sm font-medium"title="Ø­Ø°Ù Ù…Ø­ØµÙˆÙ„"><i class="fa-solid fa-trash">'),a$=v('<img class="w-full h-full object-cover">'),o$=v('<div class="w-full h-full flex items-center justify-center text-slate-400"><i class="fa-solid fa-image text-4xl">'),c$=v('<div class="absolute inset-0 bg-black/50 flex items-center justify-center"><span class="text-white font-bold">ØºÛŒØ± ÙØ¹Ø§Ù„'),d$=v('<div><i class="fa-solid fa-microchip text-slate-400"></i> Ù…Ø¯Ù„: '),u$=v('<div><i class="fa-solid fa-shield text-slate-400"></i> Ú¯Ø§Ø±Ø§Ù†ØªÛŒ: '),h$=v('<div class="flex gap-2 mb-3 flex-wrap">'),f$=v('<span class="px-2 py-1 bg-purple-50 text-purple-700 rounded text-xs font-medium">'),g$=v('<span class="px-2 py-1 bg-blue-50 text-blue-700 rounded text-xs font-medium">'),p$=v('<div class="text-xs text-slate-600 mb-3 space-y-1">'),b$=v('<div><i class="fa-solid fa-ruler text-slate-400"></i> <!> Ø³Ø§ÛŒØ²'),m$=v('<div><i class="fa-solid fa-palette text-slate-400"></i> <!> Ø±Ù†Ú¯'),x$=v('<tr class="border-b border-slate-200 hover:bg-slate-50 transition-colors"><td class="px-6 py-4"><div class="flex items-center gap-3"><div><div class="font-medium text-slate-900 text-sm"></div><div class="text-xs text-slate-500"></div></div></div></td><td class="px-6 py-4 text-sm font-mono text-slate-700"></td><td class="px-6 py-4 text-sm font-bold text-blue-600"> ØªÙˆÙ…Ø§Ù†</td><td class="px-6 py-4 text-sm"><span></span></td><td class="px-6 py-4 text-sm"><span class="px-2 py-1 bg-blue-50 text-blue-700 rounded text-xs"></span></td><td class="px-6 py-4 text-sm"><div class="flex gap-2"><button class="px-3 py-1 bg-blue-50 text-blue-700 rounded hover:bg-blue-100 transition-colors text-xs font-medium"><i class="fa-solid fa-pen-to-square"></i> ÙˆÛŒØ±Ø§ÛŒØ´</button><button class="px-3 py-1 bg-red-50 text-red-700 rounded hover:bg-red-100 transition-colors text-xs font-medium"><i class="fa-solid fa-trash">'),v$=v('<img alt class="w-10 h-10 rounded object-cover">'),y$=v('<div class="w-10 h-10 rounded bg-slate-200 flex items-center justify-center text-slate-400"><i class="fa-solid fa-image text-sm">'),$$=v('<div class="bg-blue-500 p-3 rounded-xl"><i class="fa-solid fa-pen-to-square text-xl">'),w$=v('<div class="bg-blue-500 p-3 rounded-xl"><i class="fa-solid fa-plus text-xl">'),_$=v('<span class="px-3 py-1 bg-green-100 text-green-700 rounded-full text-xs font-bold">ÙØ¹Ø§Ù„'),S$=v('<span class="px-3 py-1 bg-red-100 text-red-700 rounded-full text-xs font-bold">ØºÛŒØ±ÙØ¹Ø§Ù„'),C$=v("<div class=space-y-4>"),A$=v('<div class="bg-white rounded-xl border-2 border-slate-200 hover:border-sky-400 transition-all overflow-hidden shadow-sm hover:shadow-md"><div class="flex gap-4 p-6"><div class=shrink-0></div><div class="flex-1 space-y-4"><div><label class="flex text-sm font-bold text-slate-800 mb-2 items-center gap-2"><i class="fa-solid fa-cloud-arrow-up text-sky-500"></i>Ø§Ù†ØªØ®Ø§Ø¨ ÛŒØ§ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ ØªØµÙˆÛŒØ±</label><input type=file accept=image/* multiple class="w-full text-sm text-slate-600 file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-bold file:bg-sky-100 file:text-sky-700 hover:file:bg-sky-200 cursor-pointer transition-all"></div><div><label class="flex text-sm font-bold text-slate-800 mb-2 items-center gap-2"><i class="fa-solid fa-font text-slate-500"></i>Ù…ØªÙ† Ø¬Ø§ÛŒÚ¯Ø²ÛŒÙ† (Alt Text)</label><input type=text placeholder="ØªÙˆØ¶ÛŒØ­Ø§Øª Ù…Ø®ØªØµØ± ØªØµÙˆÛŒØ± Ø¨Ø±Ø§ÛŒ SEO"class="w-full px-4 py-3 border-2 border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500 transition-all text-slate-800 placeholder:text-slate-400"></div><div class="flex items-center gap-4 pt-2 border-t border-slate-200"><label class="flex items-center gap-3 cursor-pointer hover:bg-yellow-50 px-3 py-2 rounded-lg transition-colors"><input type=checkbox class="w-5 h-5 rounded border-slate-300 text-yellow-500 focus:ring-yellow-500 cursor-pointer"><span class="font-bold text-slate-800 flex items-center gap-2"><i class="fa-solid fa-star text-yellow-500"></i>ØªØµÙˆÛŒØ± Ø§ØµÙ„ÛŒ</span></label><button class="px-4 py-2 bg-red-100 text-red-700 rounded-lg font-bold hover:bg-red-200 transition-all hover:scale-105 flex items-center gap-2 text-sm"><i class="fa-solid fa-trash"></i>Ø­Ø°Ù'),k$=v('<div class=relative><img class="w-32 h-32 object-cover rounded-xl border-2 border-slate-300 shadow-md">'),E$=v('<div class="absolute top-2 right-2 bg-yellow-500 text-white px-3 py-1 rounded-full text-xs font-bold flex items-center gap-1"><i class="fa-solid fa-star"></i>Ø§ØµÙ„ÛŒ'),N$=v('<div class="w-32 h-32 bg-linear-to-br from-slate-200 to-slate-300 rounded-xl border-2 border-dashed border-slate-300 flex items-center justify-center text-slate-500 flex-col text-center text-sm"><i class="fa-solid fa-image text-3xl mb-2"></i>Ø¨Ø¯ÙˆÙ† ØªØµÙˆÛŒØ±'),yo=v("<div class=space-y-3>"),T$=v('<div class="bg-white rounded-xl border-2 border-slate-200 hover:border-green-400 transition-all p-5 flex gap-4 items-end shadow-sm hover:shadow-md"><div class=flex-1><label class="block text-sm font-bold text-slate-800 mb-2">Ù†Ø§Ù… Ø³Ø§ÛŒØ²</label><input type=text placeholder="Ù…Ø«Ø§Ù„: Large, XL, 42"class="w-full px-4 py-3 border-2 border-slate-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-all text-slate-800 placeholder:text-slate-400 font-medium"></div><div class=w-32><label class="block text-sm font-bold text-slate-800 mb-2">Ù…ÙˆØ¬ÙˆØ¯ÛŒ</label><input type=number placeholder=0 class="w-full px-4 py-3 border-2 border-slate-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-all text-slate-800 text-center font-bold"></div><div class=w-40><label class="block text-sm font-bold text-slate-800 mb-2">Ù‚ÛŒÙ…Øª Ø§Ø®ØªÛŒØ§Ø±ÛŒ</label><input type=number placeholder="Ù…Ø«Ø§Ù„: 150000"class="w-full px-4 py-3 border-2 border-slate-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-all text-slate-800 text-center"></div><button class="px-4 py-3 bg-red-100 text-red-700 rounded-lg font-bold hover:bg-red-200 transition-all hover:scale-105"><i class="fa-solid fa-trash">'),I$=v('<div class="bg-white rounded-xl border-2 border-slate-200 hover:border-pink-400 transition-all p-5 flex gap-4 items-end shadow-sm hover:shadow-md"><div class=flex-1><label class="block text-sm font-bold text-slate-800 mb-2">Ù†Ø§Ù… Ø±Ù†Ú¯</label><input type=text placeholder="Ù…Ø«Ø§Ù„: Ù‚Ø±Ù…Ø²ØŒ Ø¢Ø¨ÛŒØŒ Ù…Ø´Ú©ÛŒ"class="w-full px-4 py-3 border-2 border-slate-300 rounded-lg focus:ring-2 focus:ring-pink-500 focus:border-pink-500 transition-all text-slate-800 placeholder:text-slate-400 font-medium"></div><div class=w-40><label class="block text-sm font-bold text-slate-800 mb-2">Ú©Ø¯ Ø±Ù†Ú¯ HEX</label><input type=text placeholder=#FF0000 class="w-full px-4 py-3 border-2 border-slate-300 rounded-lg focus:ring-2 focus:ring-pink-500 focus:border-pink-500 transition-all text-slate-800 placeholder:text-slate-400 font-mono text-center"></div><div class=w-32><label class="block text-sm font-bold text-slate-800 mb-2">Ù…ÙˆØ¬ÙˆØ¯ÛŒ</label><input type=number placeholder=0 class="w-full px-4 py-3 border-2 border-slate-300 rounded-lg focus:ring-2 focus:ring-pink-500 focus:border-pink-500 transition-all text-slate-800 text-center font-bold"></div><button class="px-4 py-3 bg-red-100 text-red-700 rounded-lg font-bold hover:bg-red-200 transition-all hover:scale-105"><i class="fa-solid fa-trash">'),L$=v('<div class="flex flex-col items-center gap-2"><div class="w-12 h-12 rounded-xl border-2 border-slate-300 shadow-md hover:shadow-lg transition-all cursor-pointer"></div><span class="text-xs font-mono text-slate-600">'),O$=v('<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3">'),q$=v('<label class="flex items-center gap-3 cursor-pointer hover:bg-indigo-50 p-3 rounded-lg transition-colors border-2 border-transparent hover:border-indigo-300"><input type=checkbox class="w-5 h-5 rounded border-slate-300 text-indigo-600 focus:ring-indigo-500 cursor-pointer"><span class="font-semibold text-slate-800">'),R$=v('<span class="px-2 py-1 bg-indigo-100 text-indigo-700 rounded text-xs font-bold"><i class="fa-solid fa-check mr-1"></i>ÙØ¹Ø§Ù„'),P$=v('<div class="border-t-2 border-slate-300 pt-6"><button class="w-full px-6 py-4 bg-linear-to-r from-indigo-500 to-indigo-600 text-white rounded-xl hover:shadow-lg transition-all hover:scale-105 font-bold flex items-center justify-center gap-2"><i></i><i class="fa-solid fa-dollar-sign">'),j$=v('<div class="bg-linear-to-r from-indigo-50 to-blue-50 border-2 border-indigo-200 rounded-xl p-6 space-y-4"><div class="flex items-start gap-3 mb-4"><i class="fa-solid fa-circle-info text-indigo-600 text-xl mt-1"></i><div><p class="font-bold text-indigo-900">ØªÙ†Ø¸ÛŒÙ… Ù‚ÛŒÙ…Øª Ø§Ø®ØªØµØ§ØµÛŒ</p><p class="text-sm text-indigo-700 mt-1">Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯ Ù‚ÛŒÙ…Øªâ€ŒÙ‡Ø§ÛŒ Ù…Ø®ØªÙ„ÙÛŒ Ø¨Ø±Ø§ÛŒ Ù‡Ø± Ú¯Ø±ÙˆÙ‡ Ú©Ø§Ø±Ø¨Ø±ÛŒ ØªØ¹Ø±ÛŒÙ Ú©Ù†ÛŒØ¯</p></div></div><div class=space-y-3>'),D$=v('<div class="bg-white rounded-xl border-2 border-indigo-200 p-4 hover:shadow-md transition-all"><div class="flex items-end gap-3"><div class=flex-1><label class="block text-sm font-bold text-slate-800 mb-2"><i class="fa-solid fa-users text-indigo-600 mr-2"></i></label><input type=number placeholder="Ù‚ÛŒÙ…Øª Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯"step=1 class="w-full px-4 py-3 border-2 border-slate-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all text-slate-800 font-semibold text-lg"></div><span class="text-lg font-bold text-indigo-600 whitespace-nowrap">ØªÙˆÙ…Ø§Ù†');const B$=()=>{const[r,e]=Q([]),[t,s]=Q([]),[l,n]=Q([]),[i,a]=Q([]),[c,d]=Q(!1),[g,m]=Q(""),[h,p]=Q(null),[y,$]=Q("grid"),[w,S]=Q(!1),[E,A]=Q(null),[O,F]=Q(!1),[U,M]=Q([]),[L,z]=Q({name:"",description:"",sku:"",stock:"",modelNumber:"",warranty:"",weight:"",dimensions:"",power:"",material:"",capacity:"",features:"",isActive:!0,categoryId:null,brandId:null,groups:[],images:[],sizes:[],colors:[]}),ie=async()=>{d(!0);try{const[k,K,j,ee]=await Promise.all([Dt.getAll(),vr.getAll(),ht.groups.getAll(),ht.brands.getAll()]);e(k.data||[]),s(K.data||[]),n(j.data||[]),a(ee.data||[])}catch(k){console.error(k),alert("Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§")}finally{d(!1)}},b=()=>{A(null),z({name:"",description:"",sku:"",stock:"",modelNumber:"",warranty:"",weight:"",dimensions:"",power:"",material:"",capacity:"",features:"",isActive:!0,categoryId:null,brandId:null,groups:[],images:[],sizes:[],colors:[]})},C=async k=>{try{const K=k.ID??k.id,ee=(await Dt.getById(K)).data||k;A(K),z({name:ee.Name??ee.name??"",description:ee.Description??ee.description??"",sku:ee.SKU??ee.sku??"",stock:String(ee.Stock??ee.stock??0),modelNumber:ee.ModelNumber??ee.model_number??"",warranty:ee.Warranty??ee.warranty??"",weight:ee.Weight?String(ee.Weight):ee.weight?String(ee.weight):"",dimensions:ee.Dimensions??ee.dimensions??"",power:ee.Power??ee.power??"",material:ee.Material??ee.material??"",capacity:ee.Capacity??ee.capacity??"",features:ee.Features??ee.features??"",isActive:ee.IsActive??ee.is_active??!0,categoryId:ee.CategoryID??ee.category_id??null,brandId:ee.BrandID??ee.brand_id??null,groups:(ee.Groups||ee.groups||[]).map(te=>te.ID??te.id),images:(ee.Images||ee.images||[]).map(te=>({file:null,url:te.URL??te.url,alt:te.Alt??te.alt??"",isPrimary:te.IsPrimary??te.is_primary??!1,order:te.Order??te.order??0,preview:te.URL??te.url})),sizes:(ee.Sizes||ee.sizes||[]).map(te=>({name:te.Name??te.name??"",stock:te.Stock??te.stock??0,price:te.Price??te.price??""})),colors:(ee.Colors||ee.colors||[]).map(te=>({name:te.Name??te.name??"",hexCode:te.HexCode??te.hex_code??"",stock:te.Stock??te.stock??0}))}),S(!0)}catch(K){console.error("Error fetching product details:",K),A(k.ID??k.id),z({name:k.Name??k.name??"",description:k.Description??k.description??"",sku:k.SKU??k.sku??"",stock:String(k.Stock??k.stock??0),modelNumber:k.ModelNumber??k.model_number??"",warranty:k.Warranty??k.warranty??"",weight:k.Weight?String(k.Weight):k.weight?String(k.weight):"",dimensions:k.Dimensions??k.dimensions??"",power:k.Power??k.power??"",material:k.Material??k.material??"",capacity:k.Capacity??k.capacity??"",features:k.Features??k.features??"",isActive:k.IsActive??k.is_active??!0,categoryId:k.CategoryID??k.category_id??null,brandId:k.BrandID??k.brand_id??null,groups:(k.Groups||k.groups||[]).map(j=>j.ID??j.id),images:(k.Images||k.images||[]).map(j=>({file:null,url:j.URL??j.url,alt:j.Alt??j.alt??"",isPrimary:j.IsPrimary??j.is_primary??!1,order:j.Order??j.order??0,preview:j.URL??j.url})),sizes:(k.Sizes||k.sizes||[]).map(j=>({name:j.Name??j.name??"",stock:j.Stock??j.stock??0,price:j.Price??j.price??""})),colors:(k.Colors||k.colors||[]).map(j=>({name:j.Name??j.name??"",hexCode:j.HexCode??j.hex_code??"",stock:j.Stock??j.stock??0}))}),S(!0)}},x=()=>{z({...L(),images:[...L().images,{file:null,url:"",alt:"",is_primary:!1,order:L().images.length,preview:null}]})},R=(k,K)=>{if(!K||K.length===0)return;const j=[...L().images];Array.from(K).forEach((ee,te)=>{const J=te===0?k:j.length,ge=new FileReader;ge.onload=oe=>{const X=oe.target?.result,se={...J<j.length?j[J]:{alt:"",isPrimary:!1},file:ee,url:"",preview:X};J<j.length?j[J]=se:j.push({...se,order:j.length});const me=j.map((ve,Pe)=>({...ve,order:Pe}));z({...L(),images:me})},ge.readAsDataURL(ee)})},T=k=>{const K=L().images.filter((j,ee)=>ee!==k);z({...L(),images:K})},I=()=>{z({...L(),sizes:[...L().sizes,{name:"",stock:0,price:""}]})},D=k=>{const K=L().sizes.filter((j,ee)=>ee!==k);z({...L(),sizes:K})},P=()=>{z({...L(),colors:[...L().colors,{name:"",hex_code:"",stock:0}]})},B=k=>{const K=L().colors.filter((j,ee)=>ee!==k);z({...L(),colors:K})},q=async()=>{const k=L();if(!k.name.trim()||!k.sku.trim())return alert("Ù†Ø§Ù… Ùˆ SKU Ù…Ø­ØµÙˆÙ„ Ø§Ù„Ø²Ø§Ù…ÛŒ Ø§Ø³Øª");try{const K={name:k.name,description:k.description,sku:k.sku,stock:Number(k.stock||0),model_number:k.modelNumber,warranty:k.warranty,weight:k.weight?Number(k.weight):null,dimensions:k.dimensions,power:k.power,material:k.material,capacity:k.capacity,features:k.features,is_active:k.isActive};k.categoryId&&(K.category_id=k.categoryId),k.brandId&&(K.brand_id=k.brandId),K.sizes=k.sizes.filter(J=>J.name.trim()),K.colors=k.colors.filter(J=>J.name.trim());let j;if(E()){j=E();const J=[],ge=k.images.filter(X=>X.file&&!X.url);for(let X=0;X<ge.length;X++){const le=ge[X];try{const se=new FormData;se.append("image",le.file),se.append("alt",le.alt||""),se.append("is_primary",le.isPrimary?"true":"false"),se.append("order",String(le.order||X));const me=await Dt.uploadImage(j,se),ve=me.data?.url||me.data?.URL;ve&&J.push(ve)}catch(se){console.error("Error uploading image:",se),alert(`Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ ØªØµÙˆÛŒØ± ${X+1}`)}}let oe=0;K.images=k.images.filter(X=>X.url?.trim()||X.file).map(X=>X.file&&!X.url&&J[oe]?{url:J[oe++],alt:X.alt||"",is_primary:X.isPrimary||!1,order:X.order||0}:{url:X.url||"",alt:X.alt||"",is_primary:X.isPrimary||!1,order:X.order||0}),await Dt.update(j,K),alert("Ù…Ø­ØµÙˆÙ„ Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ø´Ø¯")}else{K.images=[];const J=await Dt.create(K);if(j=J.data?.ID??J.data?.id,!j){alert("Ø®Ø·Ø§ Ø¯Ø± Ø¯Ø±ÛŒØ§ÙØª Ø´Ù†Ø§Ø³Ù‡ Ù…Ø­ØµÙˆÙ„");return}const ge=k.images.filter(oe=>oe.file);for(let oe=0;oe<ge.length;oe++){const X=ge[oe];try{const le=new FormData;le.append("image",X.file),le.append("alt",X.alt||""),le.append("is_primary",X.isPrimary?"true":"false"),le.append("order",String(X.order||oe)),await Dt.uploadImage(j,le)}catch(le){console.error("Error uploading image:",le),alert(`Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ ØªØµÙˆÛŒØ± ${oe+1}`)}}alert("Ù…Ø­ØµÙˆÙ„ Ø¬Ø¯ÛŒØ¯ Ø§ÛŒØ¬Ø§Ø¯ Ø´Ø¯")}const ee=r().find(J=>(J.ID??J.id)===j)?.Groups?.map(J=>J.ID??J.id)||[];for(const J of ee)try{await ht.groups.removeProductFromGroup(J,j)}catch{}for(const J of k.groups)try{await ht.groups.addProductToGroup(J,j)}catch{}const te=U();if(te&&te.length>0)for(const J of te)try{await Dt.setGroupPrice(j,J.groupId,J.price)}catch(ge){console.error("Error setting group price:",ge)}b(),S(!1),M([]),await ie()}catch(K){console.error(K),alert("Ø®Ø·Ø§ Ø¯Ø± Ø«Ø¨Øª Ù…Ø­ØµÙˆÙ„")}},Z=async k=>{if(confirm("Ø¢ÛŒØ§ Ø§Ø² Ø­Ø°Ù Ø§ÛŒÙ† Ù…Ø­ØµÙˆÙ„ Ù…Ø·Ù…Ø¦Ù† Ù‡Ø³ØªÛŒØ¯ØŸ"))try{await Dt.delete(k),await ie(),alert("Ù…Ø­ØµÙˆÙ„ Ø­Ø°Ù Ø´Ø¯")}catch(K){console.error(K),alert("Ø®Ø·Ø§ Ø¯Ø± Ø­Ø°Ù Ù…Ø­ØµÙˆÙ„")}},W=He(()=>{let k=r();const K=g().trim().toLowerCase();return K&&(k=k.filter(j=>{const ee=String(j.Name??j.name??"").toLowerCase(),te=String(j.SKU??j.sku??"").toLowerCase();return ee.includes(K)||te.includes(K)})),h()&&(k=k.filter(j=>(j.CategoryID??j.category_id)===h())),k});return Zt(ie),(()=>{var k=s$(),K=k.firstChild,j=K.firstChild,ee=j.nextSibling,te=K.nextSibling,J=te.firstChild,ge=J.firstChild,oe=ge.firstChild,X=ge.nextSibling;X.firstChild;var le=J.nextSibling,se=le.firstChild,me=se.nextSibling,ve=me.nextSibling,Pe=ve.nextSibling,De=Pe.firstChild;return ee.$$click=()=>{b(),S(!0)},oe.$$input=Y=>m(Y.currentTarget.value),X.$$input=Y=>p(Y.currentTarget.value?Number(Y.currentTarget.value):null),u(X,_(ke,{get each(){return t()},children:Y=>(()=>{var H=Zn();return u(H,()=>Y.Name??Y.name),G(()=>H.value=Y.ID??Y.id),H})()}),null),se.$$click=()=>$("grid"),me.$$click=()=>$("table"),u(Pe,()=>W().length,De),u(k,_(ne,{get when(){return!c()},get fallback(){return l$()},get children(){return _(ne,{get when(){return W().length>0},get fallback(){return n$()},get children(){return[_(ne,{get when(){return y()==="grid"},get children(){var Y=Xy();return u(Y,_(ke,{get each(){return W()},children:H=>(()=>{var ae=i$(),fe=ae.firstChild,he=fe.nextSibling,Ie=he.firstChild,pe=Ie.nextSibling,de=pe.firstChild,we=de.firstChild;we.firstChild;var Re=pe.nextSibling,Ge=Re.firstChild,Ke=Ge.firstChild,Be=Ke.firstChild,Ze=Ke.nextSibling,dt=Ze.firstChild,ft=dt.nextSibling,ce=Re.nextSibling,Ee=ce.firstChild,Oe=Ee.nextSibling;return u(fe,(()=>{var be=Ne(()=>!!(H.Images&&H.Images.length>0));return()=>be()?(()=>{var Se=a$();return G(ue=>{var ye=(H.Images[0]?.URL??H.Images[0]?.url??"").startsWith("http")?H.Images[0]?.URL??H.Images[0]?.url:`http://localhost:8080${H.Images[0]?.URL??H.Images[0]?.url}`,Me=H.Images[0]?.Alt??H.Images[0]?.alt??H.Name??H.name;return ye!==ue.e&&Le(Se,"src",ue.e=ye),Me!==ue.t&&Le(Se,"alt",ue.t=Me),ue},{e:void 0,t:void 0}),Se})():o$()})(),null),u(fe,(()=>{var be=Ne(()=>!H.IsActive||!H.is_active);return()=>be()&&c$()})(),null),u(Ie,()=>H.Name??H.name),u(we,()=>H.SKU??H.sku,null),u(pe,(()=>{var be=Ne(()=>!!(H.ModelNumber??H.model_number));return()=>be()?(()=>{var Se=d$(),ue=Se.firstChild;return ue.nextSibling,u(Se,()=>H.ModelNumber??H.model_number,null),Se})():null})(),null),u(pe,(()=>{var be=Ne(()=>!!(H.Warranty??H.warranty));return()=>be()?(()=>{var Se=u$(),ue=Se.firstChild;return ue.nextSibling,u(Se,()=>H.Warranty??H.warranty,null),Se})():null})(),null),u(he,(()=>{var be=Ne(()=>!!(H.Brand||H.Category));return()=>be()&&(()=>{var Se=h$();return u(Se,(()=>{var ue=Ne(()=>!!H.Brand);return()=>ue()?(()=>{var ye=f$();return u(ye,()=>H.Brand.Name??H.Brand.name),ye})():null})(),null),u(Se,(()=>{var ue=Ne(()=>!!H.Category);return()=>ue()?(()=>{var ye=g$();return u(ye,()=>H.Category.Name??H.Category.name),ye})():null})(),null),Se})()})(),Re),u(Ke,()=>Number(H.Price??H.price??0).toLocaleString("fa-IR"),Be),u(ft,()=>H.Stock??H.stock??0),u(he,(()=>{var be=Ne(()=>!!(H.Sizes&&H.Sizes.length>0||H.Colors&&H.Colors.length>0));return()=>be()&&(()=>{var Se=p$();return u(Se,(()=>{var ue=Ne(()=>!!(H.Sizes&&H.Sizes.length>0));return()=>ue()?(()=>{var ye=b$(),Me=ye.firstChild,pt=Me.nextSibling,bt=pt.nextSibling;return bt.nextSibling,u(ye,()=>H.Sizes.length,bt),ye})():null})(),null),u(Se,(()=>{var ue=Ne(()=>!!(H.Colors&&H.Colors.length>0));return()=>ue()?(()=>{var ye=m$(),Me=ye.firstChild,pt=Me.nextSibling,bt=pt.nextSibling;return bt.nextSibling,u(ye,()=>H.Colors.length,bt),ye})():null})(),null),Se})()})(),ce),Ee.$$click=()=>C(H),Oe.$$click=()=>Z(H.ID??H.id),G(()=>tt(ft,(H.Stock??H.stock??0)>0?"text-green-600":"text-red-600")),ae})()})),Y}}),_(ne,{get when(){return y()==="table"},get children(){var Y=Yy(),H=Y.firstChild,ae=H.firstChild,fe=ae.nextSibling;return u(fe,_(ke,{get each(){return W()},children:he=>(()=>{var Ie=x$(),pe=Ie.firstChild,de=pe.firstChild,we=de.firstChild,Re=we.firstChild,Ge=Re.nextSibling,Ke=pe.nextSibling,Be=Ke.nextSibling,Ze=Be.firstChild,dt=Be.nextSibling,ft=dt.firstChild,ce=dt.nextSibling,Ee=ce.firstChild,Oe=ce.nextSibling,be=Oe.firstChild,Se=be.firstChild,ue=Se.nextSibling;return u(de,(()=>{var ye=Ne(()=>!!(he.Images&&he.Images[0]));return()=>ye()?(()=>{var Me=v$();return G(()=>Le(Me,"src",(he.Images[0]?.URL??he.Images[0]?.url??"").startsWith("http")?he.Images[0]?.URL??he.Images[0]?.url:`http://localhost:8080${he.Images[0]?.URL??he.Images[0]?.url}`)),Me})():y$()})(),we),u(Re,()=>he.Name??he.name),u(Ge,()=>he.Brand?.Name??he.Brand?.name),u(Ke,()=>he.SKU??he.sku),u(Be,()=>Number(he.Price??he.price??0).toLocaleString("fa-IR"),Ze),u(ft,()=>he.Stock??he.stock??0),u(Ee,()=>he.Category?.Name??he.Category?.name??"-"),Se.$$click=()=>C(he),ue.$$click=()=>Z(he.ID??he.id),G(()=>tt(ft,`px-3 py-1 rounded-full text-xs font-semibold ${(he.Stock??he.stock??0)>0?"bg-green-50 text-green-700":"bg-red-50 text-red-700"}`)),Ie})()})),Y}})]}})}}),null),u(k,_(ne,{get when(){return w()},get children(){var Y=r$(),H=Y.firstChild,ae=H.firstChild,fe=ae.firstChild,he=fe.firstChild,Ie=he.firstChild,pe=he.nextSibling,de=ae.nextSibling,we=de.firstChild,Re=we.firstChild,Ge=Re.nextSibling,Ke=Ge.firstChild,Be=Ke.firstChild,Ze=Be.nextSibling,dt=Ke.nextSibling,ft=dt.firstChild,ce=ft.nextSibling,Ee=dt.nextSibling,Oe=Ee.firstChild,be=Oe.nextSibling,Se=Ee.nextSibling,ue=Se.firstChild,ye=ue.nextSibling;ye.firstChild;var Me=Se.nextSibling,pt=Me.firstChild,bt=pt.nextSibling;bt.firstChild;var ze=Me.nextSibling;ze.firstChild;var Ve=we.nextSibling,vt=Ve.firstChild,It=vt.nextSibling,Ue=It.firstChild,at=Ue.firstChild,Je=at.nextSibling,br=Ue.nextSibling,Cr=br.firstChild,mr=Cr.nextSibling,Qr=br.nextSibling,Jr=Qr.firstChild,mt=Jr.nextSibling,_s=Qr.nextSibling,Xs=_s.firstChild,Ss=Xs.nextSibling,Cs=_s.nextSibling,Ys=Cs.firstChild,yt=Ys.nextSibling,As=Cs.nextSibling,Qs=As.firstChild,ks=Qs.nextSibling,Es=As.nextSibling,Js=Es.firstChild,kt=Js.nextSibling,el=Es.nextSibling,tl=el.firstChild,Ns=tl.nextSibling,rl=It.nextSibling,es=rl.firstChild,Ar=es.nextSibling;Ar.firstChild;var Mr=Ve.nextSibling,Ur=Mr.firstChild,zt=Ur.firstChild,ts=zt.firstChild,sl=ts.nextSibling,ll=sl.nextSibling,nl=zt.nextSibling,rs=Mr.nextSibling,il=rs.firstChild,kr=il.firstChild,ss=kr.firstChild,Er=ss.nextSibling,Ts=Er.nextSibling,Is=kr.nextSibling,ls=rs.nextSibling,al=ls.firstChild,Ls=al.firstChild,ol=Ls.firstChild,ns=ol.nextSibling,cl=ns.nextSibling,dl=Ls.nextSibling,xr=ls.nextSibling,Ht=xr.firstChild,Yt=Ht.nextSibling,nr=Yt.firstChild,ul=nr.firstChild,Qt=ul.nextSibling,hl=xr.nextSibling,Fr=hl.firstChild;Fr.firstChild;var fl=Fr.nextSibling;return Y.$$click=()=>{S(!1),b()},H.$$click=xe=>xe.stopPropagation(),u(Ie,(()=>{var xe=Ne(()=>!!E());return()=>xe()?[$$(),"ÙˆÛŒØ±Ø§ÛŒØ´ Ù…Ø­ØµÙˆÙ„"]:[w$(),"Ø§ÛŒØ¬Ø§Ø¯ Ù…Ø­ØµÙˆÙ„ Ø¬Ø¯ÛŒØ¯"]})()),pe.$$click=()=>{S(!1),b()},Ze.$$input=xe=>z({...L(),name:xe.currentTarget.value}),ce.$$input=xe=>z({...L(),sku:xe.currentTarget.value}),be.$$input=xe=>z({...L(),stock:xe.currentTarget.value}),ye.$$input=xe=>z({...L(),categoryId:xe.currentTarget.value?Number(xe.currentTarget.value):null}),u(ye,_(ke,{get each(){return t()},children:xe=>(()=>{var qe=Zn();return u(qe,()=>xe.Name??xe.name),G(()=>qe.value=xe.ID??xe.id),qe})()}),null),bt.$$input=xe=>z({...L(),brandId:xe.currentTarget.value?Number(xe.currentTarget.value):null}),u(bt,_(ke,{get each(){return i()},children:xe=>(()=>{var qe=Zn();return u(qe,()=>xe.Name??xe.name),G(()=>qe.value=xe.ID??xe.id),qe})()}),null),u(ze,_(Zy,{get value(){return L().description},onChange:xe=>z({...L(),description:xe}),placeholder:"ØªÙˆØ¶ÛŒØ­Ø§Øª Ù…ÙØµÙ„ Ù…Ø­ØµÙˆÙ„ Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯..."}),null),Je.$$input=xe=>z({...L(),modelNumber:xe.currentTarget.value}),mr.$$input=xe=>z({...L(),warranty:xe.currentTarget.value}),mt.$$input=xe=>z({...L(),weight:xe.currentTarget.value}),Ss.$$input=xe=>z({...L(),dimensions:xe.currentTarget.value}),yt.$$input=xe=>z({...L(),power:xe.currentTarget.value}),ks.$$input=xe=>z({...L(),material:xe.currentTarget.value}),kt.$$input=xe=>z({...L(),capacity:xe.currentTarget.value}),Ns.$$input=xe=>z({...L(),features:xe.currentTarget.value}),es.addEventListener("change",xe=>z({...L(),isActive:xe.currentTarget.checked})),u(Ar,(()=>{var xe=Ne(()=>!!L().isActive);return()=>xe()?_$():S$()})(),null),u(ll,()=>L().images.length),nl.$$click=x,u(Mr,_(ne,{get when(){return L().images.length===0},get fallback(){return(()=>{var xe=C$();return u(xe,_(ke,{get each(){return L().images},children:(qe,Fe)=>(()=>{var ot=A$(),ct=ot.firstChild,Ct=ct.firstChild,At=Ct.nextSibling,$t=At.firstChild,Gt=$t.firstChild,jt=Gt.nextSibling,wt=$t.nextSibling,Ut=wt.firstChild,ut=Ut.nextSibling,Jt=wt.nextSibling,rt=Jt.firstChild,lt=rt.firstChild,Nr=rt.nextSibling;return u(Ct,(()=>{var o=Ne(()=>!!(qe.preview||qe.url));return()=>o()?(()=>{var f=k$(),N=f.firstChild;return u(f,(()=>{var V=Ne(()=>!!qe.isPrimary);return()=>V()&&E$()})(),null),G(V=>{var je=qe.preview||ki(qe.url),Ae=qe.alt||"Preview";return je!==V.e&&Le(N,"src",V.e=je),Ae!==V.t&&Le(N,"alt",V.t=Ae),V},{e:void 0,t:void 0}),f})():N$()})()),jt.addEventListener("change",o=>{R(Fe(),o.currentTarget.files),o.currentTarget.value=""}),ut.$$input=o=>{const f=[...L().images];f[Fe()].alt=o.currentTarget.value,z({...L(),images:f})},lt.addEventListener("change",o=>{const f=L().images.map((N,V)=>V===Fe()?{...N,isPrimary:o.currentTarget.checked}:{...N,isPrimary:!1});z({...L(),images:f})}),Nr.$$click=()=>T(Fe()),G(()=>ut.value=qe.alt||""),G(()=>lt.checked=qe.isPrimary||!1),ot})()})),xe})()},get children(){return Qy()}}),null),u(Ts,()=>L().sizes.length),Is.$$click=I,u(rs,_(ne,{get when(){return L().sizes.length===0},get fallback(){return(()=>{var xe=yo();return u(xe,_(ke,{get each(){return L().sizes},children:(qe,Fe)=>(()=>{var ot=T$(),ct=ot.firstChild,Ct=ct.firstChild,At=Ct.nextSibling,$t=ct.nextSibling,Gt=$t.firstChild,jt=Gt.nextSibling,wt=$t.nextSibling,Ut=wt.firstChild,ut=Ut.nextSibling,Jt=wt.nextSibling;return At.$$input=rt=>{const lt=[...L().sizes];lt[Fe()].name=rt.currentTarget.value,z({...L(),sizes:lt})},jt.$$input=rt=>{const lt=[...L().sizes];lt[Fe()].stock=Number(rt.currentTarget.value),z({...L(),sizes:lt})},ut.$$input=rt=>{const lt=[...L().sizes];lt[Fe()].price=rt.currentTarget.value,z({...L(),sizes:lt})},Jt.$$click=()=>D(Fe()),G(()=>At.value=qe.name),G(()=>jt.value=qe.stock),G(()=>ut.value=qe.price),ot})()})),xe})()},get children(){return Jy()}}),null),u(cl,()=>L().colors.length),dl.$$click=P,u(ls,_(ne,{get when(){return L().colors.length===0},get fallback(){return(()=>{var xe=yo();return u(xe,_(ke,{get each(){return L().colors},children:(qe,Fe)=>(()=>{var ot=I$(),ct=ot.firstChild,Ct=ct.firstChild,At=Ct.nextSibling,$t=ct.nextSibling,Gt=$t.firstChild,jt=Gt.nextSibling,wt=$t.nextSibling,Ut=wt.firstChild,ut=Ut.nextSibling,Jt=wt.nextSibling;return At.$$input=rt=>{const lt=[...L().colors];lt[Fe()].name=rt.currentTarget.value,z({...L(),colors:lt})},jt.$$input=rt=>{const lt=[...L().colors];lt[Fe()].hexCode=rt.currentTarget.value,z({...L(),colors:lt})},u(ot,(()=>{var rt=Ne(()=>!!qe.hexCode);return()=>rt()?(()=>{var lt=L$(),Nr=lt.firstChild,o=Nr.nextSibling;return u(o,()=>qe.hexCode),G(f=>{var N=qe.hexCode,V=qe.hexCode;return N!==f.e&&Lo(Nr,"background-color",f.e=N),V!==f.t&&Le(Nr,"title",f.t=V),f},{e:void 0,t:void 0}),lt})():null})(),wt),ut.$$input=rt=>{const lt=[...L().colors];lt[Fe()].stock=Number(rt.currentTarget.value),z({...L(),colors:lt})},Jt.$$click=()=>B(Fe()),G(()=>At.value=qe.name),G(()=>jt.value=qe.hexCode),G(()=>ut.value=qe.stock),ot})()})),xe})()},get children(){return e$()}}),null),u(Qt,_(ne,{get when(){return l().length===0},get fallback(){return(()=>{var xe=O$();return u(xe,_(ke,{get each(){return l()},children:qe=>{const Fe=L().groups.includes(qe.ID??qe.id);return(()=>{var ot=q$(),ct=ot.firstChild,Ct=ct.nextSibling;return ct.addEventListener("change",()=>{const At=L().groups;z(Fe?{...L(),groups:At.filter($t=>$t!==(qe.ID??qe.id))}:{...L(),groups:[...At,qe.ID??qe.id]})}),ct.checked=Fe,u(Ct,()=>qe.Name??qe.name),u(ot,Fe&&R$(),null),ot})()}})),xe})()},get children(){return t$()}})),u(Yt,(()=>{var xe=Ne(()=>!!E());return()=>xe()&&[(()=>{var qe=P$(),Fe=qe.firstChild,ot=Fe.firstChild;return ot.nextSibling,Fe.$$click=()=>F(!O()),u(Fe,()=>O()?"Ù¾Ù†Ù‡Ø§Ù† Ú©Ø±Ø¯Ù† Ù‚ÛŒÙ…Øªâ€ŒÙ‡Ø§ÛŒ Ú¯Ø±ÙˆÙ‡ÛŒ":"Ù…Ø¯ÛŒØ±ÛŒØª Ù‚ÛŒÙ…Øªâ€ŒÙ‡Ø§ÛŒ Ú¯Ø±ÙˆÙ‡ÛŒ",null),G(()=>tt(ot,`fa-solid fa-${O()?"chevron-up":"chevron-down"}`)),qe})(),_(ne,{get when(){return O()},get children(){var qe=j$(),Fe=qe.firstChild,ot=Fe.nextSibling;return u(ot,_(ke,{get each(){return l()},children:ct=>(()=>{var Ct=D$(),At=Ct.firstChild,$t=At.firstChild,Gt=$t.firstChild;Gt.firstChild;var jt=Gt.nextSibling;return u(Gt,()=>ct.Name??ct.name,null),jt.$$input=wt=>{const Ut=ct.ID??ct.id,ut=Number(wt.currentTarget.value||0),Jt=U().find(rt=>rt.groupId===Ut);M(Jt?U().map(rt=>rt.groupId===Ut?{...rt,price:ut}:rt):[...U(),{groupId:Ut,price:ut}])},G(()=>jt.value=U().find(wt=>wt.groupId===(ct.ID??ct.id))?.price??""),Ct})()})),qe}})]})(),null),Fr.$$click=q,u(Fr,()=>E()?"âœ“ Ø°Ø®ÛŒØ±Ù‡ ØªØºÛŒÛŒØ±Ø§Øª":"âœ“ Ø§ÛŒØ¬Ø§Ø¯ Ù…Ø­ØµÙˆÙ„ Ø¬Ø¯ÛŒØ¯",null),fl.$$click=()=>{S(!1),b()},G(()=>Ze.value=L().name),G(()=>ce.value=L().sku),G(()=>be.value=L().stock),G(()=>ye.value=L().categoryId??""),G(()=>bt.value=L().brandId??""),G(()=>Je.value=L().modelNumber),G(()=>mr.value=L().warranty),G(()=>mt.value=L().weight),G(()=>Ss.value=L().dimensions),G(()=>yt.value=L().power),G(()=>ks.value=L().material),G(()=>kt.value=L().capacity),G(()=>Ns.value=L().features),G(()=>es.checked=L().isActive),Y}}),null),G(Y=>{var H=`px-4 py-2 rounded-lg font-medium transition-all ${y()==="grid"?"bg-blue-600 text-white":"bg-slate-100 text-slate-700 hover:bg-slate-200"}`,ae=`px-4 py-2 rounded-lg font-medium transition-all ${y()==="table"?"bg-blue-600 text-white":"bg-slate-100 text-slate-700 hover:bg-slate-200"}`;return H!==Y.e&&tt(se,Y.e=H),ae!==Y.t&&tt(me,Y.t=ae),Y},{e:void 0,t:void 0}),G(()=>oe.value=g()),G(()=>X.value=h()??""),k})()};gt(["click","input"]);var M$=v('<table class="w-full border-collapse bg-white rounded-xl overflow-hidden shadow-md"><thead><tr class="bg-indigo-600 text-white"><th class="px-4 py-3 text-left">ID</th><th class="px-4 py-3 text-left">Ù†Ø§Ù…</th><th class="px-4 py-3 text-center">Ø¹Ù…Ù„ÛŒØ§Øª</th></tr></thead><tbody>'),U$=v('<div class="fixed inset-0 bg-black/50 flex items-center justify-center z-50"><div class="bg-white rounded-2xl p-6 w-full max-w-md space-y-4"><h2 class="text-xl font-bold">Ø¯Ø³ØªÙ‡ Ø¬Ø¯ÛŒØ¯</h2><input placeholder="Ù†Ø§Ù… Ø¯Ø³ØªÙ‡"class="w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-indigo-500"><select class="w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-indigo-500"><option value>Ø¨Ø¯ÙˆÙ† ÙˆØ§Ù„Ø¯</option></select><div class="flex gap-3 pt-4"><button class="flex-1 px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 font-medium">Ø§ÛŒØ¬Ø§Ø¯</button><button class="px-4 py-2 bg-slate-100 text-slate-700 rounded-lg hover:bg-slate-200">Ø§Ù†ØµØ±Ø§Ù'),F$=v('<div class="fixed inset-0 bg-black/50 flex items-center justify-center z-50"><div class="bg-white rounded-2xl p-6 w-full max-w-md space-y-4"><h2 class="text-xl font-bold">ÙˆÛŒØ±Ø§ÛŒØ´ Ø¯Ø³ØªÙ‡</h2><input placeholder="Ù†Ø§Ù… Ø¯Ø³ØªÙ‡"class="w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-indigo-500"><select class="w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-indigo-500"><option value>Ø¨Ø¯ÙˆÙ† ÙˆØ§Ù„Ø¯</option></select><div class="flex gap-3 pt-4"><button class="flex-1 px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 font-medium">Ø°Ø®ÛŒØ±Ù‡</button><button class="px-4 py-2 bg-slate-100 text-slate-700 rounded-lg hover:bg-slate-200">Ø§Ù†ØµØ±Ø§Ù'),z$=v('<div class="max-w-7xl mx-auto px-4 py-8 space-y-8"><div class="flex items-center justify-between"><h1 class="text-2xl font-bold">Ù…Ø¯ÛŒØ±ÛŒØª Ø¯Ø³ØªÙ‡â€ŒØ¨Ù†Ø¯ÛŒâ€ŒÙ‡Ø§</h1><button class="btn btn-primary">â• Ø¯Ø³ØªÙ‡ Ø¬Ø¯ÛŒØ¯</button></div><input type=search placeholder=Ø¬Ø³ØªØ¬Ùˆ... class="w-full max-w-md px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-indigo-500">'),H$=v("<p>Ø¯Ø± Ø­Ø§Ù„ Ø¨Ø§Ø±Ú¯ÛŒØ±ÛŒ..."),G$=v('<tr class="border-b hover:bg-slate-50"><td class="px-4 py-3 text-sm text-slate-500"></td><td class="px-4 py-3"></td><td class="px-4 py-3 text-center flex gap-2 justify-center"><button class="btn btn-outline text-xs">ÙˆÛŒØ±Ø§ÛŒØ´</button><button class="btn btn-danger text-xs">Ø­Ø°Ù'),$o=v("<option>");const K$=()=>{const[r,e]=Q([]),[t,s]=Q(!1),[l,n]=Q(!1),[i,a]=Q(!1),[c,d]=Q(""),[g,m]=Q({name:"",parentId:null}),[h,p]=Q(null),y=async()=>{s(!0);try{const C=await vr.getAll(),R=(Array.isArray(C.data)?C.data:[]).map(Ks);if(R.some(I=>Array.isArray(I.children)&&I.children.length>0))e(R);else{const I=new Map;R.forEach(P=>{I.set(P.id,{...P,children:[]})});const D=[];I.forEach(P=>{const B=P.parentId??null;B&&I.has(B)?I.get(B).children.push(P):D.push(P)}),e(D)}}catch(C){console.error(C),alert("Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ø¯Ø³ØªÙ‡â€ŒØ¨Ù†Ø¯ÛŒâ€ŒÙ‡Ø§")}finally{s(!1)}};Zt(y);const $=(C,x)=>{if(!x)return C;const R=[];return C.forEach(T=>{const I=Array.isArray(T.children)?$(T.children,x):[];((T.name||"").toLowerCase().includes(x)||I.length)&&R.push({...T,children:I})}),R},w=(C,x=0)=>{const R=[];return C.forEach(T=>{R.push({...T,level:x}),Array.isArray(T.children)&&T.children.length&&R.push(...w(T.children,x+1))}),R},S=(C,x)=>{for(const R of C){if(R.id===x)return R;if(Array.isArray(R.children)){const T=S(R.children,x);if(T)return T}}return null},E=C=>{const x=new Set;if(!C)return x;const R=T=>{x.add(T.id),Array.isArray(T.children)&&T.children.forEach(R)};return R(C),x},A=async()=>{const C=g();if(!C.name.trim())return alert("Ù†Ø§Ù… Ø¯Ø³ØªÙ‡ Ø§Ù„Ø²Ø§Ù…ÛŒ Ø§Ø³Øª");try{await vr.create({name:C.name,parent_id:C.parentId??null}),m({name:"",parentId:null}),n(!1),y()}catch(x){console.error(x),alert("Ø®Ø·Ø§ Ø¯Ø± Ø§ÛŒØ¬Ø§Ø¯ Ø¯Ø³ØªÙ‡")}},O=C=>{p(C),m({name:C.name,parentId:C.parentId??null}),a(!0)},F=async()=>{if(!h()?.id)return;const C=g();try{await vr.update(h().id,{name:C.name,parent_id:C.parentId??null}),a(!1),p(null),y()}catch(x){console.error(x),alert("Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ø¯Ø³ØªÙ‡")}},U=async C=>{if(!(!C||!confirm("Ø­Ø°Ù Ø¯Ø³ØªÙ‡ØŸ")))try{await vr.delete(C),y()}catch(x){console.error(x),alert("Ø®Ø·Ø§ Ø¯Ø± Ø­Ø°Ù Ø¯Ø³ØªÙ‡")}},M=He(()=>{const C=c().trim().toLowerCase();return $(r(),C)}),L=He(()=>w(M())),z=He(()=>w(r())),ie=He(()=>{const C=h();if(!C||!C.id)return new Set;const x=S(r(),C.id);return x?E(x):new Set}),b=(C,x=0)=>"â”€".repeat(x)+" "+C.name+(C.children?.length?" ("+C.children.length+")":"");return(()=>{var C=z$(),x=C.firstChild,R=x.firstChild,T=R.nextSibling,I=x.nextSibling;return T.$$click=()=>n(!0),I.$$input=D=>d(D.currentTarget.value),u(C,_(ne,{get when(){return!t()},get fallback(){return H$()},get children(){var D=M$(),P=D.firstChild,B=P.nextSibling;return u(B,_(ke,{get each(){return L()},children:q=>(()=>{var Z=G$(),W=Z.firstChild,k=W.nextSibling,K=k.nextSibling,j=K.firstChild,ee=j.nextSibling;return u(W,()=>q.id),u(k,()=>b(q,q.level)),j.$$click=()=>O(q),ee.$$click=()=>U(q.id),G(te=>Lo(k,"padding-left",`${q.level*1.5+1}rem`)),Z})()})),D}}),null),u(C,_(ne,{get when(){return l()},get children(){var D=U$(),P=D.firstChild,B=P.firstChild,q=B.nextSibling,Z=q.nextSibling;Z.firstChild;var W=Z.nextSibling,k=W.firstChild,K=k.nextSibling;return q.$$input=j=>m({...g(),name:j.currentTarget.value}),Z.addEventListener("change",j=>m({...g(),parentId:Number(j.currentTarget.value)||null})),u(Z,_(ke,{get each(){return z()},children:j=>(()=>{var ee=$o();return u(ee,()=>b(j,j.level)),G(()=>ee.value=j.id),ee})()}),null),k.$$click=A,K.$$click=()=>n(!1),G(()=>q.value=g().name),G(()=>Z.value=g().parentId??""),D}}),null),u(C,_(ne,{get when(){return i()},get children(){var D=F$(),P=D.firstChild,B=P.firstChild,q=B.nextSibling,Z=q.nextSibling;Z.firstChild;var W=Z.nextSibling,k=W.firstChild,K=k.nextSibling;return q.$$input=j=>m({...g(),name:j.currentTarget.value}),Z.addEventListener("change",j=>m({...g(),parentId:j.currentTarget.value===""?null:Number(j.currentTarget.value)})),u(Z,_(ke,{get each(){return z()},children:j=>(()=>{var ee=$o();return u(ee,()=>b(j,j.level)),G(()=>ee.disabled=ie().has(j.id)||j.id===h()?.id),G(()=>ee.value=j.id),ee})()}),null),k.$$click=F,K.$$click=()=>{a(!1),p(null)},G(()=>q.value=g().name),G(()=>Z.value=g().parentId??""),D}}),null),G(()=>I.value=c()),C})()};gt(["click","input"]);var V$=v('<div class="bg-white rounded-2xl border-2 border-slate-200 shadow-sm overflow-hidden"><div class=overflow-x-auto><table class="min-w-full divide-y divide-slate-200"><thead class="bg-linear-to-r from-slate-800 to-slate-900 text-white sticky top-0"><tr><th class="px-6 py-4 text-right text-xs font-bold uppercase tracking-wider">Ø´Ù…Ø§Ø±Ù‡ Ø³ÙØ§Ø±Ø´</th><th class="px-6 py-4 text-right text-xs font-bold uppercase tracking-wider">Ú©Ø§Ø±Ø¨Ø±</th><th class="px-6 py-4 text-right text-xs font-bold uppercase tracking-wider">Ù…Ø¨Ù„Øº Ú©Ù„</th><th class="px-6 py-4 text-right text-xs font-bold uppercase tracking-wider">ÙˆØ¶Ø¹ÛŒØª</th><th class="px-6 py-4 text-right text-xs font-bold uppercase tracking-wider">ØªØ§Ø±ÛŒØ®</th><th class="px-6 py-4 text-right text-xs font-bold uppercase tracking-wider">Ø¹Ù…Ù„ÛŒØ§Øª</th></tr></thead><tbody class="bg-white divide-y divide-slate-200">'),W$=v('<div class="fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4"><div class="bg-white rounded-2xl shadow-2xl max-w-3xl w-full max-h-[90vh] overflow-y-auto"dir=rtl><div class="sticky top-0 bg-linear-to-r from-orange-600 via-orange-700 to-orange-800 text-white p-6 rounded-t-2xl border-b-4 border-orange-900 flex items-center justify-between"><h3 class="text-2xl font-bold flex items-center gap-2"><span class=text-2xl>ğŸ“¦</span>Ø¬Ø²Ø¦ÛŒØ§Øª Ø³ÙØ§Ø±Ø´ #</h3><button class="text-white hover:text-orange-100 text-2xl font-bold">âœ•</button></div><div class=p-6><div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-6"><div class="bg-linear-to-br from-slate-50 to-slate-100 rounded-xl p-4 border border-slate-200"><div class="text-xs font-bold text-slate-600 uppercase mb-1">ğŸ‘¤ Ú©Ø§Ø±Ø¨Ø±</div><div class="font-bold text-slate-900"></div><div class="text-sm text-slate-600"></div></div><div class="bg-linear-to-br from-slate-50 to-slate-100 rounded-xl p-4 border border-slate-200"><div class="text-xs font-bold text-slate-600 uppercase mb-1">ğŸ“Š ÙˆØ¶Ø¹ÛŒØª</div><div></div></div><div class="bg-linear-to-br from-slate-50 to-slate-100 rounded-xl p-4 border border-slate-200"><div class="text-xs font-bold text-slate-600 uppercase mb-1">ğŸ’° Ù…Ø¨Ù„Øº Ú©Ù„</div><div class="text-2xl font-bold text-orange-600"> <span class="text-sm text-slate-600">ØªÙˆÙ…Ø§Ù†</span></div></div><div class="bg-linear-to-br from-slate-50 to-slate-100 rounded-xl p-4 border border-slate-200"><div class="text-xs font-bold text-slate-600 uppercase mb-1">ğŸ“… ØªØ§Ø±ÛŒØ®</div><div class="font-bold text-slate-900"></div></div></div><div class="border-t pt-6"><h4 class="text-lg font-bold mb-4 flex items-center gap-2"><span>ğŸ›’</span>Ø¢ÛŒØªÙ…â€ŒÙ‡Ø§ÛŒ Ø³ÙØ§Ø±Ø´</h4><div class=space-y-3>'),Z$=v('<div dir=rtl class="min-h-screen bg-linear-to-br from-slate-50 via-orange-50 to-rose-50"><div class="max-w-7xl mx-auto px-4 py-8"><div class="sticky top-0 z-10 bg-linear-to-r from-orange-600 via-orange-700 to-orange-800 text-white p-8 rounded-2xl border-b-4 border-orange-900 mb-8 shadow-lg"><div class="flex items-center justify-between"><div><h1 class="text-4xl font-bold flex items-center gap-3"><span class=text-3xl>ğŸ“¦</span>Ù…Ø¯ÛŒØ±ÛŒØª Ø³ÙØ§Ø±Ø´â€ŒÙ‡Ø§</h1><p class="text-orange-100 mt-2">Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ùˆ Ù…Ø¯ÛŒØ±ÛŒØª ØªÙ…Ø§Ù… Ø³ÙØ§Ø±Ø´â€ŒÙ‡Ø§ÛŒ Ø³ÛŒØ³ØªÙ…</p></div><button class="px-8 py-4 bg-linear-to-r from-green-500 to-green-600 text-white rounded-xl hover:shadow-2xl hover:scale-105 transition-all font-bold text-lg flex items-center gap-2"><span>ğŸ”„</span><span>Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ù…Ø¬Ø¯Ø¯</span></button></div></div><div class="bg-white rounded-2xl border-2 border-slate-200 shadow-sm p-6 mb-8"><div class="grid grid-cols-1 md:grid-cols-3 gap-4"><div class=relative><span class="absolute right-4 top-3 text-2xl">ğŸ”</span><input type=text placeholder="Ø¬Ø³ØªØ¬Ùˆ Ø¯Ø± Ø³ÙØ§Ø±Ø´â€ŒÙ‡Ø§..."class="w-full pl-4 pr-12 py-3 border-2 border-slate-200 rounded-lg focus:outline-none focus:border-orange-500 focus:ring-2 focus:ring-orange-200 transition-all"></div><select class="px-4 py-3 border-2 border-slate-200 rounded-lg focus:outline-none focus:border-orange-500 focus:ring-2 focus:ring-orange-200 transition-all font-medium"><option value=all>ğŸ“Š Ù‡Ù…Ù‡ ÙˆØ¶Ø¹ÛŒØªâ€ŒÙ‡Ø§</option><option value=pending>â±ï¸ Ø¯Ø± Ø§Ù†ØªØ¸Ø§Ø±</option><option value=processing>âš™ï¸ Ø¯Ø± Ø­Ø§Ù„ Ù¾Ø±Ø¯Ø§Ø²Ø´</option><option value=shipped>ğŸšš Ø§Ø±Ø³Ø§Ù„ Ø´Ø¯Ù‡</option><option value=completed>âœ… ØªÚ©Ù…ÛŒÙ„ Ø´Ø¯Ù‡</option><option value=cancelled>âŒ Ù„ØºÙˆ Ø´Ø¯Ù‡</option></select><div class="flex items-center justify-end"><div class="px-6 py-3 bg-linear-to-r from-orange-50 to-orange-100 border-2 border-orange-200 rounded-lg"><span class="text-sm font-bold text-orange-700">ğŸ“ˆ ØªØ¹Ø¯Ø§Ø¯: '),X$=v('<div class="flex items-center justify-center py-12"><div class=text-center><div class="text-5xl mb-4 animate-spin">â³</div><div class="text-lg text-slate-600">Ø¯Ø± Ø­Ø§Ù„ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ø³ÙØ§Ø±Ø´â€ŒÙ‡Ø§...'),Y$=v('<div class="bg-white rounded-2xl shadow-sm border-2 border-slate-200 p-12 text-center"><div class="text-6xl mb-4">ğŸ“¦</div><h3 class="text-2xl font-bold text-slate-800 mb-2">Ø³ÙØ§Ø±Ø´ÛŒ ÛŒØ§ÙØª Ù†Ø´Ø¯</h3><p class=text-slate-600>Ù‡ÛŒÚ† Ø³ÙØ§Ø±Ø´ÛŒ Ø¨Ø§ Ø§ÛŒÙ† ÙÛŒÙ„ØªØ±Ù‡Ø§ ÙˆØ¬ÙˆØ¯ Ù†Ø¯Ø§Ø±Ø¯'),Q$=v('<tr class="hover:bg-orange-50 transition-colors group"><td class="px-6 py-4 whitespace-nowrap"><div class="text-sm font-bold text-slate-900">#</div><div class="text-xs text-slate-500"> Ø¢ÛŒØªÙ…</div></td><td class="px-6 py-4 whitespace-nowrap"><div class="text-sm font-semibold text-slate-900"></div><div class="text-xs text-slate-500"></div></td><td class="px-6 py-4 whitespace-nowrap"><div class="text-sm font-bold text-orange-600"> <span class=text-xs>ØªÙˆÙ…Ø§Ù†</span></div></td><td class="px-6 py-4 whitespace-nowrap"><select><option value=pending>â±ï¸ Ø¯Ø± Ø§Ù†ØªØ¸Ø§Ø±</option><option value=processing>âš™ï¸ Ø¯Ø± Ø­Ø§Ù„ Ù¾Ø±Ø¯Ø§Ø²Ø´</option><option value=shipped>ğŸšš Ø§Ø±Ø³Ø§Ù„ Ø´Ø¯Ù‡</option><option value=completed>âœ… ØªÚ©Ù…ÛŒÙ„ Ø´Ø¯Ù‡</option><option value=cancelled>âŒ Ù„ØºÙˆ Ø´Ø¯Ù‡</option></select></td><td class="px-6 py-4 whitespace-nowrap text-sm text-slate-600"></td><td class="px-6 py-4 whitespace-nowrap text-sm font-medium"><div class="flex items-center gap-2"><button class="px-4 py-2 bg-linear-to-r from-orange-500 to-orange-600 text-white rounded-lg hover:shadow-lg transition-all hover:scale-105 font-bold">Ø¬Ø²Ø¦ÛŒØ§Øª</button><button class="px-4 py-2 bg-red-50 border border-red-200 text-red-600 rounded-lg hover:bg-red-100 hover:border-red-300 transition-all font-bold hover:scale-105">Ø­Ø°Ù'),J$=v('<div class="flex items-center justify-between p-4 bg-linear-to-r from-orange-50 to-orange-100 rounded-lg border border-orange-200 group hover:border-orange-300 transition-colors"><div class=flex-1><div class="font-bold text-slate-900"></div><div class="text-sm text-slate-600">ØªØ¹Ø¯Ø§Ø¯: </div></div><div class=text-left><div class="font-bold text-orange-600"> <span class="text-xs text-slate-600">ØªÙˆÙ…Ø§Ù†</span></div><div class="text-sm text-slate-600">Ú©Ù„: <!> <span class=text-xs>ØªÙˆÙ…Ø§Ù†');const e2=()=>{const[r,e]=Q([]),[t,s]=Q(!1),[l,n]=Q(""),[i,a]=Q("all"),[c,d]=Q(null),g=async()=>{s(!0);try{const w=await ds.adminGetAll();e(w.data||[])}catch(w){console.error(w),alert("Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ø³ÙØ§Ø±Ø´â€ŒÙ‡Ø§")}finally{s(!1)}},m=async(w,S)=>{try{await ds.updateStatus(w,S),await g(),alert("ÙˆØ¶Ø¹ÛŒØª Ø³ÙØ§Ø±Ø´ Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ø´Ø¯")}catch(E){console.error(E),alert("Ø®Ø·Ø§ Ø¯Ø± Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ ÙˆØ¶Ø¹ÛŒØª")}},h=async w=>{if(confirm("Ø¢ÛŒØ§ Ø§Ø² Ø­Ø°Ù Ø§ÛŒÙ† Ø³ÙØ§Ø±Ø´ Ù…Ø·Ù…Ø¦Ù† Ù‡Ø³ØªÛŒØ¯ØŸ"))try{await ds.remove(w),await g(),alert("Ø³ÙØ§Ø±Ø´ Ø­Ø°Ù Ø´Ø¯")}catch(S){console.error(S),alert("Ø®Ø·Ø§ Ø¯Ø± Ø­Ø°Ù Ø³ÙØ§Ø±Ø´")}},p=He(()=>{let w=r();const S=l().trim().toLowerCase();return S&&(w=w.filter(E=>{const A=String(E.ID??E.id),O=String(E.Status??E.status??"").toLowerCase(),F=String(E.Total??E.total??""),U=E.User?.Username??E.User?.username??"";return A.includes(S)||O.includes(S)||F.includes(S)||U.toLowerCase().includes(S)})),i()!=="all"&&(w=w.filter(E=>(E.Status??E.status)===i())),w}),y={pending:"bg-yellow-100 text-yellow-800",processing:"bg-blue-100 text-blue-800",completed:"bg-green-100 text-green-800",cancelled:"bg-red-100 text-red-800",shipped:"bg-purple-100 text-purple-800"},$=w=>y[w.toLowerCase()]||"bg-slate-100 text-slate-800";return Zt(g),(()=>{var w=Z$(),S=w.firstChild,E=S.firstChild,A=E.firstChild,O=A.firstChild,F=O.nextSibling,U=E.nextSibling,M=U.firstChild,L=M.firstChild,z=L.firstChild,ie=z.nextSibling,b=L.nextSibling,C=b.nextSibling,x=C.firstChild,R=x.firstChild;return R.firstChild,F.$$click=g,ie.$$input=T=>n(T.currentTarget.value),b.$$input=T=>a(T.currentTarget.value),u(R,()=>p().length,null),u(S,_(ne,{get when(){return!t()},get fallback(){return X$()},get children(){return _(ne,{get when(){return p().length>0},get fallback(){return Y$()},get children(){var T=V$(),I=T.firstChild,D=I.firstChild,P=D.firstChild,B=P.nextSibling;return u(B,_(ke,{get each(){return p()},children:q=>(()=>{var Z=Q$(),W=Z.firstChild,k=W.firstChild;k.firstChild;var K=k.nextSibling,j=K.firstChild,ee=W.nextSibling,te=ee.firstChild,J=te.nextSibling,ge=ee.nextSibling,oe=ge.firstChild,X=oe.firstChild,le=ge.nextSibling,se=le.firstChild,me=le.nextSibling,ve=me.nextSibling,Pe=ve.firstChild,De=Pe.firstChild,Y=De.nextSibling;return u(k,()=>q.ID??q.id,null),u(K,()=>q.OrderDetails?.length||0,j),u(te,()=>q.User?.Username??q.User?.username??"Ù†Ø§Ù…Ø´Ø®Øµ"),u(J,()=>q.User?.Email??q.User?.email??""),u(oe,()=>Number(q.Total??q.total??0).toLocaleString(),X),se.addEventListener("change",H=>m(q.ID??q.id,H.currentTarget.value)),u(me,(()=>{var H=Ne(()=>!!q.CreatedAt);return()=>H()?new Date(q.CreatedAt).toLocaleDateString("fa-IR"):Ne(()=>!!q.created_at)()?new Date(q.created_at).toLocaleDateString("fa-IR"):"â€”"})()),De.$$click=()=>d(q),Y.$$click=()=>h(q.ID??q.id),G(()=>tt(se,`text-xs font-bold px-3 py-2 rounded-lg border-2 cursor-pointer focus:ring-2 focus:ring-orange-400 ${$(q.Status??q.status??"pending")}`)),G(()=>se.value=q.Status??q.status??"pending"),Z})()})),T}})}}),null),u(S,_(ne,{get when(){return c()},get children(){var T=W$(),I=T.firstChild,D=I.firstChild,P=D.firstChild,B=P.firstChild;B.nextSibling;var q=P.nextSibling,Z=D.nextSibling,W=Z.firstChild,k=W.firstChild,K=k.firstChild,j=K.nextSibling,ee=j.nextSibling,te=k.nextSibling,J=te.firstChild,ge=J.nextSibling,oe=te.nextSibling,X=oe.firstChild,le=X.nextSibling,se=le.firstChild,me=oe.nextSibling,ve=me.firstChild,Pe=ve.nextSibling,De=W.nextSibling,Y=De.firstChild,H=Y.nextSibling;return T.$$click=()=>d(null),I.$$click=ae=>ae.stopPropagation(),u(P,()=>c()?.ID??c()?.id,null),q.$$click=()=>d(null),u(j,()=>c()?.User?.Username??c()?.User?.username??"â€”"),u(ee,()=>c()?.User?.Email??c()?.User?.email??""),u(ge,()=>c()?.Status??c()?.status??"â€”"),u(le,()=>Number(c()?.Total??c()?.total??0).toLocaleString(),se),u(Pe,(()=>{var ae=Ne(()=>!!c()?.CreatedAt);return()=>ae()?new Date(c()?.CreatedAt).toLocaleString("fa-IR"):Ne(()=>!!c()?.created_at)()?new Date(c()?.created_at).toLocaleString("fa-IR"):"â€”"})()),u(H,_(ke,{get each(){return c()?.OrderDetails||[]},children:ae=>(()=>{var fe=J$(),he=fe.firstChild,Ie=he.firstChild,pe=Ie.nextSibling;pe.firstChild;var de=he.nextSibling,we=de.firstChild,Re=we.firstChild,Ge=we.nextSibling,Ke=Ge.firstChild,Be=Ke.nextSibling;return Be.nextSibling,u(Ie,()=>ae.Product?.Name??ae.product?.name??"Ù…Ø­ØµÙˆÙ„"),u(pe,()=>ae.Quantity??ae.quantity??0,null),u(we,()=>Number(ae.Price??ae.price??0).toLocaleString(),Re),u(Ge,()=>Number((ae.Price??ae.price??0)*(ae.Quantity??ae.quantity??0)).toLocaleString(),Be),fe})()})),G(()=>tt(ge,`inline-block px-3 py-1 rounded-lg text-sm font-bold ${$(c()?.Status??c()?.status??"pending")}`)),T}}),null),G(()=>ie.value=l()),G(()=>b.value=i()),w})()};gt(["click","input"]);var t2=v('<div class="mb-6 px-6 py-4 bg-red-50 border-2 border-red-200 rounded-2xl flex items-center gap-3 text-red-700 font-bold shadow-lg animate-pulse"><span class=text-2xl>âš ï¸</span><span></span><button type=button class="mr-auto text-red-400 hover:text-red-600">âœ•'),r2=v('<div class="mb-6 px-6 py-4 bg-green-50 border-2 border-green-200 rounded-2xl flex items-center gap-3 text-green-700 font-bold shadow-lg"><span class=text-2xl>âœ…</span><span></span><button type=button class="mr-auto text-green-400 hover:text-green-600">âœ•'),s2=v('<div class="bg-linear-to-br from-cyan-50 via-blue-50 to-blue-100 rounded-3xl border-2 border-cyan-200 shadow-lg p-6 hover:shadow-xl transition-all"><h2 class="text-lg font-extrabold text-slate-900 mb-4 flex items-center gap-2"><span class=text-2xl>â•</span>Ø§ÙØ²ÙˆØ¯Ù† Ù…ÙˆØ¬ÙˆØ¯ÛŒ</h2><div class=space-y-4><div><label class="block text-xs font-bold text-slate-700 mb-2 uppercase tracking-wide">ğŸ’µ Ù…Ù‚Ø¯Ø§Ø± (ØªÙˆÙ…Ø§Ù†)</label><input type=number placeholder="Ù…Ø«Ø§Ù„: 100,000"class="w-full px-4 py-3 border-2 border-cyan-200 rounded-xl focus:outline-none focus:border-cyan-500 focus:ring-4 focus:ring-cyan-100 transition-all font-bold text-lg bg-white"><p class="text-xs text-slate-600 mt-2 font-medium">Ù…ÙˆØ¬ÙˆØ¯ÛŒ ÙØ¹Ù„ÛŒ: <span class="font-bold text-cyan-700"> ØªÙˆÙ…Ø§Ù†</span></p></div><button class="w-full px-4 py-3 bg-linear-to-r from-cyan-500 via-blue-600 to-blue-700 text-white rounded-xl hover:shadow-xl transition-all hover:scale-105 font-extrabold text-lg flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100"><span>ğŸ’³</span>Ø§ÙØ²ÙˆØ¯Ù† Ù…ÙˆØ¬ÙˆØ¯ÛŒ'),l2=v('<div class="bg-linear-to-r from-indigo-50 via-purple-50 to-pink-50 rounded-3xl border-2 border-purple-200 shadow-lg p-6"><div class="flex items-center gap-4"><div class="w-16 h-16 rounded-2xl bg-linear-to-br from-indigo-500 to-purple-600 flex items-center justify-center text-white font-bold text-2xl"></div><div class=flex-1><p class="text-xs font-bold text-slate-600 uppercase tracking-wide">Ú©Ø§Ø±Ø¨Ø± ÙØ¹Ø§Ù„</p><p class="text-xl font-extrabold text-slate-900"></p><p class="text-sm text-slate-600 font-medium">'),n2=v('<div class=space-y-6><div class="bg-linear-to-br from-cyan-500 via-blue-600 to-blue-700 rounded-3xl shadow-2xl p-8 text-white border-2 border-blue-400 overflow-hidden relative"><div class="absolute inset-0 opacity-10 bg-linear-to-br from-white to-transparent"></div><div class="relative z-10"><p class="text-sm opacity-90 mb-3 font-bold uppercase tracking-widest">ğŸ’° Ù…ÙˆØ¬ÙˆØ¯ÛŒ ÙØ¹Ù„ÛŒ Ú©ÛŒÙ Ù¾ÙˆÙ„</p><div class=mb-4><div class="text-6xl font-extrabold tracking-tight"></div><p class="text-2xl font-bold mt-2 opacity-90">ØªÙˆÙ…Ø§Ù†</p></div><div class="pt-4 border-t-2 border-white/20 flex items-center justify-between text-sm"><span class=opacity-75>Ø§Ø±Ø²: </span><span class="opacity-75 font-bold">Ø´Ù†Ø§Ø³Ù‡: #</span></div></div></div><div class="grid grid-cols-2 gap-4"><div class="bg-linear-to-br from-blue-50 to-cyan-100 rounded-2xl p-5 border-2 border-blue-200 shadow-md hover:shadow-lg transition-all"><p class="text-xs font-bold text-blue-600 uppercase tracking-widest mb-2">ğŸ†” Ø´Ù†Ø§Ø³Ù‡ Ú©ÛŒÙ Ù¾ÙˆÙ„</p><p class="text-2xl font-extrabold text-blue-900 font-mono"></p></div><div class="bg-linear-to-br from-green-50 to-emerald-100 rounded-2xl p-5 border-2 border-green-200 shadow-md hover:shadow-lg transition-all"><p class="text-xs font-bold text-green-600 uppercase tracking-widest mb-2">ğŸ‘¤ Ø´Ù†Ø§Ø³Ù‡ Ú©Ø§Ø±Ø¨Ø±</p><p class="text-2xl font-extrabold text-green-900 font-mono"></p></div><div class="bg-linear-to-br from-purple-50 to-violet-100 rounded-2xl p-5 border-2 border-purple-200 shadow-md hover:shadow-lg transition-all"><p class="text-xs font-bold text-purple-600 uppercase tracking-widest mb-2">ğŸ“… ØªØ§Ø±ÛŒØ® Ø§ÛŒØ¬Ø§Ø¯</p><p class="text-sm font-bold text-purple-900"></p></div><div class="bg-linear-to-br from-amber-50 to-orange-100 rounded-2xl p-5 border-2 border-amber-200 shadow-md hover:shadow-lg transition-all"><p class="text-xs font-bold text-amber-600 uppercase tracking-widest mb-2">ğŸ”„ Ø¢Ø®Ø±ÛŒÙ† Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ</p><p class="text-sm font-bold text-amber-900">'),i2=v('<div dir=rtl class="min-h-screen bg-linear-to-br from-slate-50 via-cyan-50 to-blue-50"><div class="max-w-7xl mx-auto px-4 py-8"><div class="sticky top-0 z-10 bg-linear-to-r from-cyan-600 via-blue-700 to-blue-800 text-white p-8 rounded-3xl border-b-4 border-blue-900 mb-8 shadow-2xl"><div class="flex items-center justify-between gap-4"><div><h1 class="text-4xl font-extrabold flex items-center gap-3"><span class=text-5xl>ğŸ’³</span>Ù…Ø¯ÛŒØ±ÛŒØª Ú©ÛŒÙâ€ŒÙ¾ÙˆÙ„â€ŒÙ‡Ø§</h1><p class="text-blue-100 mt-3 text-lg font-medium">Ù…Ø´Ø§Ù‡Ø¯Ù‡ØŒ ÙˆÛŒØ±Ø§ÛŒØ´ Ùˆ Ù…Ø¯ÛŒØ±ÛŒØª Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ú©ÛŒÙâ€ŒÙ¾ÙˆÙ„ Ú©Ø§Ø±Ø¨Ø±Ø§Ù†</p></div><div class="hidden lg:flex items-center justify-center w-32 h-32 rounded-2xl bg-white/10 backdrop-blur-sm border-2 border-white/20"><span class=text-6xl>ğŸ’°</span></div></div></div><div class="grid grid-cols-1 lg:grid-cols-3 gap-8"><div class="lg:col-span-1 space-y-6"><div class="bg-white rounded-3xl border-2 border-slate-200 shadow-lg hover:shadow-2xl transition-all p-6 hover:border-cyan-300"><h2 class="text-lg font-extrabold text-slate-900 mb-4 flex items-center gap-2"><span class=text-2xl>ğŸ‘¥</span>Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ø§Ø±Ø¨Ø±</h2><select class="w-full px-4 py-3 border-2 border-slate-200 rounded-xl focus:outline-none focus:border-cyan-500 focus:ring-4 focus:ring-cyan-100 transition-all font-medium bg-slate-50 hover:bg-white text-slate-900"><option value>ğŸ” Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ø§Ø±Ø¨Ø±...</option></select></div></div><div class=lg:col-span-2>'),a2=v("<option class=bg-white> â€¢ "),o2=v('<div class="flex items-center justify-center py-16 bg-white rounded-3xl border-2 border-slate-200 shadow-lg"><div class=text-center><div class="text-6xl mb-4 animate-bounce">â³</div><p class="text-lg text-slate-600 font-bold">Ø¯Ø± Ø­Ø§Ù„ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ú©ÛŒÙ Ù¾ÙˆÙ„...'),c2=v('<div class="bg-white rounded-3xl border-2 border-slate-200 shadow-lg p-12 text-center"><div class="text-7xl mb-4">ğŸ“­</div><h3 class="text-2xl font-extrabold text-slate-800 mb-2">Ú©ÛŒÙ Ù¾ÙˆÙ„ ÛŒØ§ÙØª Ù†Ø´Ø¯</h3><p class="text-slate-600 font-medium">Ø§ÛŒÙ† Ú©Ø§Ø±Ø¨Ø± Ù‡Ù†ÙˆØ² Ú©ÛŒÙ Ù¾ÙˆÙ„ ÙØ¹Ø§Ù„ Ù†Ø¯Ø§Ø±Ø¯');const d2=()=>{const[r,e]=Q([]),[t,s]=Q(null),[l,n]=Q(null),[i,a]=Q(null),[c,d]=Q(!1),[g,m]=Q(""),[h,p]=Q(""),[y,$]=Q(""),w=async()=>{try{const A=await Nt.getAll();e(A.data||[])}catch(A){console.error(A),p("Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ú©Ø§Ø±Ø¨Ø±Ø§Ù†")}},S=async A=>{d(!0),p("");try{const O=await us.adminGetById(A);a(O.data||null);const F=r().find(U=>(U.ID||U.id)===A);n(F||null)}catch(O){console.error(O),a(null),p("Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ú©ÛŒÙ Ù¾ÙˆÙ„")}finally{d(!1)}},E=async()=>{const A=t(),O=Number(g());if(p(""),$(""),!A){p("Ù„Ø·ÙØ§ Ú©Ø§Ø±Ø¨Ø± Ø±Ø§ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯");return}if(!O||O<=0){p("Ù…Ù‚Ø¯Ø§Ø± Ø¨Ø§ÛŒØ¯ Ø¨ÛŒØ´ØªØ± Ø§Ø² ØµÙØ± Ø¨Ø§Ø´Ø¯");return}try{await us.adminAddBalance(A,O),$(`âœ“ Ù…ÙˆØ¬ÙˆØ¯ÛŒ ${O.toLocaleString()} ØªÙˆÙ…Ø§Ù† Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø§ÙØ²ÙˆØ¯Ù‡ Ø´Ø¯`),m(""),setTimeout(()=>$(""),3e3),await S(A)}catch(F){console.error(F);const U=F?.message||"Ø®Ø·Ø§ Ø¯Ø± Ø§ÙØ²ÙˆØ¯Ù† Ù…ÙˆØ¬ÙˆØ¯ÛŒ";p(`âœ— ${U}`)}};return Zt(w),(()=>{var A=i2(),O=A.firstChild,F=O.firstChild,U=F.nextSibling,M=U.firstChild,L=M.firstChild,z=L.firstChild,ie=z.nextSibling;ie.firstChild;var b=M.nextSibling;return u(O,_(ne,{get when(){return h()},get children(){var C=t2(),x=C.firstChild,R=x.nextSibling,T=R.nextSibling;return u(R,h),T.$$click=()=>p(""),C}}),U),u(O,_(ne,{get when(){return y()},get children(){var C=r2(),x=C.firstChild,R=x.nextSibling,T=R.nextSibling;return u(R,y),T.$$click=()=>$(""),C}}),U),ie.$$input=C=>{const x=C.currentTarget.value?Number(C.currentTarget.value):null;s(x),x&&S(x)},u(ie,_(ke,{get each(){return r()},children:C=>(()=>{var x=a2(),R=x.firstChild;return u(x,()=>C.Username??C.username,R),u(x,()=>C.Email??C.email,null),G(()=>x.value=C.ID??C.id),x})()}),null),u(M,_(ne,{get when(){return t()},get children(){var C=s2(),x=C.firstChild,R=x.nextSibling,T=R.firstChild,I=T.firstChild,D=I.nextSibling,P=D.nextSibling,B=P.firstChild,q=B.nextSibling,Z=q.firstChild,W=T.nextSibling;return D.$$input=k=>m(k.currentTarget.value),u(q,()=>Number(i()?.Balance??i()?.balance??0).toLocaleString(),Z),W.$$click=E,G(()=>W.disabled=!g()||Number(g())<=0),G(()=>D.value=g()),C}}),null),u(b,_(ne,{get when(){return Ne(()=>!c())()&&t()},get fallback(){return _(ne,{get when(){return c()},get children(){return o2()}})},get children(){return _(ne,{get when(){return i()},get fallback(){return c2()},get children(){var C=n2(),x=C.firstChild,R=x.firstChild,T=R.nextSibling,I=T.firstChild,D=I.nextSibling,P=D.firstChild,B=D.nextSibling,q=B.firstChild;q.firstChild;var Z=q.nextSibling;Z.firstChild;var W=x.nextSibling,k=W.firstChild,K=k.firstChild,j=K.nextSibling,ee=k.nextSibling,te=ee.firstChild,J=te.nextSibling,ge=ee.nextSibling,oe=ge.firstChild,X=oe.nextSibling,le=ge.nextSibling,se=le.firstChild,me=se.nextSibling;return u(C,_(ne,{get when(){return l()},get children(){var ve=l2(),Pe=ve.firstChild,De=Pe.firstChild,Y=De.nextSibling,H=Y.firstChild,ae=H.nextSibling,fe=ae.nextSibling;return u(De,()=>l()?.Username?.[0]?.toUpperCase()||l()?.username?.[0]?.toUpperCase()||"ğŸ‘¤"),u(ae,()=>l()?.Username||l()?.username),u(fe,()=>l()?.Email||l()?.email),ve}}),x),u(P,()=>Number(i()?.Balance??i()?.balance??0).toLocaleString()),u(q,()=>i()?.Currency??i()?.currency??"TRY",null),u(Z,()=>i()?.ID??i()?.id,null),u(j,()=>i()?.ID??i()?.id),u(J,()=>i()?.UserID??i()?.user_id),u(X,(()=>{var ve=Ne(()=>!!i()?.CreatedAt);return()=>ve()?new Date(i().CreatedAt).toLocaleString("fa-IR"):Ne(()=>!!i()?.created_at)()?new Date(i().created_at).toLocaleString("fa-IR"):"â€”"})()),u(me,(()=>{var ve=Ne(()=>!!i()?.UpdatedAt);return()=>ve()?new Date(i().UpdatedAt).toLocaleString("fa-IR"):Ne(()=>!!i()?.updated_at)()?new Date(i().updated_at).toLocaleString("fa-IR"):"â€”"})()),C}})}})),G(()=>ie.value=t()??""),A})()};gt(["click","input"]);var u2=v('<div><section class="bg-white p-4 rounded shadow mb-4"><h3 class="font-semibold mb-2">Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ù¾Ø§ÛŒÙ‡</h3><div class="grid grid-cols-1 gap-3 max-w-xl"><label class=text-sm>Ù†Ø§Ù… Ú©Ø§Ø±Ø¨Ø±ÛŒ<input class="border rounded px-2 py-1 w-full"></label><label class=text-sm>Ø§ÛŒÙ…ÛŒÙ„<input class="border rounded px-2 py-1 w-full"></label><label class=text-sm>Ø´Ù…Ø§Ø±Ù‡ ØªÙ„ÙÙ†<input class="border rounded px-2 py-1 w-full"></label><label class=text-sm>Ø±Ù…Ø² Ø¬Ø¯ÛŒØ¯ (Ø®Ø§Ù„ÛŒ Ø¨Ú¯Ø°Ø§Ø±ÛŒØ¯ Ø§Ú¯Ø± Ù†Ù…ÛŒâ€ŒØ®ÙˆØ§Ù‡ÛŒØ¯ ØªØºÛŒÛŒØ± Ø¯Ù‡ÛŒØ¯)<input type=password class="border rounded px-2 py-1 w-full"></label><div class="flex gap-2 justify-end"><button class="btn btn-primary">Ø°Ø®ÛŒØ±Ù‡</button></div></div></section><section class="bg-white p-4 rounded shadow mb-4"><div class="flex items-center justify-between"><h3 class="font-semibold mb-2">Ù†Ù‚Ø´â€ŒÙ‡Ø§</h3></div><div class="flex gap-2 items-center mt-2"><select class="border rounded px-2 py-1"><option value>Ø§Ù†ØªØ®Ø§Ø¨ Ù†Ù‚Ø´...</option></select><button class="btn btn-sm btn-primary">Ø§ÙØ²ÙˆØ¯Ù† Ù†Ù‚Ø´</button></div><div class=mt-4><div class="text-sm text-slate-600 mb-2">Ù†Ù‚Ø´â€ŒÙ‡Ø§ÛŒ Ú©Ø§Ø±Ø¨Ø±</div><div class="bg-white border rounded"><table class=min-w-full><thead class=bg-slate-50><tr><th class="px-4 py-2 text-right">Ù†Ø§Ù… Ù†Ù‚Ø´</th><th class="px-4 py-2 text-right">ØªÙˆØ¶ÛŒØ­Ø§Øª</th><th class="px-4 py-2 text-right">Ø¹Ù…Ù„ÛŒØ§Øª</th></tr></thead><tbody></tbody></table></div></div></section><section class="bg-white p-4 rounded shadow mb-4"><h3 class="font-semibold mb-2">Ø¯Ø³ØªØ±Ø³ÛŒâ€ŒÙ‡Ø§</h3><div class="flex gap-2 flex-wrap"></div></section><section class="bg-white p-4 rounded shadow mb-4"><h3 class="font-semibold mb-2">Ú©ÛŒÙ Ù¾ÙˆÙ„</h3><div>Ù…ÙˆØ¬ÙˆØ¯ÛŒ: </div><div class=mt-2><button class="btn btn-sm">Ø§ÙØ²Ø§ÛŒØ´ Ù…ÙˆØ¬ÙˆØ¯ÛŒ</button></div></section><section class="bg-white p-4 rounded shadow mb-4"><h3 class="font-semibold mb-2">Ø³ÙØ§Ø±Ø´â€ŒÙ‡Ø§'),h2=v('<div class=p-6 dir=rtl><div class="flex items-center justify-between mb-4"><div><h2 class="text-2xl font-semibold">Ø¬Ø²Ø¦ÛŒØ§Øª Ú©Ø§Ø±Ø¨Ø±'),f2=v("<div>Ø¯Ø± Ø­Ø§Ù„ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ..."),g2=v("<div>Ú©Ø§Ø±Ø¨Ø± Ù¾ÛŒØ¯Ø§ Ù†Ø´Ø¯"),p2=v("<option>"),b2=v('<tr class=border-t><td class="px-4 py-2 text-right"></td><td class="px-4 py-2 text-right"></td><td class="px-4 py-2 text-right"><button class="btn btn-sm btn-danger">Ø­Ø°Ù'),m2=v('<span class="px-2 py-1 bg-slate-50 rounded">'),x2=v('<div class="border rounded p-2 mb-2"><div>Ø³ÙØ§Ø±Ø´ #</div><div>ÙˆØ¶Ø¹ÛŒØª: </div><div>Ù…Ø¨Ù„Øº: ');const v2=()=>{const r=Mo(),e=Number(r.id),[t,s]=Q(null),[l,n]=Q([]),[i,a]=Q(null),[c,d]=Q([]),[g,m]=Q(null),[h,p]=Q(!0),y=async()=>{p(!0);try{const[A,O,F]=await Promise.all([Nt.getById(e),ht.roles.getAll(),ds.adminGetAll()]),U=A.data||null;s(U),n(O.data||[]);const M=F.data||[];d(M.filter(L=>(L.User?.ID??L.user_id??L.user?.id)===(A.data?.ID??A.data?.id)));try{const L=await us.adminGetById(e);m(L.data||null)}catch{m(null)}}catch(A){console.error(A)}finally{p(!1)}};Zt(y);const $=async()=>{const A=t();if(!A)return;const O=A.ID??A.id,F=i();if(!F)return alert("Ø§Ø¨ØªØ¯Ø§ Ù†Ù‚Ø´ Ø±Ø§ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯");try{await Nt.addRole(O,F),a(null),await y(),alert("Ù†Ù‚Ø´ Ø§Ø¶Ø§ÙÙ‡ Ø´Ø¯")}catch(U){console.error(U),alert("Ø®Ø·Ø§ Ø¯Ø± Ø§ÙØ²ÙˆØ¯Ù† Ù†Ù‚Ø´")}},w=async A=>{const O=t();if(!O)return;const F=O.ID??O.id;try{await Nt.removeRole(F,A),await y(),alert("Ù†Ù‚Ø´ Ø­Ø°Ù Ø´Ø¯")}catch(U){console.error(U),alert("Ø®Ø·Ø§ Ø¯Ø± Ø­Ø°Ù Ù†Ù‚Ø´")}},S=async()=>{const A=t();if(!A)return;const O=A.ID??A.id,F={username:A.Username??A.username,email:A.Email??A.email,phone:A.phone??A.Phone};A.password&&(F.password=A.password);try{await Nt.update(O,F),await y(),alert("Ø°Ø®ÛŒØ±Ù‡ Ø´Ø¯")}catch(U){console.error(U),alert("Ø®Ø·Ø§ Ø¯Ø± Ø°Ø®ÛŒØ±Ù‡â€ŒØ³Ø§Ø²ÛŒ")}},E=async()=>{const A=prompt("Ù…Ù‚Ø¯Ø§Ø± Ø¨Ø±Ø§ÛŒ Ø§ÙØ²ÙˆØ¯Ù† Ø¨Ù‡ Ú©ÛŒÙ Ù¾ÙˆÙ„:");if(!A)return;const O=Number(A);if(!O)return alert("Ù…Ù‚Ø¯Ø§Ø± Ù…Ø¹ØªØ¨Ø± Ù†ÛŒØ³Øª");try{await us.adminAddBalance(e,O),await y(),alert("Ø§ÙØ²Ø§ÛŒØ´ ÛŒØ§ÙØª")}catch(F){console.error(F),alert("Ø®Ø·Ø§ Ø¯Ø± Ø§ÙØ²ÙˆØ¯Ù† Ù…ÙˆØ¬ÙˆØ¯ÛŒ")}};return(()=>{var A=h2(),O=A.firstChild,F=O.firstChild,U=F.firstChild;return u(F,_(We,{href:"/admin/users",class:"text-sm text-slate-500",children:"Ø¨Ø§Ø²Ú¯Ø´Øª"}),U),u(A,_(ne,{get when(){return!h()},get fallback(){return f2()},get children(){return _(ne,{get when(){return t()},get fallback(){return g2()},get children(){var M=u2(),L=M.firstChild,z=L.firstChild,ie=z.nextSibling,b=ie.firstChild,C=b.firstChild,x=C.nextSibling,R=b.nextSibling,T=R.firstChild,I=T.nextSibling,D=R.nextSibling,P=D.firstChild,B=P.nextSibling,q=D.nextSibling,Z=q.firstChild,W=Z.nextSibling,k=q.nextSibling,K=k.firstChild,j=L.nextSibling,ee=j.firstChild,te=ee.nextSibling,J=te.firstChild;J.firstChild;var ge=J.nextSibling,oe=te.nextSibling,X=oe.firstChild,le=X.nextSibling,se=le.firstChild,me=se.firstChild,ve=me.nextSibling,Pe=j.nextSibling,De=Pe.firstChild,Y=De.nextSibling,H=Pe.nextSibling,ae=H.firstChild,fe=ae.nextSibling;fe.firstChild;var he=fe.nextSibling,Ie=he.firstChild,pe=H.nextSibling;return pe.firstChild,x.$$input=de=>s({...t(),Username:de.currentTarget.value,username:de.currentTarget.value}),I.$$input=de=>s({...t(),Email:de.currentTarget.value,email:de.currentTarget.value}),B.$$input=de=>s({...t(),phone:de.currentTarget.value}),W.$$input=de=>s({...t(),password:de.currentTarget.value}),K.$$click=S,J.$$input=de=>a(Number(de.currentTarget.value)||null),u(J,_(ke,{get each(){return l()},children:de=>(()=>{var we=p2();return u(we,()=>de.Name??de.name),G(()=>we.value=Number(de.ID??de.id)),we})()}),null),ge.$$click=$,u(ve,_(ke,{get each(){return t()?.Roles||[]},children:de=>{const we=Number(de.ID??de.id);return(()=>{var Re=b2(),Ge=Re.firstChild,Ke=Ge.nextSibling,Be=Ke.nextSibling,Ze=Be.firstChild;return u(Ge,()=>de.Name??de.name),u(Ke,()=>de.Description??de.description??""),Ze.$$click=()=>{confirm("Ø¢ÛŒØ§ Ø§Ø² Ø­Ø°Ù Ø§ÛŒÙ† Ù†Ù‚Ø´ Ù…Ø·Ù…Ø¦Ù† Ù‡Ø³ØªÛŒØ¯ØŸ")&&w(we)},Re})()}})),u(Y,()=>Array.from(new Set((t()?.Roles||[]).flatMap(de=>(de.Permissions||[]).map(we=>we.Name??we.name)))).map(de=>(()=>{var we=m2();return u(we,de),we})())),u(fe,()=>g()?.Balance??g()?.balance??"â€”",null),Ie.$$click=E,u(pe,_(ke,{get each(){return c()},children:de=>(()=>{var we=x2(),Re=we.firstChild;Re.firstChild;var Ge=Re.nextSibling;Ge.firstChild;var Ke=Ge.nextSibling;return Ke.firstChild,u(Re,()=>de.ID??de.id,null),u(Ge,()=>de.Status??de.status,null),u(Ke,()=>de.Total??de.total,null),u(we,_(We,{get href(){return`/admin/orders/${de.ID??de.id}`},class:"text-sm text-blue-600",children:"Ø¬Ø²ÛŒÛŒØ§Øª Ø³ÙØ§Ø±Ø´"}),null),we})()}),null),G(()=>x.value=t()?.Username??t()?.username??""),G(()=>I.value=t()?.Email??t()?.email??""),G(()=>B.value=t()?.phone??t()?.Phone??""),G(()=>J.value=i()??""),M}})}}),null),A})()};gt(["input","click"]);var y2=v('<div class="grid gap-6 md:grid-cols-2 lg:grid-cols-3">'),$2=v('<div class="fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4"><div class="bg-white rounded-2xl shadow-2xl max-w-md w-full"><div class="bg-linear-to-r from-red-600 via-red-700 to-red-800 text-white p-6 rounded-t-2xl border-b-4 border-red-900"><h2 class="text-2xl font-bold flex items-center gap-2"><span>â•</span><span>Ø¨Ø±Ù†Ø¯ Ø¬Ø¯ÛŒØ¯</span></h2><p class="text-red-100 text-sm mt-1">ÙØ±Ù… Ø§ÛŒØ¬Ø§Ø¯ Ø¨Ø±Ù†Ø¯ Ø¬Ø¯ÛŒØ¯</p></div><div class="p-6 space-y-4"><div><label class="flex text-xs font-bold text-slate-700 mb-2 items-center gap-2"><span>ğŸ“</span>Ù†Ø§Ù… Ø¨Ø±Ù†Ø¯ *</label><input placeholder="Ù†Ø§Ù… Ø¨Ø±Ù†Ø¯"class="w-full px-4 py-3 border-2 border-slate-200 rounded-lg focus:outline-none focus:border-red-500 focus:ring-2 focus:ring-red-200 transition-all"></div><div><label class="flex text-xs font-bold text-slate-700 mb-2 items-center gap-2"><span>ğŸ“‹</span>ØªÙˆØ¶ÛŒØ­Ø§Øª</label><textarea placeholder="ØªÙˆØ¶ÛŒØ­Ø§Øª Ø¨Ø±Ù†Ø¯..."rows=3 class="w-full px-4 py-3 border-2 border-slate-200 rounded-lg focus:outline-none focus:border-red-500 focus:ring-2 focus:ring-red-200 transition-all resize-none"></textarea></div><div><label class="flex text-xs font-bold text-slate-700 mb-2 items-center gap-2"><span>ğŸ–¼ï¸</span>Ù„ÛŒÙ†Ú© Ù„ÙˆÚ¯Ùˆ</label><input placeholder=https://... class="w-full px-4 py-3 border-2 border-slate-200 rounded-lg focus:outline-none focus:border-red-500 focus:ring-2 focus:ring-red-200 transition-all"></div></div><div class="sticky bottom-0 bg-linear-to-r from-slate-900 to-slate-800 border-t-4 border-red-600 p-4 flex gap-3 rounded-b-2xl"><button class="flex-1 px-6 py-3 bg-linear-to-r from-red-500 to-red-600 text-white rounded-lg hover:shadow-lg transition-all hover:scale-105 font-bold flex items-center justify-center gap-2"><span>âœ…</span><span>Ø§ÛŒØ¬Ø§Ø¯</span></button><button class="flex-1 px-6 py-3 bg-slate-700 text-white rounded-lg hover:bg-slate-600 transition-all font-bold flex items-center justify-center gap-2"><span>âŒ</span><span>Ø§Ù†ØµØ±Ø§Ù'),w2=v('<div class="fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4"><div class="bg-white rounded-2xl shadow-2xl max-w-md w-full"><div class="bg-linear-to-r from-red-600 via-red-700 to-red-800 text-white p-6 rounded-t-2xl border-b-4 border-red-900"><h2 class="text-2xl font-bold flex items-center gap-2"><span>âœï¸</span><span>ÙˆÛŒØ±Ø§ÛŒØ´ Ø¨Ø±Ù†Ø¯</span></h2><p class="text-red-100 text-sm mt-1">ÙˆÛŒØ±Ø§ÛŒØ´ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø¨Ø±Ù†Ø¯</p></div><div class="p-6 space-y-4"><div><label class="flex text-xs font-bold text-slate-700 mb-2 items-center gap-2"><span>ğŸ“</span>Ù†Ø§Ù… Ø¨Ø±Ù†Ø¯ *</label><input placeholder="Ù†Ø§Ù… Ø¨Ø±Ù†Ø¯"class="w-full px-4 py-3 border-2 border-slate-200 rounded-lg focus:outline-none focus:border-red-500 focus:ring-2 focus:ring-red-200 transition-all"></div><div><label class="flex text-xs font-bold text-slate-700 mb-2 items-center gap-2"><span>ğŸ“‹</span>ØªÙˆØ¶ÛŒØ­Ø§Øª</label><textarea placeholder="ØªÙˆØ¶ÛŒØ­Ø§Øª Ø¨Ø±Ù†Ø¯..."rows=3 class="w-full px-4 py-3 border-2 border-slate-200 rounded-lg focus:outline-none focus:border-red-500 focus:ring-2 focus:ring-red-200 transition-all resize-none"></textarea></div><div><label class="flex text-xs font-bold text-slate-700 mb-2 items-center gap-2"><span>ğŸ–¼ï¸</span>Ù„ÛŒÙ†Ú© Ù„ÙˆÚ¯Ùˆ</label><input placeholder=https://... class="w-full px-4 py-3 border-2 border-slate-200 rounded-lg focus:outline-none focus:border-red-500 focus:ring-2 focus:ring-red-200 transition-all"></div></div><div class="sticky bottom-0 bg-linear-to-r from-slate-900 to-slate-800 border-t-4 border-red-600 p-4 flex gap-3 rounded-b-2xl"><button class="flex-1 px-6 py-3 bg-linear-to-r from-red-500 to-red-600 text-white rounded-lg hover:shadow-lg transition-all hover:scale-105 font-bold flex items-center justify-center gap-2"><span>ğŸ’¾</span><span>Ø°Ø®ÛŒØ±Ù‡</span></button><button class="flex-1 px-6 py-3 bg-slate-700 text-white rounded-lg hover:bg-slate-600 transition-all font-bold flex items-center justify-center gap-2"><span>âŒ</span><span>Ø§Ù†ØµØ±Ø§Ù'),_2=v('<div class="min-h-screen bg-linear-to-br from-slate-50 via-red-50 to-rose-50"><div class="max-w-7xl mx-auto px-4 py-8"><div class="sticky top-0 z-10 bg-linear-to-r from-red-600 via-red-700 to-red-800 text-white p-8 rounded-2xl border-b-4 border-red-900 mb-8 shadow-lg"><div class="flex items-center justify-between"><div><h1 class="text-4xl font-bold flex items-center gap-3"><span class=text-3xl>ğŸ·ï¸</span>Ù…Ø¯ÛŒØ±ÛŒØª Ø¨Ø±Ù†Ø¯Ù‡Ø§</h1><p class="text-red-100 mt-2">Ø§ÛŒØ¬Ø§Ø¯ Ùˆ Ù…Ø¯ÛŒØ±ÛŒØª Ø¨Ø±Ù†Ø¯Ù‡Ø§ Ùˆ Ù„ÙˆÚ¯ÙˆÙ‡Ø§ÛŒ Ø³ÛŒØ³ØªÙ…</p></div><button class="px-8 py-4 bg-linear-to-r from-green-500 to-green-600 text-white rounded-xl hover:shadow-2xl hover:scale-105 transition-all font-bold text-lg flex items-center gap-2"><span>â•</span><span>Ø¨Ø±Ù†Ø¯ Ø¬Ø¯ÛŒØ¯'),S2=v('<div class="flex items-center justify-center py-12"><div class=text-center><div class="text-5xl mb-4 animate-spin">â³</div><div class="text-lg text-slate-600">Ø¯Ø± Ø­Ø§Ù„ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ø¨Ø±Ù†Ø¯Ù‡Ø§...'),C2=v('<div class="bg-white rounded-2xl shadow-sm border-2 border-slate-200 p-12 text-center"><div class="text-6xl mb-4">ğŸ·ï¸</div><h3 class="text-2xl font-bold text-slate-800 mb-2">Ø¨Ø±Ù†Ø¯ÛŒ ÛŒØ§ÙØª Ù†Ø´Ø¯</h3><p class="text-slate-600 mb-6">Ù‡Ù†ÙˆØ² Ø¨Ø±Ù†Ø¯ÛŒ Ø§ÛŒØ¬Ø§Ø¯ Ù†Ø´Ø¯Ù‡ Ø§Ø³Øª</p><button class="px-6 py-3 bg-linear-to-r from-red-500 to-red-600 text-white rounded-lg hover:shadow-lg transition-all font-bold">Ø§ÛŒØ¬Ø§Ø¯ Ø§ÙˆÙ„ÛŒÙ† Ø¨Ø±Ù†Ø¯'),A2=v('<img class="h-20 w-20 rounded-xl object-cover border-2 border-slate-200 group-hover:border-red-300 transition-colors">'),k2=v('<p class="text-sm text-slate-600 line-clamp-1 mt-1">'),E2=v('<div class="rounded-2xl border-2 border-slate-200 bg-white hover:border-red-300 shadow-sm hover:shadow-lg transition-all p-6 space-y-4 group"><div class="flex items-center gap-4 pb-4 border-b border-slate-200"><div class=flex-1><p class="font-bold text-lg text-slate-900"></p></div></div><div class="flex gap-3"><button class="flex-1 px-4 py-3 bg-linear-to-r from-red-500 to-red-600 text-white rounded-lg hover:shadow-lg transition-all hover:scale-105 font-bold flex items-center justify-center gap-2 text-sm"><span>âœï¸</span><span>ÙˆÛŒØ±Ø§ÛŒØ´</span></button><button class="px-4 py-3 bg-red-50 border border-red-200 text-red-600 rounded-lg hover:bg-red-100 hover:border-red-300 transition-all font-bold hover:scale-105"><span>ğŸ—‘ï¸'),N2=v('<div class="h-20 w-20 bg-linear-to-br from-slate-200 to-slate-300 rounded-xl flex items-center justify-center text-2xl">ğŸ¢');const T2=()=>{const[r,e]=Q([]),[t,s]=Q(!1),[l,n]=Q(!1),[i,a]=Q(!1),[c,d]=Q({name:"",description:"",logo:""}),[g,m]=Q(null),h=async()=>{s(!0);try{const S=await os.getAll(),E=Array.isArray(S.data)?S.data:S.data?.items??[];e(E)}catch(S){console.error(S);const E=S?.message||"Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ø¨Ø±Ù†Ø¯Ù‡Ø§",A=S?.status;alert(`Ø®Ø·Ø§: ${E}${A?` (HTTP ${A})`:""}`)}finally{s(!1)}};Zt(h);const p=async()=>{const S=c();if(!S.name.trim())return alert("Ù†Ø§Ù… Ø¨Ø±Ù†Ø¯ Ø§Ù„Ø²Ø§Ù…ÛŒ Ø§Ø³Øª");try{await os.create(S),d({name:"",description:"",logo:""}),n(!1),await h(),alert("Ø¨Ø±Ù†Ø¯ Ø§ÛŒØ¬Ø§Ø¯ Ø´Ø¯")}catch(E){console.error(E);const A=E?.message||"Ø®Ø·Ø§ Ø¯Ø± Ø§ÛŒØ¬Ø§Ø¯ Ø¨Ø±Ù†Ø¯",O=E?.status;alert(`Ø®Ø·Ø§: ${A}${O?` (HTTP ${O})`:""}`)}},y=S=>{m(S),d({name:S.name,description:S.description||"",logo:S.logo||""}),a(!0)},$=async()=>{if(!g())return;const S=g(),E=S.id||S.ID;if(!E){alert("Ø®Ø·Ø§: Ø´Ù†Ø§Ø³Ù‡ Ø¨Ø±Ù†Ø¯ ÛŒØ§ÙØª Ù†Ø´Ø¯");return}const A=c();try{await os.update(E,A),a(!1),m(null),await h(),alert("Ø¨Ø±Ù†Ø¯ Ø¨Ø±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ø´Ø¯")}catch(O){console.error(O);const F=O?.message||"Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ø¨Ø±Ù†Ø¯",U=O?.status;alert(`Ø®Ø·Ø§: ${F}${U?` (HTTP ${U})`:""}`)}},w=async S=>{if(!S){alert("Ø®Ø·Ø§: Ø´Ù†Ø§Ø³Ù‡ Ø¨Ø±Ù†Ø¯ ÛŒØ§ÙØª Ù†Ø´Ø¯");return}if(confirm("Ø­Ø°Ù Ø¨Ø±Ù†Ø¯ØŸ"))try{await os.delete(S),await h(),alert("Ø¨Ø±Ù†Ø¯ Ø­Ø°Ù Ø´Ø¯")}catch(E){console.error(E);const A=E?.message||"Ø®Ø·Ø§ Ø¯Ø± Ø­Ø°Ù Ø¨Ø±Ù†Ø¯",O=E?.status;alert(`Ø®Ø·Ø§: ${A}${O?` (HTTP ${O})`:""}`)}};return(()=>{var S=_2(),E=S.firstChild,A=E.firstChild,O=A.firstChild,F=O.firstChild,U=F.nextSibling;return U.$$click=()=>n(!0),u(E,_(ne,{get when(){return!t()},get fallback(){return S2()},get children(){return _(ne,{get when(){return r().length>0},get fallback(){return(()=>{var M=C2(),L=M.firstChild,z=L.nextSibling,ie=z.nextSibling,b=ie.nextSibling;return b.$$click=()=>n(!0),M})()},get children(){var M=y2();return u(M,_(ke,{get each(){return r()},children:L=>(()=>{var z=E2(),ie=z.firstChild,b=ie.firstChild,C=b.firstChild,x=ie.nextSibling,R=x.firstChild,T=R.nextSibling;return u(ie,_(ne,{get when(){return L.logo},get fallback(){return N2()},get children(){var I=A2();return G(D=>{var P=L.logo,B=L.name;return P!==D.e&&Le(I,"src",D.e=P),B!==D.t&&Le(I,"alt",D.t=B),D},{e:void 0,t:void 0}),I}}),b),u(C,()=>L.name),u(b,_(ne,{get when(){return L.description},get children(){var I=k2();return u(I,()=>L.description),I}}),null),R.$$click=()=>y(L),T.$$click=()=>w(L.id||L.ID),z})()})),M}})}}),null),u(S,_(ne,{get when(){return l()},get children(){var M=$2(),L=M.firstChild,z=L.firstChild,ie=z.nextSibling,b=ie.firstChild,C=b.firstChild,x=C.nextSibling,R=b.nextSibling,T=R.firstChild,I=T.nextSibling,D=R.nextSibling,P=D.firstChild,B=P.nextSibling,q=ie.nextSibling,Z=q.firstChild,W=Z.nextSibling;return x.$$input=k=>d({...c(),name:k.currentTarget.value}),I.$$input=k=>d({...c(),description:k.currentTarget.value}),B.$$input=k=>d({...c(),logo:k.currentTarget.value}),Z.$$click=p,W.$$click=()=>n(!1),G(()=>x.value=c().name),G(()=>I.value=c().description),G(()=>B.value=c().logo),M}}),null),u(S,_(ne,{get when(){return i()},get children(){var M=w2(),L=M.firstChild,z=L.firstChild,ie=z.nextSibling,b=ie.firstChild,C=b.firstChild,x=C.nextSibling,R=b.nextSibling,T=R.firstChild,I=T.nextSibling,D=R.nextSibling,P=D.firstChild,B=P.nextSibling,q=ie.nextSibling,Z=q.firstChild,W=Z.nextSibling;return x.$$input=k=>d({...c(),name:k.currentTarget.value}),I.$$input=k=>d({...c(),description:k.currentTarget.value}),B.$$input=k=>d({...c(),logo:k.currentTarget.value}),Z.$$click=$,W.$$click=()=>{a(!1),m(null)},G(()=>x.value=c().name),G(()=>I.value=c().description),G(()=>B.value=c().logo),M}}),null),S})()};gt(["click","input"]);var I2=v('<div class="flex min-h-[360px] items-center justify-center text-slate-500">ØµÙØ­Ù‡ Ù…ÙˆØ±Ø¯ Ù†Ø¸Ø± ÛŒØ§ÙØª Ù†Ø´Ø¯.');const L2=document.getElementById("root"),bl=r=>()=>_(nf,{get children(){return _(r,{})}}),O2=()=>I2();Cd(()=>_(cu,{root:uh,get children(){return[_(St,{path:"/",component:Vh}),_(St,{path:"/products",get component(){return bl(Tf)}}),_(St,{path:"/products/:id",get component(){return bl(hg)}}),_(St,{path:"/orders",get component(){return bl(_g)}}),_(St,{path:"/wallet",get component(){return bl(Tg)}}),_(St,{path:"/profile",get component(){return bl(Mg)}}),_(St,{path:"/admin",component:()=>_(ir,{get children(){return _(Hg,{})}})}),_(St,{path:"/admin/users",component:()=>_(ir,{get children(){return _(gp,{})}})}),_(St,{path:"/admin/roles",component:()=>_(ir,{get children(){return _(jp,{})}})}),_(St,{path:"/admin/permissions",component:()=>_(ir,{get children(){return _(Gp,{})}})}),_(St,{path:"/admin/products",component:()=>_(ir,{get children(){return _(B$,{})}})}),_(St,{path:"/admin/groups",component:()=>_(ir,{get children(){return _(Ap,{})}})}),_(St,{path:"/admin/categories",component:()=>_(ir,{get children(){return _(K$,{})}})}),_(St,{path:"/admin/brands",component:()=>_(ir,{get children(){return _(T2,{})}})}),_(St,{path:"/admin/orders",component:()=>_(ir,{get children(){return _(e2,{})}})}),_(St,{path:"/admin/wallets",component:()=>_(ir,{get children(){return _(d2,{})}})}),_(St,{path:"/admin/users/:id",component:()=>_(ir,{get children(){return _(v2,{})}})}),_(St,{path:"/login",component:sf}),_(St,{path:"*",component:O2})]}}),L2)});export default q2();
